(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Gp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bd={exports:{}},Kr={},Bd={exports:{}},O={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=Symbol.for("react.element"),qp=Symbol.for("react.portal"),zp=Symbol.for("react.fragment"),Hp=Symbol.for("react.strict_mode"),bp=Symbol.for("react.profiler"),Bp=Symbol.for("react.provider"),Jp=Symbol.for("react.context"),$p=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Wp=Symbol.for("react.memo"),Yp=Symbol.for("react.lazy"),Zl=Symbol.iterator;function Kp(t){return t===null||typeof t!="object"?null:(t=Zl&&t[Zl]||t["@@iterator"],typeof t=="function"?t:null)}var Jd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$d=Object.assign,Od={};function qn(t,e,n){this.props=t,this.context=e,this.refs=Od,this.updater=n||Jd}qn.prototype.isReactComponent={};qn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wd(){}Wd.prototype=qn.prototype;function Ks(t,e,n){this.props=t,this.context=e,this.refs=Od,this.updater=n||Jd}var Qs=Ks.prototype=new Wd;Qs.constructor=Ks;$d(Qs,qn.prototype);Qs.isPureReactComponent=!0;var jl=Array.isArray,Yd=Object.prototype.hasOwnProperty,Xs={current:null},Kd={key:!0,ref:!0,__self:!0,__source:!0};function Qd(t,e,n){var o,r={},i=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)Yd.call(e,o)&&!Kd.hasOwnProperty(o)&&(r[o]=e[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var d=Array(u),c=0;c<u;c++)d[c]=arguments[c+2];r.children=d}if(t&&t.defaultProps)for(o in u=t.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:Vo,type:t,key:i,ref:l,props:r,_owner:Xs.current}}function Qp(t,e){return{$$typeof:Vo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zs(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vo}function Xp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ea=/\/+/g;function gi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xp(""+t.key):e.toString(36)}function sr(t,e,n,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Vo:case qp:l=!0}}if(l)return l=t,r=r(l),t=o===""?"."+gi(l,0):o,jl(r)?(n="",t!=null&&(n=t.replace(ea,"$&/")+"/"),sr(r,e,n,"",function(c){return c})):r!=null&&(Zs(r)&&(r=Qp(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(ea,"$&/")+"/")+t)),e.push(r)),1;if(l=0,o=o===""?".":o+":",jl(t))for(var u=0;u<t.length;u++){i=t[u];var d=o+gi(i,u);l+=sr(i,e,n,d,r)}else if(d=Kp(t),typeof d=="function")for(t=d.call(t),u=0;!(i=t.next()).done;)i=i.value,d=o+gi(i,u++),l+=sr(i,e,n,d,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function bo(t,e,n){if(t==null)return t;var o=[],r=0;return sr(t,o,"","",function(i){return e.call(n,i,r++)}),o}function Zp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ne={current:null},lr={transition:null},jp={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:lr,ReactCurrentOwner:Xs};function Xd(){throw Error("act(...) is not supported in production builds of React.")}O.Children={map:bo,forEach:function(t,e,n){bo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bo(t,function(){e++}),e},toArray:function(t){return bo(t,function(e){return e})||[]},only:function(t){if(!Zs(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};O.Component=qn;O.Fragment=zp;O.Profiler=bp;O.PureComponent=Ks;O.StrictMode=Hp;O.Suspense=Op;O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jp;O.act=Xd;O.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=$d({},t.props),r=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=Xs.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)Yd.call(e,d)&&!Kd.hasOwnProperty(d)&&(o[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){u=Array(d);for(var c=0;c<d;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:Vo,type:t.type,key:r,ref:i,props:o,_owner:l}};O.createContext=function(t){return t={$$typeof:Jp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Bp,_context:t},t.Consumer=t};O.createElement=Qd;O.createFactory=function(t){var e=Qd.bind(null,t);return e.type=t,e};O.createRef=function(){return{current:null}};O.forwardRef=function(t){return{$$typeof:$p,render:t}};O.isValidElement=Zs;O.lazy=function(t){return{$$typeof:Yp,_payload:{_status:-1,_result:t},_init:Zp}};O.memo=function(t,e){return{$$typeof:Wp,type:t,compare:e===void 0?null:e}};O.startTransition=function(t){var e=lr.transition;lr.transition={};try{t()}finally{lr.transition=e}};O.unstable_act=Xd;O.useCallback=function(t,e){return Ne.current.useCallback(t,e)};O.useContext=function(t){return Ne.current.useContext(t)};O.useDebugValue=function(){};O.useDeferredValue=function(t){return Ne.current.useDeferredValue(t)};O.useEffect=function(t,e){return Ne.current.useEffect(t,e)};O.useId=function(){return Ne.current.useId()};O.useImperativeHandle=function(t,e,n){return Ne.current.useImperativeHandle(t,e,n)};O.useInsertionEffect=function(t,e){return Ne.current.useInsertionEffect(t,e)};O.useLayoutEffect=function(t,e){return Ne.current.useLayoutEffect(t,e)};O.useMemo=function(t,e){return Ne.current.useMemo(t,e)};O.useReducer=function(t,e,n){return Ne.current.useReducer(t,e,n)};O.useRef=function(t){return Ne.current.useRef(t)};O.useState=function(t){return Ne.current.useState(t)};O.useSyncExternalStore=function(t,e,n){return Ne.current.useSyncExternalStore(t,e,n)};O.useTransition=function(){return Ne.current.useTransition()};O.version="18.3.1";Bd.exports=O;var $=Bd.exports;const Zd=Gp($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=$,tm=Symbol.for("react.element"),nm=Symbol.for("react.fragment"),om=Object.prototype.hasOwnProperty,rm=em.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,im={key:!0,ref:!0,__self:!0,__source:!0};function jd(t,e,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)om.call(e,o)&&!im.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:tm,type:t,key:i,ref:l,props:r,_owner:rm.current}}Kr.Fragment=nm;Kr.jsx=jd;Kr.jsxs=jd;bd.exports=Kr;var p=bd.exports,$i={},ec={exports:{}},Ge={},tc={exports:{}},nc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var J=L.length;L.push(z);e:for(;0<J;){var oe=J-1>>>1,ue=L[oe];if(0<r(ue,z))L[oe]=z,L[J]=ue,J=oe;else break e}}function n(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var z=L[0],J=L.pop();if(J!==z){L[0]=J;e:for(var oe=0,ue=L.length,an=ue>>>1;oe<an;){var nt=2*(oe+1)-1,$n=L[nt],ot=nt+1,S=L[ot];if(0>r($n,J))ot<ue&&0>r(S,$n)?(L[oe]=S,L[ot]=J,oe=ot):(L[oe]=$n,L[nt]=J,oe=nt);else if(ot<ue&&0>r(S,J))L[oe]=S,L[ot]=J,oe=ot;else break e}}return z}function r(L,z){var J=L.sortIndex-z.sortIndex;return J!==0?J:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],c=[],f=1,m=null,h=3,y=!1,C=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var z=n(c);z!==null;){if(z.callback===null)o(c);else if(z.startTime<=L)o(c),z.sortIndex=z.expirationTime,e(d,z);else break;z=n(c)}}function E(L){if(T=!1,g(L),!C)if(n(d)!==null)C=!0,xe(_);else{var z=n(c);z!==null&&ut(E,z.startTime-L)}}function _(L,z){C=!1,T&&(T=!1,x(R),R=-1),y=!0;var J=h;try{for(g(z),m=n(d);m!==null&&(!(m.expirationTime>z)||L&&!G());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,h=m.priorityLevel;var ue=oe(m.expirationTime<=z);z=t.unstable_now(),typeof ue=="function"?m.callback=ue:m===n(d)&&o(d),g(z)}else o(d);m=n(d)}if(m!==null)var an=!0;else{var nt=n(c);nt!==null&&ut(E,nt.startTime-z),an=!1}return an}finally{m=null,h=J,y=!1}}var w=!1,N=null,R=-1,M=5,A=-1;function G(){return!(t.unstable_now()-A<M)}function q(){if(N!==null){var L=t.unstable_now();A=L;var z=!0;try{z=N(!0,L)}finally{z?Z():(w=!1,N=null)}}else w=!1}var Z;if(typeof v=="function")Z=function(){v(q)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ln=pe.port2;pe.port1.onmessage=q,Z=function(){ln.postMessage(null)}}else Z=function(){I(q,0)};function xe(L){N=L,w||(w=!0,Z())}function ut(L,z){R=I(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){C||y||(C=!0,xe(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var J=h;h=z;try{return L()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var J=h;h=L;try{return z()}finally{h=J}},t.unstable_scheduleCallback=function(L,z,J){var oe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,L){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=J+ue,L={id:f++,callback:z,priorityLevel:L,startTime:J,expirationTime:ue,sortIndex:-1},J>oe?(L.sortIndex=J,e(c,L),n(d)===null&&L===n(c)&&(T?(x(R),R=-1):T=!0,ut(E,J-oe))):(L.sortIndex=ue,e(d,L),C||y||(C=!0,xe(_))),L},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(L){var z=h;return function(){var J=h;h=z;try{return L.apply(this,arguments)}finally{h=J}}}})(nc);tc.exports=nc;var sm=tc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=$,Ve=sm;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oc=new Set,Eo={};function on(t,e){Mn(t,e),Mn(t+"Capture",e)}function Mn(t,e){for(Eo[t]=e,t=0;t<e.length;t++)oc.add(e[t])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oi=Object.prototype.hasOwnProperty,am=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ta={},na={};function um(t){return Oi.call(na,t)?!0:Oi.call(ta,t)?!1:am.test(t)?na[t]=!0:(ta[t]=!0,!1)}function dm(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cm(t,e,n,o){if(e===null||typeof e>"u"||dm(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ae(t,e,n,o,r,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new Ae(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new Ae(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new Ae(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new Ae(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new Ae(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new Ae(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new Ae(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new Ae(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new Ae(t,5,!1,t.toLowerCase(),null,!1,!1)});var js=/[\-:]([a-z])/g;function el(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(js,el);ve[e]=new Ae(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(js,el);ve[e]=new Ae(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(js,el);ve[e]=new Ae(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new Ae(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new Ae(t,1,!1,t.toLowerCase(),null,!0,!0)});function tl(t,e,n,o){var r=ve.hasOwnProperty(e)?ve[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cm(e,n,r,o)&&(n=null),o||r===null?um(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,o=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var Ct=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bo=Symbol.for("react.element"),dn=Symbol.for("react.portal"),cn=Symbol.for("react.fragment"),nl=Symbol.for("react.strict_mode"),Wi=Symbol.for("react.profiler"),rc=Symbol.for("react.provider"),ic=Symbol.for("react.context"),ol=Symbol.for("react.forward_ref"),Yi=Symbol.for("react.suspense"),Ki=Symbol.for("react.suspense_list"),rl=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),sc=Symbol.for("react.offscreen"),oa=Symbol.iterator;function On(t){return t===null||typeof t!="object"?null:(t=oa&&t[oa]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,yi;function no(t){if(yi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yi=e&&e[1]||""}return`
`+yi+t}var vi=!1;function xi(t,e){if(!t||vi)return"";vi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var o=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){o=c}t.call(e.prototype)}else{try{throw Error()}catch(c){o=c}t()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var d=`
`+r[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=u);break}}}finally{vi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?no(t):""}function fm(t){switch(t.tag){case 5:return no(t.type);case 16:return no("Lazy");case 13:return no("Suspense");case 19:return no("SuspenseList");case 0:case 2:case 15:return t=xi(t.type,!1),t;case 11:return t=xi(t.type.render,!1),t;case 1:return t=xi(t.type,!0),t;default:return""}}function Qi(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cn:return"Fragment";case dn:return"Portal";case Wi:return"Profiler";case nl:return"StrictMode";case Yi:return"Suspense";case Ki:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ic:return(t.displayName||"Context")+".Consumer";case rc:return(t._context.displayName||"Context")+".Provider";case ol:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rl:return e=t.displayName||null,e!==null?e:Qi(t.type)||"Memo";case wt:e=t._payload,t=t._init;try{return Qi(t(e))}catch{}}return null}function pm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qi(e);case 8:return e===nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mm(t){var e=lc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jo(t){t._valueTracker||(t._valueTracker=mm(t))}function ac(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=lc(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function Cr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xi(t,e){var n=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ra(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=qt(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uc(t,e){e=e.checked,e!=null&&tl(t,"checked",e,!1)}function Zi(t,e){uc(t,e);var n=qt(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ji(t,e.type,n):e.hasOwnProperty("defaultValue")&&ji(t,e.type,qt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ia(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ji(t,e,n){(e!=="number"||Cr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oo=Array.isArray;function Sn(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+qt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function es(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(oo(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qt(n)}}function dc(t,e){var n=qt(e.value),o=qt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function la(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ts(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $o,fc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$o.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Co(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hm=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(t){hm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),so[e]=so[t]})});function pc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||so.hasOwnProperty(t)&&so[t]?(""+e).trim():e+"px"}function mc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=pc(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,r):t[n]=r}}var gm=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ns(t,e){if(e){if(gm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function os(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function il(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var is=null,_n=null,wn=null;function aa(t){if(t=zo(t)){if(typeof is!="function")throw Error(k(280));var e=t.stateNode;e&&(e=ei(e),is(t.stateNode,t.type,e))}}function hc(t){_n?wn?wn.push(t):wn=[t]:_n=t}function gc(){if(_n){var t=_n,e=wn;if(wn=_n=null,aa(t),e)for(t=0;t<e.length;t++)aa(e[t])}}function yc(t,e){return t(e)}function vc(){}var Ei=!1;function xc(t,e,n){if(Ei)return t(e,n);Ei=!0;try{return yc(t,e,n)}finally{Ei=!1,(_n!==null||wn!==null)&&(vc(),gc())}}function To(t,e){var n=t.stateNode;if(n===null)return null;var o=ei(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var ss=!1;if(gt)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){ss=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{ss=!1}function ym(t,e,n,o,r,i,l,u,d){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var lo=!1,Tr=null,Sr=!1,ls=null,vm={onError:function(t){lo=!0,Tr=t}};function xm(t,e,n,o,r,i,l,u,d){lo=!1,Tr=null,ym.apply(vm,arguments)}function Em(t,e,n,o,r,i,l,u,d){if(xm.apply(this,arguments),lo){if(lo){var c=Tr;lo=!1,Tr=null}else throw Error(k(198));Sr||(Sr=!0,ls=c)}}function rn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ec(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ua(t){if(rn(t)!==t)throw Error(k(188))}function Cm(t){var e=t.alternate;if(!e){if(e=rn(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return ua(r),t;if(i===o)return ua(r),e;i=i.sibling}throw Error(k(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l)throw Error(k(189))}}if(n.alternate!==o)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function Cc(t){return t=Cm(t),t!==null?Tc(t):null}function Tc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Tc(t);if(e!==null)return e;t=t.sibling}return null}var Sc=Ve.unstable_scheduleCallback,da=Ve.unstable_cancelCallback,Tm=Ve.unstable_shouldYield,Sm=Ve.unstable_requestPaint,ae=Ve.unstable_now,_m=Ve.unstable_getCurrentPriorityLevel,sl=Ve.unstable_ImmediatePriority,_c=Ve.unstable_UserBlockingPriority,_r=Ve.unstable_NormalPriority,wm=Ve.unstable_LowPriority,wc=Ve.unstable_IdlePriority,Qr=null,lt=null;function Im(t){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Qr,t,void 0,(t.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:km,Nm=Math.log,Am=Math.LN2;function km(t){return t>>>=0,t===0?32:31-(Nm(t)/Am|0)|0}var Oo=64,Wo=4194304;function ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wr(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=ro(u):(i&=l,i!==0&&(o=ro(i)))}else l=n&~r,l!==0?o=ro(l):i!==0&&(o=ro(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-Ze(e),r=1<<n,o|=t[n],e&=~r;return o}function Rm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pm(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Ze(i),u=1<<l,d=r[l];d===-1?(!(u&n)||u&o)&&(r[l]=Rm(u,e)):d<=e&&(t.expiredLanes|=u),i&=~u}}function as(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ic(){var t=Oo;return Oo<<=1,!(Oo&4194240)&&(Oo=64),t}function Ci(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Go(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ze(e),t[e]=n}function Mm(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Ze(n),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,n&=~i}}function ll(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-Ze(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}var Q=0;function Nc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ac,al,kc,Rc,Pc,us=!1,Yo=[],Pt=null,Mt=null,Dt=null,So=new Map,_o=new Map,Nt=[],Dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ca(t,e){switch(t){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":So.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(e.pointerId)}}function Yn(t,e,n,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=zo(e),e!==null&&al(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Lm(t,e,n,o,r){switch(e){case"focusin":return Pt=Yn(Pt,t,e,n,o,r),!0;case"dragenter":return Mt=Yn(Mt,t,e,n,o,r),!0;case"mouseover":return Dt=Yn(Dt,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return So.set(i,Yn(So.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,_o.set(i,Yn(_o.get(i)||null,t,e,n,o,r)),!0}return!1}function Mc(t){var e=Wt(t.target);if(e!==null){var n=rn(e);if(n!==null){if(e=n.tag,e===13){if(e=Ec(n),e!==null){t.blockedOn=e,Pc(t.priority,function(){kc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ar(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ds(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);rs=o,n.target.dispatchEvent(o),rs=null}else return e=zo(n),e!==null&&al(e),t.blockedOn=n,!1;e.shift()}return!0}function fa(t,e,n){ar(t)&&n.delete(e)}function Fm(){us=!1,Pt!==null&&ar(Pt)&&(Pt=null),Mt!==null&&ar(Mt)&&(Mt=null),Dt!==null&&ar(Dt)&&(Dt=null),So.forEach(fa),_o.forEach(fa)}function Kn(t,e){t.blockedOn===e&&(t.blockedOn=null,us||(us=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Fm)))}function wo(t){function e(r){return Kn(r,t)}if(0<Yo.length){Kn(Yo[0],t);for(var n=1;n<Yo.length;n++){var o=Yo[n];o.blockedOn===t&&(o.blockedOn=null)}}for(Pt!==null&&Kn(Pt,t),Mt!==null&&Kn(Mt,t),Dt!==null&&Kn(Dt,t),So.forEach(e),_o.forEach(e),n=0;n<Nt.length;n++)o=Nt[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<Nt.length&&(n=Nt[0],n.blockedOn===null);)Mc(n),n.blockedOn===null&&Nt.shift()}var In=Ct.ReactCurrentBatchConfig,Ir=!0;function Um(t,e,n,o){var r=Q,i=In.transition;In.transition=null;try{Q=1,ul(t,e,n,o)}finally{Q=r,In.transition=i}}function Vm(t,e,n,o){var r=Q,i=In.transition;In.transition=null;try{Q=4,ul(t,e,n,o)}finally{Q=r,In.transition=i}}function ul(t,e,n,o){if(Ir){var r=ds(t,e,n,o);if(r===null)Pi(t,e,o,Nr,n),ca(t,o);else if(Lm(r,t,e,n,o))o.stopPropagation();else if(ca(t,o),e&4&&-1<Dm.indexOf(t)){for(;r!==null;){var i=zo(r);if(i!==null&&Ac(i),i=ds(t,e,n,o),i===null&&Pi(t,e,o,Nr,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Pi(t,e,o,null,n)}}var Nr=null;function ds(t,e,n,o){if(Nr=null,t=il(o),t=Wt(t),t!==null)if(e=rn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ec(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nr=t,null}function Dc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_m()){case sl:return 1;case _c:return 4;case _r:case wm:return 16;case wc:return 536870912;default:return 16}default:return 16}}var kt=null,dl=null,ur=null;function Lc(){if(ur)return ur;var t,e=dl,n=e.length,o,r="value"in kt?kt.value:kt.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(o=1;o<=l&&e[n-o]===r[i-o];o++);return ur=r.slice(t,1<o?1-o:void 0)}function dr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ko(){return!0}function pa(){return!1}function qe(t){function e(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ko:pa,this.isPropagationStopped=pa,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),e}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=qe(zn),qo=se({},zn,{view:0,detail:0}),Gm=qe(qo),Ti,Si,Qn,Xr=se({},qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ti=t.screenX-Qn.screenX,Si=t.screenY-Qn.screenY):Si=Ti=0,Qn=t),Ti)},movementY:function(t){return"movementY"in t?t.movementY:Si}}),ma=qe(Xr),qm=se({},Xr,{dataTransfer:0}),zm=qe(qm),Hm=se({},qo,{relatedTarget:0}),_i=qe(Hm),bm=se({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Bm=qe(bm),Jm=se({},zn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$m=qe(Jm),Om=se({},zn,{data:0}),ha=qe(Om),Wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Km={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Km[t])?!!e[t]:!1}function fl(){return Qm}var Xm=se({},qo,{key:function(t){if(t.key){var e=Wm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ym[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(t){return t.type==="keypress"?dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zm=qe(Xm),jm=se({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ga=qe(jm),eh=se({},qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),th=qe(eh),nh=se({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=qe(nh),rh=se({},Xr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ih=qe(rh),sh=[9,13,27,32],pl=gt&&"CompositionEvent"in window,ao=null;gt&&"documentMode"in document&&(ao=document.documentMode);var lh=gt&&"TextEvent"in window&&!ao,Fc=gt&&(!pl||ao&&8<ao&&11>=ao),ya=" ",va=!1;function Uc(t,e){switch(t){case"keyup":return sh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fn=!1;function ah(t,e){switch(t){case"compositionend":return Vc(e);case"keypress":return e.which!==32?null:(va=!0,ya);case"textInput":return t=e.data,t===ya&&va?null:t;default:return null}}function uh(t,e){if(fn)return t==="compositionend"||!pl&&Uc(t,e)?(t=Lc(),ur=dl=kt=null,fn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fc&&e.locale!=="ko"?null:e.data;default:return null}}var dh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dh[t.type]:e==="textarea"}function Gc(t,e,n,o){hc(o),e=Ar(e,"onChange"),0<e.length&&(n=new cl("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var uo=null,Io=null;function ch(t){Kc(t,0)}function Zr(t){var e=hn(t);if(ac(e))return t}function fh(t,e){if(t==="change")return e}var qc=!1;if(gt){var wi;if(gt){var Ii="oninput"in document;if(!Ii){var Ea=document.createElement("div");Ea.setAttribute("oninput","return;"),Ii=typeof Ea.oninput=="function"}wi=Ii}else wi=!1;qc=wi&&(!document.documentMode||9<document.documentMode)}function Ca(){uo&&(uo.detachEvent("onpropertychange",zc),Io=uo=null)}function zc(t){if(t.propertyName==="value"&&Zr(Io)){var e=[];Gc(e,Io,t,il(t)),xc(ch,e)}}function ph(t,e,n){t==="focusin"?(Ca(),uo=e,Io=n,uo.attachEvent("onpropertychange",zc)):t==="focusout"&&Ca()}function mh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zr(Io)}function hh(t,e){if(t==="click")return Zr(e)}function gh(t,e){if(t==="input"||t==="change")return Zr(e)}function yh(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:yh;function No(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!Oi.call(e,r)||!et(t[r],e[r]))return!1}return!0}function Ta(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sa(t,e){var n=Ta(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ta(n)}}function Hc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bc(){for(var t=window,e=Cr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cr(t.document)}return e}function ml(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vh(t){var e=bc(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hc(n.ownerDocument.documentElement,n)){if(o!==null&&ml(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=Sa(n,i);var l=Sa(n,o);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xh=gt&&"documentMode"in document&&11>=document.documentMode,pn=null,cs=null,co=null,fs=!1;function _a(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fs||pn==null||pn!==Cr(o)||(o=pn,"selectionStart"in o&&ml(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),co&&No(co,o)||(co=o,o=Ar(cs,"onSelect"),0<o.length&&(e=new cl("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=pn)))}function Qo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mn={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},Ni={},Bc={};gt&&(Bc=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function jr(t){if(Ni[t])return Ni[t];if(!mn[t])return t;var e=mn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Bc)return Ni[t]=e[n];return t}var Jc=jr("animationend"),$c=jr("animationiteration"),Oc=jr("animationstart"),Wc=jr("transitionend"),Yc=new Map,wa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(t,e){Yc.set(t,e),on(e,[t])}for(var Ai=0;Ai<wa.length;Ai++){var ki=wa[Ai],Eh=ki.toLowerCase(),Ch=ki[0].toUpperCase()+ki.slice(1);Ht(Eh,"on"+Ch)}Ht(Jc,"onAnimationEnd");Ht($c,"onAnimationIteration");Ht(Oc,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(Wc,"onTransitionEnd");Mn("onMouseEnter",["mouseout","mouseover"]);Mn("onMouseLeave",["mouseout","mouseover"]);Mn("onPointerEnter",["pointerout","pointerover"]);Mn("onPointerLeave",["pointerout","pointerover"]);on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));on("onBeforeInput",["compositionend","keypress","textInput","paste"]);on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Th=new Set("cancel close invalid load scroll toggle".split(" ").concat(io));function Ia(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,Em(o,e,void 0,t),t.currentTarget=null}function Kc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var l=o.length-1;0<=l;l--){var u=o[l],d=u.instance,c=u.currentTarget;if(u=u.listener,d!==i&&r.isPropagationStopped())break e;Ia(r,u,c),i=d}else for(l=0;l<o.length;l++){if(u=o[l],d=u.instance,c=u.currentTarget,u=u.listener,d!==i&&r.isPropagationStopped())break e;Ia(r,u,c),i=d}}}if(Sr)throw t=ls,Sr=!1,ls=null,t}function j(t,e){var n=e[ys];n===void 0&&(n=e[ys]=new Set);var o=t+"__bubble";n.has(o)||(Qc(e,t,2,!1),n.add(o))}function Ri(t,e,n){var o=0;e&&(o|=4),Qc(n,t,o,e)}var Xo="_reactListening"+Math.random().toString(36).slice(2);function Ao(t){if(!t[Xo]){t[Xo]=!0,oc.forEach(function(n){n!=="selectionchange"&&(Th.has(n)||Ri(n,!1,t),Ri(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xo]||(e[Xo]=!0,Ri("selectionchange",!1,e))}}function Qc(t,e,n,o){switch(Dc(e)){case 1:var r=Um;break;case 4:r=Vm;break;default:r=ul}n=r.bind(null,e,n,t),r=void 0,!ss||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Pi(t,e,n,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;l=l.return}for(;u!==null;){if(l=Wt(u),l===null)return;if(d=l.tag,d===5||d===6){o=i=l;continue e}u=u.parentNode}}o=o.return}xc(function(){var c=i,f=il(n),m=[];e:{var h=Yc.get(t);if(h!==void 0){var y=cl,C=t;switch(t){case"keypress":if(dr(n)===0)break e;case"keydown":case"keyup":y=Zm;break;case"focusin":C="focus",y=_i;break;case"focusout":C="blur",y=_i;break;case"beforeblur":case"afterblur":y=_i;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=th;break;case Jc:case $c:case Oc:y=Bm;break;case Wc:y=oh;break;case"scroll":y=Gm;break;case"wheel":y=ih;break;case"copy":case"cut":case"paste":y=$m;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ga}var T=(e&4)!==0,I=!T&&t==="scroll",x=T?h!==null?h+"Capture":null:h;T=[];for(var v=c,g;v!==null;){g=v;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,x!==null&&(E=To(v,x),E!=null&&T.push(ko(v,E,g)))),I)break;v=v.return}0<T.length&&(h=new y(h,C,null,n,f),m.push({event:h,listeners:T}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==rs&&(C=n.relatedTarget||n.fromElement)&&(Wt(C)||C[yt]))break e;if((y||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=c,C=C?Wt(C):null,C!==null&&(I=rn(C),C!==I||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=c),y!==C)){if(T=ma,E="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(T=ga,E="onPointerLeave",x="onPointerEnter",v="pointer"),I=y==null?h:hn(y),g=C==null?h:hn(C),h=new T(E,v+"leave",y,n,f),h.target=I,h.relatedTarget=g,E=null,Wt(f)===c&&(T=new T(x,v+"enter",C,n,f),T.target=g,T.relatedTarget=I,E=T),I=E,y&&C)t:{for(T=y,x=C,v=0,g=T;g;g=un(g))v++;for(g=0,E=x;E;E=un(E))g++;for(;0<v-g;)T=un(T),v--;for(;0<g-v;)x=un(x),g--;for(;v--;){if(T===x||x!==null&&T===x.alternate)break t;T=un(T),x=un(x)}T=null}else T=null;y!==null&&Na(m,h,y,T,!1),C!==null&&I!==null&&Na(m,I,C,T,!0)}}e:{if(h=c?hn(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var _=fh;else if(xa(h))if(qc)_=gh;else{_=mh;var w=ph}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=hh);if(_&&(_=_(t,c))){Gc(m,_,n,f);break e}w&&w(t,h,c),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&ji(h,"number",h.value)}switch(w=c?hn(c):window,t){case"focusin":(xa(w)||w.contentEditable==="true")&&(pn=w,cs=c,co=null);break;case"focusout":co=cs=pn=null;break;case"mousedown":fs=!0;break;case"contextmenu":case"mouseup":case"dragend":fs=!1,_a(m,n,f);break;case"selectionchange":if(xh)break;case"keydown":case"keyup":_a(m,n,f)}var N;if(pl)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else fn?Uc(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Fc&&n.locale!=="ko"&&(fn||R!=="onCompositionStart"?R==="onCompositionEnd"&&fn&&(N=Lc()):(kt=f,dl="value"in kt?kt.value:kt.textContent,fn=!0)),w=Ar(c,R),0<w.length&&(R=new ha(R,t,null,n,f),m.push({event:R,listeners:w}),N?R.data=N:(N=Vc(n),N!==null&&(R.data=N)))),(N=lh?ah(t,n):uh(t,n))&&(c=Ar(c,"onBeforeInput"),0<c.length&&(f=new ha("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=N))}Kc(m,e)})}function ko(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ar(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=To(t,n),i!=null&&o.unshift(ko(t,i,r)),i=To(t,e),i!=null&&o.push(ko(t,i,r))),t=t.return}return o}function un(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Na(t,e,n,o,r){for(var i=e._reactName,l=[];n!==null&&n!==o;){var u=n,d=u.alternate,c=u.stateNode;if(d!==null&&d===o)break;u.tag===5&&c!==null&&(u=c,r?(d=To(n,i),d!=null&&l.unshift(ko(n,d,u))):r||(d=To(n,i),d!=null&&l.push(ko(n,d,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Sh=/\r\n?/g,_h=/\u0000|\uFFFD/g;function Aa(t){return(typeof t=="string"?t:""+t).replace(Sh,`
`).replace(_h,"")}function Zo(t,e,n){if(e=Aa(e),Aa(t)!==e&&n)throw Error(k(425))}function kr(){}var ps=null,ms=null;function hs(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gs=typeof setTimeout=="function"?setTimeout:void 0,wh=typeof clearTimeout=="function"?clearTimeout:void 0,ka=typeof Promise=="function"?Promise:void 0,Ih=typeof queueMicrotask=="function"?queueMicrotask:typeof ka<"u"?function(t){return ka.resolve(null).then(t).catch(Nh)}:gs;function Nh(t){setTimeout(function(){throw t})}function Mi(t,e){var n=e,o=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){t.removeChild(r),wo(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);wo(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ra(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),st="__reactFiber$"+Hn,Ro="__reactProps$"+Hn,yt="__reactContainer$"+Hn,ys="__reactEvents$"+Hn,Ah="__reactListeners$"+Hn,kh="__reactHandles$"+Hn;function Wt(t){var e=t[st];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yt]||n[st]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ra(t);t!==null;){if(n=t[st])return n;t=Ra(t)}return e}t=n,n=t.parentNode}return null}function zo(t){return t=t[st]||t[yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function ei(t){return t[Ro]||null}var vs=[],gn=-1;function bt(t){return{current:t}}function te(t){0>gn||(t.current=vs[gn],vs[gn]=null,gn--)}function X(t,e){gn++,vs[gn]=t.current,t.current=e}var zt={},_e=bt(zt),Pe=bt(!1),Zt=zt;function Dn(t,e){var n=t.type.contextTypes;if(!n)return zt;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Me(t){return t=t.childContextTypes,t!=null}function Rr(){te(Pe),te(_e)}function Pa(t,e,n){if(_e.current!==zt)throw Error(k(168));X(_e,e),X(Pe,n)}function Xc(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(k(108,pm(t)||"Unknown",r));return se({},n,o)}function Pr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zt,Zt=_e.current,X(_e,t),X(Pe,Pe.current),!0}function Ma(t,e,n){var o=t.stateNode;if(!o)throw Error(k(169));n?(t=Xc(t,e,Zt),o.__reactInternalMemoizedMergedChildContext=t,te(Pe),te(_e),X(_e,t)):te(Pe),X(Pe,n)}var ct=null,ti=!1,Di=!1;function Zc(t){ct===null?ct=[t]:ct.push(t)}function Rh(t){ti=!0,Zc(t)}function Bt(){if(!Di&&ct!==null){Di=!0;var t=0,e=Q;try{var n=ct;for(Q=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}ct=null,ti=!1}catch(r){throw ct!==null&&(ct=ct.slice(t+1)),Sc(sl,Bt),r}finally{Q=e,Di=!1}}return null}var yn=[],vn=0,Mr=null,Dr=0,ze=[],He=0,jt=null,ft=1,pt="";function $t(t,e){yn[vn++]=Dr,yn[vn++]=Mr,Mr=t,Dr=e}function jc(t,e,n){ze[He++]=ft,ze[He++]=pt,ze[He++]=jt,jt=t;var o=ft;t=pt;var r=32-Ze(o)-1;o&=~(1<<r),n+=1;var i=32-Ze(e)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,ft=1<<32-Ze(e)+r|n<<r|o,pt=i+t}else ft=1<<i|n<<r|o,pt=t}function hl(t){t.return!==null&&($t(t,1),jc(t,1,0))}function gl(t){for(;t===Mr;)Mr=yn[--vn],yn[vn]=null,Dr=yn[--vn],yn[vn]=null;for(;t===jt;)jt=ze[--He],ze[He]=null,pt=ze[--He],ze[He]=null,ft=ze[--He],ze[He]=null}var Ue=null,Fe=null,ne=!1,Xe=null;function ef(t,e){var n=be(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Da(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ue=t,Fe=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ue=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jt!==null?{id:ft,overflow:pt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=be(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ue=t,Fe=null,!0):!1;default:return!1}}function xs(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Es(t){if(ne){var e=Fe;if(e){var n=e;if(!Da(t,e)){if(xs(t))throw Error(k(418));e=Lt(n.nextSibling);var o=Ue;e&&Da(t,e)?ef(o,n):(t.flags=t.flags&-4097|2,ne=!1,Ue=t)}}else{if(xs(t))throw Error(k(418));t.flags=t.flags&-4097|2,ne=!1,Ue=t}}}function La(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ue=t}function jo(t){if(t!==Ue)return!1;if(!ne)return La(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hs(t.type,t.memoizedProps)),e&&(e=Fe)){if(xs(t))throw tf(),Error(k(418));for(;e;)ef(t,e),e=Lt(e.nextSibling)}if(La(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fe=Lt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=Ue?Lt(t.stateNode.nextSibling):null;return!0}function tf(){for(var t=Fe;t;)t=Lt(t.nextSibling)}function Ln(){Fe=Ue=null,ne=!1}function yl(t){Xe===null?Xe=[t]:Xe.push(t)}var Ph=Ct.ReactCurrentBatchConfig;function Xn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var o=n.stateNode}if(!o)throw Error(k(147,t));var r=o,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function er(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fa(t){var e=t._init;return e(t._payload)}function nf(t){function e(x,v){if(t){var g=x.deletions;g===null?(x.deletions=[v],x.flags|=16):g.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function o(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function r(x,v){return x=Gt(x,v),x.index=0,x.sibling=null,x}function i(x,v,g){return x.index=g,t?(g=x.alternate,g!==null?(g=g.index,g<v?(x.flags|=2,v):g):(x.flags|=2,v)):(x.flags|=1048576,v)}function l(x){return t&&x.alternate===null&&(x.flags|=2),x}function u(x,v,g,E){return v===null||v.tag!==6?(v=zi(g,x.mode,E),v.return=x,v):(v=r(v,g),v.return=x,v)}function d(x,v,g,E){var _=g.type;return _===cn?f(x,v,g.props.children,E,g.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===wt&&Fa(_)===v.type)?(E=r(v,g.props),E.ref=Xn(x,v,g),E.return=x,E):(E=yr(g.type,g.key,g.props,null,x.mode,E),E.ref=Xn(x,v,g),E.return=x,E)}function c(x,v,g,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=Hi(g,x.mode,E),v.return=x,v):(v=r(v,g.children||[]),v.return=x,v)}function f(x,v,g,E,_){return v===null||v.tag!==7?(v=Xt(g,x.mode,E,_),v.return=x,v):(v=r(v,g),v.return=x,v)}function m(x,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=zi(""+v,x.mode,g),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bo:return g=yr(v.type,v.key,v.props,null,x.mode,g),g.ref=Xn(x,null,v),g.return=x,g;case dn:return v=Hi(v,x.mode,g),v.return=x,v;case wt:var E=v._init;return m(x,E(v._payload),g)}if(oo(v)||On(v))return v=Xt(v,x.mode,g,null),v.return=x,v;er(x,v)}return null}function h(x,v,g,E){var _=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:u(x,v,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bo:return g.key===_?d(x,v,g,E):null;case dn:return g.key===_?c(x,v,g,E):null;case wt:return _=g._init,h(x,v,_(g._payload),E)}if(oo(g)||On(g))return _!==null?null:f(x,v,g,E,null);er(x,g)}return null}function y(x,v,g,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return x=x.get(g)||null,u(v,x,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Bo:return x=x.get(E.key===null?g:E.key)||null,d(v,x,E,_);case dn:return x=x.get(E.key===null?g:E.key)||null,c(v,x,E,_);case wt:var w=E._init;return y(x,v,g,w(E._payload),_)}if(oo(E)||On(E))return x=x.get(g)||null,f(v,x,E,_,null);er(v,E)}return null}function C(x,v,g,E){for(var _=null,w=null,N=v,R=v=0,M=null;N!==null&&R<g.length;R++){N.index>R?(M=N,N=null):M=N.sibling;var A=h(x,N,g[R],E);if(A===null){N===null&&(N=M);break}t&&N&&A.alternate===null&&e(x,N),v=i(A,v,R),w===null?_=A:w.sibling=A,w=A,N=M}if(R===g.length)return n(x,N),ne&&$t(x,R),_;if(N===null){for(;R<g.length;R++)N=m(x,g[R],E),N!==null&&(v=i(N,v,R),w===null?_=N:w.sibling=N,w=N);return ne&&$t(x,R),_}for(N=o(x,N);R<g.length;R++)M=y(N,x,R,g[R],E),M!==null&&(t&&M.alternate!==null&&N.delete(M.key===null?R:M.key),v=i(M,v,R),w===null?_=M:w.sibling=M,w=M);return t&&N.forEach(function(G){return e(x,G)}),ne&&$t(x,R),_}function T(x,v,g,E){var _=On(g);if(typeof _!="function")throw Error(k(150));if(g=_.call(g),g==null)throw Error(k(151));for(var w=_=null,N=v,R=v=0,M=null,A=g.next();N!==null&&!A.done;R++,A=g.next()){N.index>R?(M=N,N=null):M=N.sibling;var G=h(x,N,A.value,E);if(G===null){N===null&&(N=M);break}t&&N&&G.alternate===null&&e(x,N),v=i(G,v,R),w===null?_=G:w.sibling=G,w=G,N=M}if(A.done)return n(x,N),ne&&$t(x,R),_;if(N===null){for(;!A.done;R++,A=g.next())A=m(x,A.value,E),A!==null&&(v=i(A,v,R),w===null?_=A:w.sibling=A,w=A);return ne&&$t(x,R),_}for(N=o(x,N);!A.done;R++,A=g.next())A=y(N,x,R,A.value,E),A!==null&&(t&&A.alternate!==null&&N.delete(A.key===null?R:A.key),v=i(A,v,R),w===null?_=A:w.sibling=A,w=A);return t&&N.forEach(function(q){return e(x,q)}),ne&&$t(x,R),_}function I(x,v,g,E){if(typeof g=="object"&&g!==null&&g.type===cn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Bo:e:{for(var _=g.key,w=v;w!==null;){if(w.key===_){if(_=g.type,_===cn){if(w.tag===7){n(x,w.sibling),v=r(w,g.props.children),v.return=x,x=v;break e}}else if(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===wt&&Fa(_)===w.type){n(x,w.sibling),v=r(w,g.props),v.ref=Xn(x,w,g),v.return=x,x=v;break e}n(x,w);break}else e(x,w);w=w.sibling}g.type===cn?(v=Xt(g.props.children,x.mode,E,g.key),v.return=x,x=v):(E=yr(g.type,g.key,g.props,null,x.mode,E),E.ref=Xn(x,v,g),E.return=x,x=E)}return l(x);case dn:e:{for(w=g.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){n(x,v.sibling),v=r(v,g.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=Hi(g,x.mode,E),v.return=x,x=v}return l(x);case wt:return w=g._init,I(x,v,w(g._payload),E)}if(oo(g))return C(x,v,g,E);if(On(g))return T(x,v,g,E);er(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(n(x,v.sibling),v=r(v,g),v.return=x,x=v):(n(x,v),v=zi(g,x.mode,E),v.return=x,x=v),l(x)):n(x,v)}return I}var Fn=nf(!0),of=nf(!1),Lr=bt(null),Fr=null,xn=null,vl=null;function xl(){vl=xn=Fr=null}function El(t){var e=Lr.current;te(Lr),t._currentValue=e}function Cs(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Nn(t,e){Fr=t,vl=xn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function $e(t){var e=t._currentValue;if(vl!==t)if(t={context:t,memoizedValue:e,next:null},xn===null){if(Fr===null)throw Error(k(308));xn=t,Fr.dependencies={lanes:0,firstContext:t}}else xn=xn.next=t;return e}var Yt=null;function Cl(t){Yt===null?Yt=[t]:Yt.push(t)}function rf(t,e,n,o){var r=e.interleaved;return r===null?(n.next=n,Cl(e)):(n.next=r.next,r.next=n),e.interleaved=n,vt(t,o)}function vt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var It=!1;function Tl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ht(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ft(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,W&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,vt(t,n)}return r=o.interleaved,r===null?(e.next=e,Cl(o)):(e.next=r.next,r.next=e),o.interleaved=e,vt(t,n)}function cr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,ll(t,n)}}function Ua(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ur(t,e,n,o){var r=t.updateQueue;It=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var d=u,c=d.next;d.next=null,l===null?i=c:l.next=c,l=d;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=d))}if(i!==null){var m=r.baseState;l=0,f=c=d=null,u=i;do{var h=u.lane,y=u.eventTime;if((o&h)===h){f!==null&&(f=f.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=t,T=u;switch(h=e,y=n,T.tag){case 1:if(C=T.payload,typeof C=="function"){m=C.call(y,m,h);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,h=typeof C=="function"?C.call(y,m,h):C,h==null)break e;m=se({},m,h);break e;case 2:It=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[u]:h.push(u))}else y={eventTime:y,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=y,d=m):f=f.next=y,l|=h;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;h=u,u=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(f===null&&(d=m),r.baseState=d,r.firstBaseUpdate=c,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);tn|=l,t.lanes=l,t.memoizedState=m}}function Va(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(k(191,r));r.call(o)}}}var Ho={},at=bt(Ho),Po=bt(Ho),Mo=bt(Ho);function Kt(t){if(t===Ho)throw Error(k(174));return t}function Sl(t,e){switch(X(Mo,e),X(Po,t),X(at,Ho),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ts(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ts(e,t)}te(at),X(at,e)}function Un(){te(at),te(Po),te(Mo)}function lf(t){Kt(Mo.current);var e=Kt(at.current),n=ts(e,t.type);e!==n&&(X(Po,t),X(at,n))}function _l(t){Po.current===t&&(te(at),te(Po))}var re=bt(0);function Vr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Li=[];function wl(){for(var t=0;t<Li.length;t++)Li[t]._workInProgressVersionPrimary=null;Li.length=0}var fr=Ct.ReactCurrentDispatcher,Fi=Ct.ReactCurrentBatchConfig,en=0,ie=null,ce=null,me=null,Gr=!1,fo=!1,Do=0,Mh=0;function Ee(){throw Error(k(321))}function Il(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!et(t[n],e[n]))return!1;return!0}function Nl(t,e,n,o,r,i){if(en=i,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fr.current=t===null||t.memoizedState===null?Uh:Vh,t=n(o,r),fo){i=0;do{if(fo=!1,Do=0,25<=i)throw Error(k(301));i+=1,me=ce=null,e.updateQueue=null,fr.current=Gh,t=n(o,r)}while(fo)}if(fr.current=qr,e=ce!==null&&ce.next!==null,en=0,me=ce=ie=null,Gr=!1,e)throw Error(k(300));return t}function Al(){var t=Do!==0;return Do=0,t}function it(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ie.memoizedState=me=t:me=me.next=t,me}function Oe(){if(ce===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=me===null?ie.memoizedState:me.next;if(e!==null)me=e,ce=t;else{if(t===null)throw Error(k(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},me===null?ie.memoizedState=me=t:me=me.next=t}return me}function Lo(t,e){return typeof e=="function"?e(t):e}function Ui(t){var e=Oe(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var o=ce,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,d=null,c=i;do{var f=c.lane;if((en&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:t(o,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(u=d=m,l=o):d=d.next=m,ie.lanes|=f,tn|=f}c=c.next}while(c!==null&&c!==i);d===null?l=o:d.next=u,et(o,e.memoizedState)||(Re=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=d,n.lastRenderedState=o}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ie.lanes|=i,tn|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vi(t){var e=Oe(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=t(i,l.action),l=l.next;while(l!==r);et(i,e.memoizedState)||(Re=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,o]}function af(){}function uf(t,e){var n=ie,o=Oe(),r=e(),i=!et(o.memoizedState,r);if(i&&(o.memoizedState=r,Re=!0),o=o.queue,kl(ff.bind(null,n,o,t),[t]),o.getSnapshot!==e||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Fo(9,cf.bind(null,n,o,r,e),void 0,null),he===null)throw Error(k(349));en&30||df(n,e,r)}return r}function df(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cf(t,e,n,o){e.value=n,e.getSnapshot=o,pf(e)&&mf(t)}function ff(t,e,n){return n(function(){pf(e)&&mf(t)})}function pf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!et(t,n)}catch{return!0}}function mf(t){var e=vt(t,1);e!==null&&je(e,t,1,-1)}function Ga(t){var e=it();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:t},e.queue=t,t=t.dispatch=Fh.bind(null,ie,t),[e.memoizedState,t]}function Fo(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function hf(){return Oe().memoizedState}function pr(t,e,n,o){var r=it();ie.flags|=t,r.memoizedState=Fo(1|e,n,void 0,o===void 0?null:o)}function ni(t,e,n,o){var r=Oe();o=o===void 0?null:o;var i=void 0;if(ce!==null){var l=ce.memoizedState;if(i=l.destroy,o!==null&&Il(o,l.deps)){r.memoizedState=Fo(e,n,i,o);return}}ie.flags|=t,r.memoizedState=Fo(1|e,n,i,o)}function qa(t,e){return pr(8390656,8,t,e)}function kl(t,e){return ni(2048,8,t,e)}function gf(t,e){return ni(4,2,t,e)}function yf(t,e){return ni(4,4,t,e)}function vf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xf(t,e,n){return n=n!=null?n.concat([t]):null,ni(4,4,vf.bind(null,e,t),n)}function Rl(){}function Ef(t,e){var n=Oe();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Il(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function Cf(t,e){var n=Oe();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Il(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function Tf(t,e,n){return en&21?(et(n,e)||(n=Ic(),ie.lanes|=n,tn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=n)}function Dh(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var o=Fi.transition;Fi.transition={};try{t(!1),e()}finally{Q=n,Fi.transition=o}}function Sf(){return Oe().memoizedState}function Lh(t,e,n){var o=Vt(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},_f(t))wf(e,n);else if(n=rf(t,e,n,o),n!==null){var r=Ie();je(n,t,o,r),If(n,e,o)}}function Fh(t,e,n){var o=Vt(t),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(_f(t))wf(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,u=i(l,n);if(r.hasEagerState=!0,r.eagerState=u,et(u,l)){var d=e.interleaved;d===null?(r.next=r,Cl(e)):(r.next=d.next,d.next=r),e.interleaved=r;return}}catch{}finally{}n=rf(t,e,r,o),n!==null&&(r=Ie(),je(n,t,o,r),If(n,e,o))}}function _f(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function wf(t,e){fo=Gr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function If(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,ll(t,n)}}var qr={readContext:$e,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},Uh={readContext:$e,useCallback:function(t,e){return it().memoizedState=[t,e===void 0?null:e],t},useContext:$e,useEffect:qa,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pr(4194308,4,vf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pr(4194308,4,t,e)},useInsertionEffect:function(t,e){return pr(4,2,t,e)},useMemo:function(t,e){var n=it();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=it();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=Lh.bind(null,ie,t),[o.memoizedState,t]},useRef:function(t){var e=it();return t={current:t},e.memoizedState=t},useState:Ga,useDebugValue:Rl,useDeferredValue:function(t){return it().memoizedState=t},useTransition:function(){var t=Ga(!1),e=t[0];return t=Dh.bind(null,t[1]),it().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=ie,r=it();if(ne){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),he===null)throw Error(k(349));en&30||df(o,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,qa(ff.bind(null,o,i,t),[t]),o.flags|=2048,Fo(9,cf.bind(null,o,i,n,e),void 0,null),n},useId:function(){var t=it(),e=he.identifierPrefix;if(ne){var n=pt,o=ft;n=(o&~(1<<32-Ze(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=Do++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Mh++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Vh={readContext:$e,useCallback:Ef,useContext:$e,useEffect:kl,useImperativeHandle:xf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Cf,useReducer:Ui,useRef:hf,useState:function(){return Ui(Lo)},useDebugValue:Rl,useDeferredValue:function(t){var e=Oe();return Tf(e,ce.memoizedState,t)},useTransition:function(){var t=Ui(Lo)[0],e=Oe().memoizedState;return[t,e]},useMutableSource:af,useSyncExternalStore:uf,useId:Sf,unstable_isNewReconciler:!1},Gh={readContext:$e,useCallback:Ef,useContext:$e,useEffect:kl,useImperativeHandle:xf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Cf,useReducer:Vi,useRef:hf,useState:function(){return Vi(Lo)},useDebugValue:Rl,useDeferredValue:function(t){var e=Oe();return ce===null?e.memoizedState=t:Tf(e,ce.memoizedState,t)},useTransition:function(){var t=Vi(Lo)[0],e=Oe().memoizedState;return[t,e]},useMutableSource:af,useSyncExternalStore:uf,useId:Sf,unstable_isNewReconciler:!1};function Ke(t,e){if(t&&t.defaultProps){e=se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ts(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oi={isMounted:function(t){return(t=t._reactInternals)?rn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=Ie(),r=Vt(t),i=ht(o,r);i.payload=e,n!=null&&(i.callback=n),e=Ft(t,i,r),e!==null&&(je(e,t,r,o),cr(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=Ie(),r=Vt(t),i=ht(o,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ft(t,i,r),e!==null&&(je(e,t,r,o),cr(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ie(),o=Vt(t),r=ht(n,o);r.tag=2,e!=null&&(r.callback=e),e=Ft(t,r,o),e!==null&&(je(e,t,o,n),cr(e,t,o))}};function za(t,e,n,o,r,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,l):e.prototype&&e.prototype.isPureReactComponent?!No(n,o)||!No(r,i):!0}function Nf(t,e,n){var o=!1,r=zt,i=e.contextType;return typeof i=="object"&&i!==null?i=$e(i):(r=Me(e)?Zt:_e.current,o=e.contextTypes,i=(o=o!=null)?Dn(t,r):zt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oi,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ha(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&oi.enqueueReplaceState(e,e.state,null)}function Ss(t,e,n,o){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Tl(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=$e(i):(i=Me(e)?Zt:_e.current,r.context=Dn(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ts(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&oi.enqueueReplaceState(r,r.state,null),Ur(t,n,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Vn(t,e){try{var n="",o=e;do n+=fm(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Gi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _s(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qh=typeof WeakMap=="function"?WeakMap:Map;function Af(t,e,n){n=ht(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){Hr||(Hr=!0,Ls=o),_s(t,e)},n}function kf(t,e,n){n=ht(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;n.payload=function(){return o(r)},n.callback=function(){_s(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_s(t,e),typeof o!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function ba(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new qh;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(r.add(n),t=jh.bind(null,t,e,n),e.then(t,t))}function Ba(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ja(t,e,n,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ht(-1,1),e.tag=2,Ft(n,e,1))),n.lanes|=1),t)}var zh=Ct.ReactCurrentOwner,Re=!1;function we(t,e,n,o){e.child=t===null?of(e,null,n,o):Fn(e,t.child,n,o)}function $a(t,e,n,o,r){n=n.render;var i=e.ref;return Nn(e,r),o=Nl(t,e,n,o,i,r),n=Al(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,xt(t,e,r)):(ne&&n&&hl(e),e.flags|=1,we(t,e,o,r),e.child)}function Oa(t,e,n,o,r){if(t===null){var i=n.type;return typeof i=="function"&&!Gl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Rf(t,e,i,o,r)):(t=yr(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:No,n(l,o)&&t.ref===e.ref)return xt(t,e,r)}return e.flags|=1,t=Gt(i,o),t.ref=e.ref,t.return=e,e.child=t}function Rf(t,e,n,o,r){if(t!==null){var i=t.memoizedProps;if(No(i,o)&&t.ref===e.ref)if(Re=!1,e.pendingProps=o=i,(t.lanes&r)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,xt(t,e,r)}return ws(t,e,n,o,r)}function Pf(t,e,n){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Cn,Le),Le|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(Cn,Le),Le|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,X(Cn,Le),Le|=o}else i!==null?(o=i.baseLanes|n,e.memoizedState=null):o=n,X(Cn,Le),Le|=o;return we(t,e,r,n),e.child}function Mf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ws(t,e,n,o,r){var i=Me(n)?Zt:_e.current;return i=Dn(e,i),Nn(e,r),n=Nl(t,e,n,o,i,r),o=Al(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,xt(t,e,r)):(ne&&o&&hl(e),e.flags|=1,we(t,e,n,r),e.child)}function Wa(t,e,n,o,r){if(Me(n)){var i=!0;Pr(e)}else i=!1;if(Nn(e,r),e.stateNode===null)mr(t,e),Nf(e,n,o),Ss(e,n,o,r),o=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var d=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=$e(c):(c=Me(n)?Zt:_e.current,c=Dn(e,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||d!==c)&&Ha(e,l,o,c),It=!1;var h=e.memoizedState;l.state=h,Ur(e,o,l,r),d=e.memoizedState,u!==o||h!==d||Pe.current||It?(typeof f=="function"&&(Ts(e,n,f,o),d=e.memoizedState),(u=It||za(e,n,u,o,h,d,c))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=d),l.props=o,l.state=d,l.context=c,o=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,sf(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:Ke(e.type,u),l.props=c,m=e.pendingProps,h=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=$e(d):(d=Me(n)?Zt:_e.current,d=Dn(e,d));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||h!==d)&&Ha(e,l,o,d),It=!1,h=e.memoizedState,l.state=h,Ur(e,o,l,r);var C=e.memoizedState;u!==m||h!==C||Pe.current||It?(typeof y=="function"&&(Ts(e,n,y,o),C=e.memoizedState),(c=It||za(e,n,c,o,h,C,d)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,C,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,C,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=C),l.props=o,l.state=C,l.context=d,o=c):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),o=!1)}return Is(t,e,n,o,i,r)}function Is(t,e,n,o,r,i){Mf(t,e);var l=(e.flags&128)!==0;if(!o&&!l)return r&&Ma(e,n,!1),xt(t,e,i);o=e.stateNode,zh.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&l?(e.child=Fn(e,t.child,null,i),e.child=Fn(e,null,u,i)):we(t,e,u,i),e.memoizedState=o.state,r&&Ma(e,n,!0),e.child}function Df(t){var e=t.stateNode;e.pendingContext?Pa(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pa(t,e.context,!1),Sl(t,e.containerInfo)}function Ya(t,e,n,o,r){return Ln(),yl(r),e.flags|=256,we(t,e,n,o),e.child}var Ns={dehydrated:null,treeContext:null,retryLane:0};function As(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lf(t,e,n){var o=e.pendingProps,r=re.current,i=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),X(re,r&1),t===null)return Es(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,t=o.fallback,i?(o=e.mode,i=e.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=si(l,o,0,null),t=Xt(t,o,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=As(n),e.memoizedState=Ns,t):Pl(e,l));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Hh(t,e,l,o,u,r,n);if(i){i=o.fallback,l=e.mode,r=t.child,u=r.sibling;var d={mode:"hidden",children:o.children};return!(l&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=d,e.deletions=null):(o=Gt(r,d),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Gt(u,i):(i=Xt(i,l,n,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,l=t.child.memoizedState,l=l===null?As(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Ns,o}return i=t.child,t=i.sibling,o=Gt(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function Pl(t,e){return e=si({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tr(t,e,n,o){return o!==null&&yl(o),Fn(e,t.child,null,n),t=Pl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hh(t,e,n,o,r,i,l){if(n)return e.flags&256?(e.flags&=-257,o=Gi(Error(k(422))),tr(t,e,l,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=si({mode:"visible",children:o.children},r,0,null),i=Xt(i,r,l,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&Fn(e,t.child,null,l),e.child.memoizedState=As(l),e.memoizedState=Ns,i);if(!(e.mode&1))return tr(t,e,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(k(419)),o=Gi(i,o,void 0),tr(t,e,l,o)}if(u=(l&t.childLanes)!==0,Re||u){if(o=he,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,vt(t,r),je(o,t,r,-1))}return Vl(),o=Gi(Error(k(421))),tr(t,e,l,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=eg.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Fe=Lt(r.nextSibling),Ue=e,ne=!0,Xe=null,t!==null&&(ze[He++]=ft,ze[He++]=pt,ze[He++]=jt,ft=t.id,pt=t.overflow,jt=e),e=Pl(e,o.children),e.flags|=4096,e)}function Ka(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Cs(t.return,e,n)}function qi(t,e,n,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Ff(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(we(t,e,o.children,n),o=re.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ka(t,n,e);else if(t.tag===19)Ka(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(X(re,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Vr(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),qi(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Vr(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}qi(e,!0,n,null,i);break;case"together":qi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mr(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=Gt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bh(t,e,n){switch(e.tag){case 3:Df(e),Ln();break;case 5:lf(e);break;case 1:Me(e.type)&&Pr(e);break;case 4:Sl(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;X(Lr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(X(re,re.current&1),e.flags|=128,null):n&e.child.childLanes?Lf(t,e,n):(X(re,re.current&1),t=xt(t,e,n),t!==null?t.sibling:null);X(re,re.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return Ff(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),X(re,re.current),o)break;return null;case 22:case 23:return e.lanes=0,Pf(t,e,n)}return xt(t,e,n)}var Uf,ks,Vf,Gf;Uf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ks=function(){};Vf=function(t,e,n,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,Kt(at.current);var i=null;switch(n){case"input":r=Xi(t,r),o=Xi(t,o),i=[];break;case"select":r=se({},r,{value:void 0}),o=se({},o,{value:void 0}),i=[];break;case"textarea":r=es(t,r),o=es(t,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=kr)}ns(n,o);var l;n=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var u=r[c];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Eo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in o){var d=o[c];if(u=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&d!==u&&(d!=null||u!=null))if(c==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(i||(i=[]),i.push(c,n)),n=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&j("scroll",t),i||u===d||(i=[])):(i=i||[]).push(c,d))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Gf=function(t,e,n,o){n!==o&&(e.flags|=4)};function Zn(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function Bh(t,e,n){var o=e.pendingProps;switch(gl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(e),null;case 1:return Me(e.type)&&Rr(),Ce(e),null;case 3:return o=e.stateNode,Un(),te(Pe),te(_e),wl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(jo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xe!==null&&(Vs(Xe),Xe=null))),ks(t,e),Ce(e),null;case 5:_l(e);var r=Kt(Mo.current);if(n=e.type,t!==null&&e.stateNode!=null)Vf(t,e,n,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(k(166));return Ce(e),null}if(t=Kt(at.current),jo(e)){o=e.stateNode,n=e.type;var i=e.memoizedProps;switch(o[st]=e,o[Ro]=i,t=(e.mode&1)!==0,n){case"dialog":j("cancel",o),j("close",o);break;case"iframe":case"object":case"embed":j("load",o);break;case"video":case"audio":for(r=0;r<io.length;r++)j(io[r],o);break;case"source":j("error",o);break;case"img":case"image":case"link":j("error",o),j("load",o);break;case"details":j("toggle",o);break;case"input":ra(o,i),j("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},j("invalid",o);break;case"textarea":sa(o,i),j("invalid",o)}ns(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&Zo(o.textContent,u,t),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Zo(o.textContent,u,t),r=["children",""+u]):Eo.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&j("scroll",o)}switch(n){case"input":Jo(o),ia(o,i,!0);break;case"textarea":Jo(o),la(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=kr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=l.createElement(n,{is:o.is}):(t=l.createElement(n),n==="select"&&(l=t,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):t=l.createElementNS(t,n),t[st]=e,t[Ro]=o,Uf(t,e,!1,!1),e.stateNode=t;e:{switch(l=os(n,o),n){case"dialog":j("cancel",t),j("close",t),r=o;break;case"iframe":case"object":case"embed":j("load",t),r=o;break;case"video":case"audio":for(r=0;r<io.length;r++)j(io[r],t);r=o;break;case"source":j("error",t),r=o;break;case"img":case"image":case"link":j("error",t),j("load",t),r=o;break;case"details":j("toggle",t),r=o;break;case"input":ra(t,o),r=Xi(t,o),j("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=se({},o,{value:void 0}),j("invalid",t);break;case"textarea":sa(t,o),r=es(t,o),j("invalid",t);break;default:r=o}ns(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?mc(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&fc(t,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Co(t,d):typeof d=="number"&&Co(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eo.hasOwnProperty(i)?d!=null&&i==="onScroll"&&j("scroll",t):d!=null&&tl(t,i,d,l))}switch(n){case"input":Jo(t),ia(t,o,!1);break;case"textarea":Jo(t),la(t);break;case"option":o.value!=null&&t.setAttribute("value",""+qt(o.value));break;case"select":t.multiple=!!o.multiple,i=o.value,i!=null?Sn(t,!!o.multiple,i,!1):o.defaultValue!=null&&Sn(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=kr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ce(e),null;case 6:if(t&&e.stateNode!=null)Gf(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(k(166));if(n=Kt(Mo.current),Kt(at.current),jo(e)){if(o=e.stateNode,n=e.memoizedProps,o[st]=e,(i=o.nodeValue!==n)&&(t=Ue,t!==null))switch(t.tag){case 3:Zo(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zo(o.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[st]=e,e.stateNode=o}return Ce(e),null;case 13:if(te(re),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Fe!==null&&e.mode&1&&!(e.flags&128))tf(),Ln(),e.flags|=98560,i=!1;else if(i=jo(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[st]=e}else Ln(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),i=!1}else Xe!==null&&(Vs(Xe),Xe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?fe===0&&(fe=3):Vl())),e.updateQueue!==null&&(e.flags|=4),Ce(e),null);case 4:return Un(),ks(t,e),t===null&&Ao(e.stateNode.containerInfo),Ce(e),null;case 10:return El(e.type._context),Ce(e),null;case 17:return Me(e.type)&&Rr(),Ce(e),null;case 19:if(te(re),i=e.memoizedState,i===null)return Ce(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)Zn(i,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Vr(t),l!==null){for(e.flags|=128,Zn(i,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)i=n,t=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(re,re.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>Gn&&(e.flags|=128,o=!0,Zn(i,!1),e.lanes=4194304)}else{if(!o)if(t=Vr(l),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ne)return Ce(e),null}else 2*ae()-i.renderingStartTime>Gn&&n!==1073741824&&(e.flags|=128,o=!0,Zn(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,n=re.current,X(re,o?n&1|2:n&1),e):(Ce(e),null);case 22:case 23:return Ul(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Le&1073741824&&(Ce(e),e.subtreeFlags&6&&(e.flags|=8192)):Ce(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Jh(t,e){switch(gl(e),e.tag){case 1:return Me(e.type)&&Rr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Un(),te(Pe),te(_e),wl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _l(e),null;case 13:if(te(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Ln()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(re),null;case 4:return Un(),null;case 10:return El(e.type._context),null;case 22:case 23:return Ul(),null;case 24:return null;default:return null}}var nr=!1,Te=!1,$h=typeof WeakSet=="function"?WeakSet:Set,F=null;function En(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){le(t,e,o)}else n.current=null}function Rs(t,e,n){try{n()}catch(o){le(t,e,o)}}var Qa=!1;function Oh(t,e){if(ps=Ir,t=bc(),ml(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,c=0,f=0,m=t,h=null;t:for(;;){for(var y;m!==n||r!==0&&m.nodeType!==3||(u=l+r),m!==i||o!==0&&m.nodeType!==3||(d=l+o),m.nodeType===3&&(l+=m.nodeValue.length),(y=m.firstChild)!==null;)h=m,m=y;for(;;){if(m===t)break t;if(h===n&&++c===r&&(u=l),h===i&&++f===o&&(d=l),(y=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=y}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(ms={focusedElem:t,selectionRange:n},Ir=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,I=C.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?T:Ke(e.type,T),I);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(E){le(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return C=Qa,Qa=!1,C}function po(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Rs(e,n,i)}r=r.next}while(r!==o)}}function ri(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function Ps(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qf(t){var e=t.alternate;e!==null&&(t.alternate=null,qf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[st],delete e[Ro],delete e[ys],delete e[Ah],delete e[kh])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zf(t){return t.tag===5||t.tag===3||t.tag===4}function Xa(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ms(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kr));else if(o!==4&&(t=t.child,t!==null))for(Ms(t,e,n),t=t.sibling;t!==null;)Ms(t,e,n),t=t.sibling}function Ds(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(Ds(t,e,n),t=t.sibling;t!==null;)Ds(t,e,n),t=t.sibling}var ge=null,Qe=!1;function _t(t,e,n){for(n=n.child;n!==null;)Hf(t,e,n),n=n.sibling}function Hf(t,e,n){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Qr,n)}catch{}switch(n.tag){case 5:Te||En(n,e);case 6:var o=ge,r=Qe;ge=null,_t(t,e,n),ge=o,Qe=r,ge!==null&&(Qe?(t=ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(Qe?(t=ge,n=n.stateNode,t.nodeType===8?Mi(t.parentNode,n):t.nodeType===1&&Mi(t,n),wo(t)):Mi(ge,n.stateNode));break;case 4:o=ge,r=Qe,ge=n.stateNode.containerInfo,Qe=!0,_t(t,e,n),ge=o,Qe=r;break;case 0:case 11:case 14:case 15:if(!Te&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Rs(n,e,l),r=r.next}while(r!==o)}_t(t,e,n);break;case 1:if(!Te&&(En(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){le(n,e,u)}_t(t,e,n);break;case 21:_t(t,e,n);break;case 22:n.mode&1?(Te=(o=Te)||n.memoizedState!==null,_t(t,e,n),Te=o):_t(t,e,n);break;default:_t(t,e,n)}}function Za(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $h),e.forEach(function(o){var r=tg.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}}function Ye(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:ge=u.stateNode,Qe=!1;break e;case 3:ge=u.stateNode.containerInfo,Qe=!0;break e;case 4:ge=u.stateNode.containerInfo,Qe=!0;break e}u=u.return}if(ge===null)throw Error(k(160));Hf(i,l,r),ge=null,Qe=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(c){le(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bf(e,t),e=e.sibling}function bf(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ye(e,t),rt(t),o&4){try{po(3,t,t.return),ri(3,t)}catch(T){le(t,t.return,T)}try{po(5,t,t.return)}catch(T){le(t,t.return,T)}}break;case 1:Ye(e,t),rt(t),o&512&&n!==null&&En(n,n.return);break;case 5:if(Ye(e,t),rt(t),o&512&&n!==null&&En(n,n.return),t.flags&32){var r=t.stateNode;try{Co(r,"")}catch(T){le(t,t.return,T)}}if(o&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&uc(r,i),os(u,l);var c=os(u,i);for(l=0;l<d.length;l+=2){var f=d[l],m=d[l+1];f==="style"?mc(r,m):f==="dangerouslySetInnerHTML"?fc(r,m):f==="children"?Co(r,m):tl(r,f,m,c)}switch(u){case"input":Zi(r,i);break;case"textarea":dc(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Sn(r,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?Sn(r,!!i.multiple,i.defaultValue,!0):Sn(r,!!i.multiple,i.multiple?[]:"",!1))}r[Ro]=i}catch(T){le(t,t.return,T)}}break;case 6:if(Ye(e,t),rt(t),o&4){if(t.stateNode===null)throw Error(k(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(T){le(t,t.return,T)}}break;case 3:if(Ye(e,t),rt(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{wo(e.containerInfo)}catch(T){le(t,t.return,T)}break;case 4:Ye(e,t),rt(t);break;case 13:Ye(e,t),rt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Ll=ae())),o&4&&Za(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Te=(c=Te)||f,Ye(e,t),Te=c):Ye(e,t),rt(t),o&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(F=t,f=t.child;f!==null;){for(m=F=f;F!==null;){switch(h=F,y=h.child,h.tag){case 0:case 11:case 14:case 15:po(4,h,h.return);break;case 1:En(h,h.return);var C=h.stateNode;if(typeof C.componentWillUnmount=="function"){o=h,n=h.return;try{e=o,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(T){le(o,n,T)}}break;case 5:En(h,h.return);break;case 22:if(h.memoizedState!==null){eu(m);continue}}y!==null?(y.return=h,F=y):eu(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{r=m.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=pc("display",l))}catch(T){le(t,t.return,T)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(T){le(t,t.return,T)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ye(e,t),rt(t),o&4&&Za(t);break;case 21:break;default:Ye(e,t),rt(t)}}function rt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zf(n)){var o=n;break e}n=n.return}throw Error(k(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Co(r,""),o.flags&=-33);var i=Xa(t);Ds(t,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Xa(t);Ms(t,u,l);break;default:throw Error(k(161))}}catch(d){le(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wh(t,e,n){F=t,Bf(t)}function Bf(t,e,n){for(var o=(t.mode&1)!==0;F!==null;){var r=F,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||nr;if(!l){var u=r.alternate,d=u!==null&&u.memoizedState!==null||Te;u=nr;var c=Te;if(nr=l,(Te=d)&&!c)for(F=r;F!==null;)l=F,d=l.child,l.tag===22&&l.memoizedState!==null?tu(r):d!==null?(d.return=l,F=d):tu(r);for(;i!==null;)F=i,Bf(i),i=i.sibling;F=r,nr=u,Te=c}ja(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,F=i):ja(t)}}function ja(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||ri(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Te)if(n===null)o.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Ke(e.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Va(e,i,o);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Va(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&wo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Te||e.flags&512&&Ps(e)}catch(h){le(e,e.return,h)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function eu(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function tu(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ri(4,e)}catch(d){le(e,n,d)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(d){le(e,r,d)}}var i=e.return;try{Ps(e)}catch(d){le(e,i,d)}break;case 5:var l=e.return;try{Ps(e)}catch(d){le(e,l,d)}}}catch(d){le(e,e.return,d)}if(e===t){F=null;break}var u=e.sibling;if(u!==null){u.return=e.return,F=u;break}F=e.return}}var Yh=Math.ceil,zr=Ct.ReactCurrentDispatcher,Ml=Ct.ReactCurrentOwner,Be=Ct.ReactCurrentBatchConfig,W=0,he=null,de=null,ye=0,Le=0,Cn=bt(0),fe=0,Uo=null,tn=0,ii=0,Dl=0,mo=null,ke=null,Ll=0,Gn=1/0,dt=null,Hr=!1,Ls=null,Ut=null,or=!1,Rt=null,br=0,ho=0,Fs=null,hr=-1,gr=0;function Ie(){return W&6?ae():hr!==-1?hr:hr=ae()}function Vt(t){return t.mode&1?W&2&&ye!==0?ye&-ye:Ph.transition!==null?(gr===0&&(gr=Ic()),gr):(t=Q,t!==0||(t=window.event,t=t===void 0?16:Dc(t.type)),t):1}function je(t,e,n,o){if(50<ho)throw ho=0,Fs=null,Error(k(185));Go(t,n,o),(!(W&2)||t!==he)&&(t===he&&(!(W&2)&&(ii|=n),fe===4&&At(t,ye)),De(t,o),n===1&&W===0&&!(e.mode&1)&&(Gn=ae()+500,ti&&Bt()))}function De(t,e){var n=t.callbackNode;Pm(t,e);var o=wr(t,t===he?ye:0);if(o===0)n!==null&&da(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&da(n),e===1)t.tag===0?Rh(nu.bind(null,t)):Zc(nu.bind(null,t)),Ih(function(){!(W&6)&&Bt()}),n=null;else{switch(Nc(o)){case 1:n=sl;break;case 4:n=_c;break;case 16:n=_r;break;case 536870912:n=wc;break;default:n=_r}n=Xf(n,Jf.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jf(t,e){if(hr=-1,gr=0,W&6)throw Error(k(327));var n=t.callbackNode;if(An()&&t.callbackNode!==n)return null;var o=wr(t,t===he?ye:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=Br(t,o);else{e=o;var r=W;W|=2;var i=Of();(he!==t||ye!==e)&&(dt=null,Gn=ae()+500,Qt(t,e));do try{Xh();break}catch(u){$f(t,u)}while(!0);xl(),zr.current=i,W=r,de!==null?e=0:(he=null,ye=0,e=fe)}if(e!==0){if(e===2&&(r=as(t),r!==0&&(o=r,e=Us(t,r))),e===1)throw n=Uo,Qt(t,0),At(t,o),De(t,ae()),n;if(e===6)At(t,o);else{if(r=t.current.alternate,!(o&30)&&!Kh(r)&&(e=Br(t,o),e===2&&(i=as(t),i!==0&&(o=i,e=Us(t,i))),e===1))throw n=Uo,Qt(t,0),At(t,o),De(t,ae()),n;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(k(345));case 2:Ot(t,ke,dt);break;case 3:if(At(t,o),(o&130023424)===o&&(e=Ll+500-ae(),10<e)){if(wr(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){Ie(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=gs(Ot.bind(null,t,ke,dt),e);break}Ot(t,ke,dt);break;case 4:if(At(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var l=31-Ze(o);i=1<<l,l=e[l],l>r&&(r=l),o&=~i}if(o=r,o=ae()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Yh(o/1960))-o,10<o){t.timeoutHandle=gs(Ot.bind(null,t,ke,dt),o);break}Ot(t,ke,dt);break;case 5:Ot(t,ke,dt);break;default:throw Error(k(329))}}}return De(t,ae()),t.callbackNode===n?Jf.bind(null,t):null}function Us(t,e){var n=mo;return t.current.memoizedState.isDehydrated&&(Qt(t,e).flags|=256),t=Br(t,e),t!==2&&(e=ke,ke=n,e!==null&&Vs(e)),t}function Vs(t){ke===null?ke=t:ke.push.apply(ke,t)}function Kh(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!et(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function At(t,e){for(e&=~Dl,e&=~ii,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ze(e),o=1<<n;t[n]=-1,e&=~o}}function nu(t){if(W&6)throw Error(k(327));An();var e=wr(t,0);if(!(e&1))return De(t,ae()),null;var n=Br(t,e);if(t.tag!==0&&n===2){var o=as(t);o!==0&&(e=o,n=Us(t,o))}if(n===1)throw n=Uo,Qt(t,0),At(t,e),De(t,ae()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ot(t,ke,dt),De(t,ae()),null}function Fl(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(Gn=ae()+500,ti&&Bt())}}function nn(t){Rt!==null&&Rt.tag===0&&!(W&6)&&An();var e=W;W|=1;var n=Be.transition,o=Q;try{if(Be.transition=null,Q=1,t)return t()}finally{Q=o,Be.transition=n,W=e,!(W&6)&&Bt()}}function Ul(){Le=Cn.current,te(Cn)}function Qt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wh(n)),de!==null)for(n=de.return;n!==null;){var o=n;switch(gl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Rr();break;case 3:Un(),te(Pe),te(_e),wl();break;case 5:_l(o);break;case 4:Un();break;case 13:te(re);break;case 19:te(re);break;case 10:El(o.type._context);break;case 22:case 23:Ul()}n=n.return}if(he=t,de=t=Gt(t.current,null),ye=Le=e,fe=0,Uo=null,Dl=ii=tn=0,ke=mo=null,Yt!==null){for(e=0;e<Yt.length;e++)if(n=Yt[e],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}Yt=null}return t}function $f(t,e){do{var n=de;try{if(xl(),fr.current=qr,Gr){for(var o=ie.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Gr=!1}if(en=0,me=ce=ie=null,fo=!1,Do=0,Ml.current=null,n===null||n.return===null){fe=1,Uo=e,de=null;break}e:{var i=t,l=n.return,u=n,d=e;if(e=ye,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Ba(l);if(y!==null){y.flags&=-257,Ja(y,l,u,i,e),y.mode&1&&ba(i,c,e),e=y,d=c;var C=e.updateQueue;if(C===null){var T=new Set;T.add(d),e.updateQueue=T}else C.add(d);break e}else{if(!(e&1)){ba(i,c,e),Vl();break e}d=Error(k(426))}}else if(ne&&u.mode&1){var I=Ba(l);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Ja(I,l,u,i,e),yl(Vn(d,u));break e}}i=d=Vn(d,u),fe!==4&&(fe=2),mo===null?mo=[i]:mo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=Af(i,d,e);Ua(i,x);break e;case 1:u=d;var v=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ut===null||!Ut.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=kf(i,u,e);Ua(i,E);break e}}i=i.return}while(i!==null)}Yf(n)}catch(_){e=_,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Of(){var t=zr.current;return zr.current=qr,t===null?qr:t}function Vl(){(fe===0||fe===3||fe===2)&&(fe=4),he===null||!(tn&268435455)&&!(ii&268435455)||At(he,ye)}function Br(t,e){var n=W;W|=2;var o=Of();(he!==t||ye!==e)&&(dt=null,Qt(t,e));do try{Qh();break}catch(r){$f(t,r)}while(!0);if(xl(),W=n,zr.current=o,de!==null)throw Error(k(261));return he=null,ye=0,fe}function Qh(){for(;de!==null;)Wf(de)}function Xh(){for(;de!==null&&!Tm();)Wf(de)}function Wf(t){var e=Qf(t.alternate,t,Le);t.memoizedProps=t.pendingProps,e===null?Yf(t):de=e,Ml.current=null}function Yf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jh(n,e),n!==null){n.flags&=32767,de=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,de=null;return}}else if(n=Bh(n,e,Le),n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);fe===0&&(fe=5)}function Ot(t,e,n){var o=Q,r=Be.transition;try{Be.transition=null,Q=1,Zh(t,e,n,o)}finally{Be.transition=r,Q=o}return null}function Zh(t,e,n,o){do An();while(Rt!==null);if(W&6)throw Error(k(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Mm(t,i),t===he&&(de=he=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||or||(or=!0,Xf(_r,function(){return An(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var l=Q;Q=1;var u=W;W|=4,Ml.current=null,Oh(t,n),bf(n,t),vh(ms),Ir=!!ps,ms=ps=null,t.current=n,Wh(n),Sm(),W=u,Q=l,Be.transition=i}else t.current=n;if(or&&(or=!1,Rt=t,br=r),i=t.pendingLanes,i===0&&(Ut=null),Im(n.stateNode),De(t,ae()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Hr)throw Hr=!1,t=Ls,Ls=null,t;return br&1&&t.tag!==0&&An(),i=t.pendingLanes,i&1?t===Fs?ho++:(ho=0,Fs=t):ho=0,Bt(),null}function An(){if(Rt!==null){var t=Nc(br),e=Be.transition,n=Q;try{if(Be.transition=null,Q=16>t?16:t,Rt===null)var o=!1;else{if(t=Rt,Rt=null,br=0,W&6)throw Error(k(331));var r=W;for(W|=4,F=t.current;F!==null;){var i=F,l=i.child;if(F.flags&16){var u=i.deletions;if(u!==null){for(var d=0;d<u.length;d++){var c=u[d];for(F=c;F!==null;){var f=F;switch(f.tag){case 0:case 11:case 15:po(8,f,i)}var m=f.child;if(m!==null)m.return=f,F=m;else for(;F!==null;){f=F;var h=f.sibling,y=f.return;if(qf(f),f===c){F=null;break}if(h!==null){h.return=y,F=h;break}F=y}}}var C=i.alternate;if(C!==null){var T=C.child;if(T!==null){C.child=null;do{var I=T.sibling;T.sibling=null,T=I}while(T!==null)}}F=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,F=l;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:po(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,F=x;break e}F=i.return}}var v=t.current;for(F=v;F!==null;){l=F;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,F=g;else e:for(l=v;F!==null;){if(u=F,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ri(9,u)}}catch(_){le(u,u.return,_)}if(u===l){F=null;break e}var E=u.sibling;if(E!==null){E.return=u.return,F=E;break e}F=u.return}}if(W=r,Bt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Qr,t)}catch{}o=!0}return o}finally{Q=n,Be.transition=e}}return!1}function ou(t,e,n){e=Vn(n,e),e=Af(t,e,1),t=Ft(t,e,1),e=Ie(),t!==null&&(Go(t,1,e),De(t,e))}function le(t,e,n){if(t.tag===3)ou(t,t,n);else for(;e!==null;){if(e.tag===3){ou(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ut===null||!Ut.has(o))){t=Vn(n,t),t=kf(e,t,1),e=Ft(e,t,1),t=Ie(),e!==null&&(Go(e,1,t),De(e,t));break}}e=e.return}}function jh(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=Ie(),t.pingedLanes|=t.suspendedLanes&n,he===t&&(ye&n)===n&&(fe===4||fe===3&&(ye&130023424)===ye&&500>ae()-Ll?Qt(t,0):Dl|=n),De(t,e)}function Kf(t,e){e===0&&(t.mode&1?(e=Wo,Wo<<=1,!(Wo&130023424)&&(Wo=4194304)):e=1);var n=Ie();t=vt(t,e),t!==null&&(Go(t,e,n),De(t,n))}function eg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Kf(t,n)}function tg(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(k(314))}o!==null&&o.delete(e),Kf(t,n)}var Qf;Qf=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Re=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Re=!1,bh(t,e,n);Re=!!(t.flags&131072)}else Re=!1,ne&&e.flags&1048576&&jc(e,Dr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;mr(t,e),t=e.pendingProps;var r=Dn(e,_e.current);Nn(e,n),r=Nl(null,e,o,t,r,n);var i=Al();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Me(o)?(i=!0,Pr(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Tl(e),r.updater=oi,e.stateNode=r,r._reactInternals=e,Ss(e,o,t,n),e=Is(null,e,o,!0,i,n)):(e.tag=0,ne&&i&&hl(e),we(null,e,r,n),e=e.child),e;case 16:o=e.elementType;e:{switch(mr(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=og(o),t=Ke(o,t),r){case 0:e=ws(null,e,o,t,n);break e;case 1:e=Wa(null,e,o,t,n);break e;case 11:e=$a(null,e,o,t,n);break e;case 14:e=Oa(null,e,o,Ke(o.type,t),n);break e}throw Error(k(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),ws(t,e,o,r,n);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),Wa(t,e,o,r,n);case 3:e:{if(Df(e),t===null)throw Error(k(387));o=e.pendingProps,i=e.memoizedState,r=i.element,sf(t,e),Ur(e,o,null,n);var l=e.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Vn(Error(k(423)),e),e=Ya(t,e,o,n,r);break e}else if(o!==r){r=Vn(Error(k(424)),e),e=Ya(t,e,o,n,r);break e}else for(Fe=Lt(e.stateNode.containerInfo.firstChild),Ue=e,ne=!0,Xe=null,n=of(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ln(),o===r){e=xt(t,e,n);break e}we(t,e,o,n)}e=e.child}return e;case 5:return lf(e),t===null&&Es(e),o=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,l=r.children,hs(o,r)?l=null:i!==null&&hs(o,i)&&(e.flags|=32),Mf(t,e),we(t,e,l,n),e.child;case 6:return t===null&&Es(e),null;case 13:return Lf(t,e,n);case 4:return Sl(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Fn(e,null,o,n):we(t,e,o,n),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),$a(t,e,o,r,n);case 7:return we(t,e,e.pendingProps,n),e.child;case 8:return we(t,e,e.pendingProps.children,n),e.child;case 12:return we(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,l=r.value,X(Lr,o._currentValue),o._currentValue=l,i!==null)if(et(i.value,l)){if(i.children===r.children&&!Pe.current){e=xt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var d=u.firstContext;d!==null;){if(d.context===o){if(i.tag===1){d=ht(-1,n&-n),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Cs(i.return,n,e),u.lanes|=n;break}d=d.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(k(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Cs(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}we(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Nn(e,n),r=$e(r),o=o(r),e.flags|=1,we(t,e,o,n),e.child;case 14:return o=e.type,r=Ke(o,e.pendingProps),r=Ke(o.type,r),Oa(t,e,o,r,n);case 15:return Rf(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),mr(t,e),e.tag=1,Me(o)?(t=!0,Pr(e)):t=!1,Nn(e,n),Nf(e,o,r),Ss(e,o,r,n),Is(null,e,o,!0,t,n);case 19:return Ff(t,e,n);case 22:return Pf(t,e,n)}throw Error(k(156,e.tag))};function Xf(t,e){return Sc(t,e)}function ng(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function be(t,e,n,o){return new ng(t,e,n,o)}function Gl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function og(t){if(typeof t=="function")return Gl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ol)return 11;if(t===rl)return 14}return 2}function Gt(t,e){var n=t.alternate;return n===null?(n=be(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yr(t,e,n,o,r,i){var l=2;if(o=t,typeof t=="function")Gl(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case cn:return Xt(n.children,r,i,e);case nl:l=8,r|=8;break;case Wi:return t=be(12,n,e,r|2),t.elementType=Wi,t.lanes=i,t;case Yi:return t=be(13,n,e,r),t.elementType=Yi,t.lanes=i,t;case Ki:return t=be(19,n,e,r),t.elementType=Ki,t.lanes=i,t;case sc:return si(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rc:l=10;break e;case ic:l=9;break e;case ol:l=11;break e;case rl:l=14;break e;case wt:l=16,o=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=be(l,n,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function Xt(t,e,n,o){return t=be(7,t,o,e),t.lanes=n,t}function si(t,e,n,o){return t=be(22,t,o,e),t.elementType=sc,t.lanes=n,t.stateNode={isHidden:!1},t}function zi(t,e,n){return t=be(6,t,null,e),t.lanes=n,t}function Hi(t,e,n){return e=be(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rg(t,e,n,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ql(t,e,n,o,r,i,l,u,d){return t=new rg(t,e,n,u,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=be(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(i),t}function ig(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dn,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function Zf(t){if(!t)return zt;t=t._reactInternals;e:{if(rn(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Me(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(Me(n))return Xc(t,n,e)}return e}function jf(t,e,n,o,r,i,l,u,d){return t=ql(n,o,!0,t,r,i,l,u,d),t.context=Zf(null),n=t.current,o=Ie(),r=Vt(n),i=ht(o,r),i.callback=e??null,Ft(n,i,r),t.current.lanes=r,Go(t,r,o),De(t,o),t}function li(t,e,n,o){var r=e.current,i=Ie(),l=Vt(r);return n=Zf(n),e.context===null?e.context=n:e.pendingContext=n,e=ht(i,l),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Ft(r,e,l),t!==null&&(je(t,r,l,i),cr(t,r,l)),l}function Jr(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ru(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zl(t,e){ru(t,e),(t=t.alternate)&&ru(t,e)}function sg(){return null}var ep=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hl(t){this._internalRoot=t}ai.prototype.render=Hl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));li(t,e,null,null)};ai.prototype.unmount=Hl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nn(function(){li(null,t,null,null)}),e[yt]=null}};function ai(t){this._internalRoot=t}ai.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nt.length&&e!==0&&e<Nt[n].priority;n++);Nt.splice(n,0,t),n===0&&Mc(t)}};function bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ui(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iu(){}function lg(t,e,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var c=Jr(l);i.call(c)}}var l=jf(e,o,t,0,null,!1,!1,"",iu);return t._reactRootContainer=l,t[yt]=l.current,Ao(t.nodeType===8?t.parentNode:t),nn(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var c=Jr(d);u.call(c)}}var d=ql(t,0,!1,null,null,!1,!1,"",iu);return t._reactRootContainer=d,t[yt]=d.current,Ao(t.nodeType===8?t.parentNode:t),nn(function(){li(e,d,n,o)}),d}function di(t,e,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var d=Jr(l);u.call(d)}}li(e,l,t,r)}else l=lg(n,e,t,r,o);return Jr(l)}Ac=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ro(e.pendingLanes);n!==0&&(ll(e,n|1),De(e,ae()),!(W&6)&&(Gn=ae()+500,Bt()))}break;case 13:nn(function(){var o=vt(t,1);if(o!==null){var r=Ie();je(o,t,1,r)}}),zl(t,1)}};al=function(t){if(t.tag===13){var e=vt(t,134217728);if(e!==null){var n=Ie();je(e,t,134217728,n)}zl(t,134217728)}};kc=function(t){if(t.tag===13){var e=Vt(t),n=vt(t,e);if(n!==null){var o=Ie();je(n,t,e,o)}zl(t,e)}};Rc=function(){return Q};Pc=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};is=function(t,e,n){switch(e){case"input":if(Zi(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=ei(o);if(!r)throw Error(k(90));ac(o),Zi(o,r)}}}break;case"textarea":dc(t,n);break;case"select":e=n.value,e!=null&&Sn(t,!!n.multiple,e,!1)}};yc=Fl;vc=nn;var ag={usingClientEntryPoint:!1,Events:[zo,hn,ei,hc,gc,Fl]},jn={findFiberByHostInstance:Wt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ug={bundleType:jn.bundleType,version:jn.version,rendererPackageName:jn.rendererPackageName,rendererConfig:jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cc(t),t===null?null:t.stateNode},findFiberByHostInstance:jn.findFiberByHostInstance||sg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rr.isDisabled&&rr.supportsFiber)try{Qr=rr.inject(ug),lt=rr}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ag;Ge.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bl(e))throw Error(k(200));return ig(t,e,null,n)};Ge.createRoot=function(t,e){if(!bl(t))throw Error(k(299));var n=!1,o="",r=ep;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=ql(t,1,!1,null,null,n,!1,o,r),t[yt]=e.current,Ao(t.nodeType===8?t.parentNode:t),new Hl(e)};Ge.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Cc(e),t=t===null?null:t.stateNode,t};Ge.flushSync=function(t){return nn(t)};Ge.hydrate=function(t,e,n){if(!ui(e))throw Error(k(200));return di(null,t,e,!0,n)};Ge.hydrateRoot=function(t,e,n){if(!bl(t))throw Error(k(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=ep;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=jf(e,null,t,1,n??null,r,!1,i,l),t[yt]=e.current,Ao(t),o)for(t=0;t<o.length;t++)n=o[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new ai(e)};Ge.render=function(t,e,n){if(!ui(e))throw Error(k(200));return di(null,t,e,!1,n)};Ge.unmountComponentAtNode=function(t){if(!ui(t))throw Error(k(40));return t._reactRootContainer?(nn(function(){di(null,null,t,!1,function(){t._reactRootContainer=null,t[yt]=null})}),!0):!1};Ge.unstable_batchedUpdates=Fl;Ge.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!ui(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return di(t,e,n,!1,o)};Ge.version="18.3.1-next-f1338f8080-20240426";function tp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tp)}catch(t){console.error(t)}}tp(),ec.exports=Ge;var dg=ec.exports,su=dg;$i.createRoot=su.createRoot,$i.hydrateRoot=su.hydrateRoot;/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),np=(...t)=>t.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=$.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:r="",children:i,iconNode:l,...u},d)=>$.createElement("svg",{ref:d,...fg,width:e,height:e,stroke:t,strokeWidth:o?Number(n)*24/Number(e):n,className:np("lucide",r),...u},[...l.map(([c,f])=>$.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=(t,e)=>{const n=$.forwardRef(({className:o,...r},i)=>$.createElement(pg,{ref:i,iconNode:e,className:np(`lucide-${cg(t)}`,o),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=b("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=b("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=b("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=b("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=b("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=b("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=b("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=b("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=b("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=b("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=b("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=b("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=b("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=b("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=b("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=b("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=b("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=b("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=b("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=b("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=b("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=b("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=b("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=b("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=b("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=b("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=b("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=b("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=b("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=b("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=b("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=b("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=b("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=b("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=b("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=b("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=b("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=b("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=b("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=b("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=b("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=b("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=b("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dg={en:{player:"PLAYER",restart:"Restart",exit:"Exit",features:"Features",selected:"selected",matches:"Matches",discarded:"Discarded",identified:"1 Entity identified",potential:"potential matches",excluded:"Excluded by selection",noMatches:"No matches found.",tryUnselecting:"Try unselecting some features.",speciesDetails:"Species Details",morphology:"Morphology & Traits",close:"Close",resources:"Resources",viewResults:"View Results"},pt:{player:"PLAYER",restart:"Reiniciar",exit:"Sair",features:"Caractersticas",selected:"selecionado(s)",matches:"Compatveis",discarded:"Descartados",identified:"1 Entidade identificada",potential:"matches potenciais",excluded:"Excludo pela seleo",noMatches:"Nenhum resultado.",tryUnselecting:"Tente remover selees.",speciesDetails:"Detalhes da Espcie",morphology:"Morfologia & Caractersticas",close:"Fechar",resources:"Recursos Adicionais",viewResults:"Ver Resultados"}},Lg=({project:t,onBack:e,language:n})=>{const o=Dg[n],[r,i]=$.useState({}),[l,u]=$.useState(!1),[d,c]=$.useState(null),[f,m]=$.useState(null),[h,y]=$.useState("FILTERS"),C=(g,E)=>{i(_=>{const w=_[g]||[],N=w.includes(E);let R;if(N?R=w.filter(M=>M!==E):R=[...w,E],R.length===0){const{[g]:M,...A}=_;return A}return{..._,[g]:R}})},T=()=>i({}),{remaining:I,discarded:x}=$.useMemo(()=>{const g=[],E=[];return t.entities.forEach(_=>{let w=!0;for(const[N,R]of Object.entries(r)){const M=_.traits[N]||[];if(!R.some(G=>M.includes(G))){w=!1;break}}w?g.push(_):E.push(_)}),{remaining:g,discarded:E}},[t.entities,r]),v=Object.values(r).reduce((g,E)=>g+E.length,0);return p.jsxs("div",{className:"flex flex-col h-full bg-slate-100 font-sans absolute inset-0",children:[p.jsxs("header",{className:"bg-white border-b px-4 py-3 flex justify-between items-center shadow-sm z-30 shrink-0",children:[p.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[p.jsx("button",{onClick:e,className:"md:hidden p-2 -ml-2 text-slate-500 hover:bg-slate-100 rounded-full",children:p.jsx(lu,{size:20})}),p.jsx("div",{className:"overflow-hidden",children:p.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2 truncate",children:[p.jsx("span",{className:"hidden sm:inline-block bg-emerald-600 text-white text-xs px-2 py-1 rounded",children:o.player}),p.jsx("span",{className:"truncate",children:t.name})]})})]}),p.jsxs("div",{className:"flex gap-2 shrink-0",children:[p.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors",title:o.restart,children:[p.jsx(Rg,{size:18})," ",p.jsx("span",{className:"hidden sm:inline",children:o.restart})]}),p.jsxs("button",{onClick:e,className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors",children:[p.jsx(lu,{size:16})," ",o.exit]})]})]}),p.jsxs("div",{className:"md:hidden flex border-b bg-white z-20 shrink-0",children:[p.jsxs("button",{onClick:()=>y("FILTERS"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 transition-colors relative ${h==="FILTERS"?"text-emerald-600":"text-slate-500 bg-slate-50"}`,children:[p.jsx(bi,{size:16}),o.features,v>0&&p.jsx("span",{className:"bg-emerald-600 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full",children:v}),h==="FILTERS"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-emerald-600"})]}),p.jsxs("button",{onClick:()=>y("RESULTS"),className:`flex-1 py-3 text-sm font-bold flex items-center justify-center gap-2 transition-colors relative ${h==="RESULTS"?"text-emerald-600":"text-slate-500 bg-slate-50"}`,children:[p.jsx(op,{size:16}),o.matches,p.jsx("span",{className:"bg-slate-200 text-slate-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:I.length}),h==="RESULTS"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-emerald-600"})]})]}),p.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row relative",children:[p.jsxs("div",{className:`w-full md:w-1/3 lg:w-1/4 bg-white md:border-r flex flex-col h-full relative z-20 ${h==="FILTERS"?"flex":"hidden md:flex"}`,children:[p.jsx("div",{className:"hidden md:block p-4 border-b bg-slate-50",children:p.jsxs("h3",{className:"font-semibold text-slate-700 flex items-center gap-2",children:[p.jsx(bi,{size:18})," ",o.features]})}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24 md:pb-4 custom-scrollbar",children:t.features.map(g=>{const E=r[g.id]||[],_=E.length>0;return p.jsxs("div",{className:"space-y-2 relative",children:[p.jsxs("div",{className:"flex justify-between items-center sticky top-0 bg-white/95 backdrop-blur-sm py-1 z-10",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h4",{className:`font-medium ${_?"text-emerald-600":"text-slate-700"}`,children:g.name}),g.imageUrl&&p.jsx(p.Fragment,{children:p.jsx("button",{className:"text-slate-400 hover:text-emerald-500 transition-colors p-1",onClick:w=>{w.stopPropagation(),c(d===g.id?null:g.id)},children:p.jsx(vo,{size:14})})})]}),_&&p.jsx("span",{className:"text-xs bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded-full",children:E.length})]}),d===g.id&&g.imageUrl&&p.jsxs("div",{className:"mb-2 rounded-lg overflow-hidden border border-slate-200 shadow-sm animate-in fade-in zoom-in-95",children:[p.jsx("img",{src:g.imageUrl,alt:g.name,className:"w-full h-32 object-cover"}),p.jsx("div",{className:"bg-slate-50 p-1 text-center",children:p.jsx("button",{onClick:()=>c(null),className:"text-xs text-slate-500 underline",children:"Fechar"})})]}),p.jsx("div",{className:"grid grid-cols-1 gap-1",children:g.states.map(w=>{const N=E.includes(w.id);return p.jsxs("button",{onClick:()=>C(g.id,w.id),className:`w-full text-left px-3 py-3 md:py-2 text-sm rounded-lg transition-all flex items-center justify-between group active:scale-[0.98] touch-manipulation ${N?"bg-emerald-600 text-white shadow-md":"bg-slate-50 text-slate-600 border border-transparent hover:bg-slate-100 hover:border-slate-200"}`,children:[p.jsx("span",{className:"leading-tight",children:w.label}),N&&p.jsx(vg,{size:16,className:"shrink-0"})]},w.id)})})]},g.id)})}),p.jsx("div",{className:"md:hidden absolute bottom-4 left-4 right-4 z-30",children:p.jsxs("button",{onClick:()=>y("RESULTS"),className:"w-full bg-slate-900 text-white font-bold py-3 rounded-xl shadow-lg shadow-slate-900/20 flex items-center justify-center gap-2 animate-in slide-in-from-bottom-5",children:[o.viewResults," (",I.length,")"]})})]}),p.jsxs("div",{className:`flex-1 bg-slate-100 flex-col h-full overflow-hidden ${h==="RESULTS"?"flex":"hidden md:flex"}`,children:[p.jsxs("div",{className:"p-3 md:p-4 bg-white border-b flex justify-between items-center shadow-sm shrink-0",children:[p.jsxs("div",{className:"flex gap-2 md:gap-4 w-full md:w-auto bg-slate-100 p-1 rounded-lg",children:[p.jsxs("button",{className:`flex-1 md:flex-none text-xs md:text-sm font-medium px-3 py-1.5 rounded-md transition-all ${l?"text-slate-500":"bg-white text-slate-800 shadow-sm"}`,onClick:()=>u(!1),children:[o.matches," (",I.length,")"]}),p.jsxs("button",{className:`flex-1 md:flex-none text-xs md:text-sm font-medium px-3 py-1.5 rounded-md transition-all ${l?"bg-white text-slate-800 shadow-sm":"text-slate-500"}`,onClick:()=>u(!0),children:[o.discarded," (",x.length,")"]})]}),p.jsx("div",{className:"text-xs text-slate-400 hidden sm:block",children:I.length===1?o.identified:`${I.length} ${o.potential}`})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar",onClick:()=>c(null),children:p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 pb-20 md:pb-0",children:[(l?x:I).map(g=>p.jsxs("div",{onClick:()=>m(g),className:`bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all border cursor-pointer active:scale-[0.98] touch-manipulation ${l?"opacity-60 grayscale":""}`,children:[p.jsxs("div",{className:"h-48 md:h-40 bg-slate-200 relative group",children:[p.jsx("img",{src:g.imageUrl||"https://picsum.photos/400/300",alt:g.name,className:"w-full h-full object-cover",loading:"lazy"}),p.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 text-white font-medium",children:[p.jsx(uu,{size:20})," ",p.jsx("span",{className:"hidden md:inline",children:"Ver Detalhes"})]}),p.jsx("div",{className:"md:hidden absolute bottom-2 right-2 bg-black/50 text-white p-1.5 rounded-full backdrop-blur-sm",children:p.jsx(uu,{size:16})})]}),p.jsxs("div",{className:"p-4",children:[p.jsxs("h3",{className:"font-bold text-slate-800 text-lg mb-1 flex justify-between items-center",children:[g.name,p.jsx(rp,{size:16,className:"text-slate-300"})]}),p.jsx("p",{className:"text-slate-500 text-xs line-clamp-3",children:g.description}),l&&p.jsxs("div",{className:"mt-3 pt-2 border-t border-slate-100 text-xs text-red-500 flex items-center gap-1",children:[p.jsx(mt,{size:12})," ",o.excluded]})]})]},g.id)),!l&&I.length===0&&p.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-slate-400 px-4 text-center",children:[p.jsx(bi,{size:48,className:"mb-4 opacity-50"}),p.jsx("p",{className:"text-lg font-medium text-slate-600",children:o.noMatches}),p.jsx("p",{className:"text-sm",children:o.tryUnselecting}),p.jsx("button",{onClick:T,className:"mt-6 px-6 py-2 bg-slate-200 text-slate-700 rounded-lg font-medium hover:bg-slate-300",children:o.restart})]})]})})]})]}),f&&p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-0 md:p-4 animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white md:rounded-2xl shadow-2xl max-w-2xl w-full flex flex-col h-full md:h-auto md:max-h-[90vh] overflow-hidden",children:[p.jsxs("div",{className:"relative h-64 md:h-64 shrink-0 bg-slate-900",children:[f.imageUrl?p.jsx("img",{src:f.imageUrl,className:"w-full h-full object-cover opacity-90",alt:f.name}):p.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-600 bg-slate-200",children:p.jsx(vo,{size:48})}),p.jsx("button",{onClick:()=>m(null),className:"absolute top-4 right-4 bg-black/40 hover:bg-black/60 text-white p-2 rounded-full transition-colors z-10 backdrop-blur-sm",children:p.jsx(mt,{size:24})}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent p-6 pt-12",children:p.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white shadow-sm leading-tight",children:f.name})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 custom-scrollbar bg-white",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 mb-3",children:[p.jsx(hg,{size:14})," ",o.speciesDetails]}),p.jsx("p",{className:"text-slate-800 leading-relaxed text-base md:text-lg font-serif",children:f.description})]}),f.links&&f.links.length>0&&p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 mb-3",children:[p.jsx(Gs,{size:14})," ",o.resources]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.links.map((g,E)=>p.jsxs("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 rounded-lg border border-slate-200 bg-slate-50 hover:bg-slate-100 hover:border-emerald-300 transition-all group active:scale-[0.98]",children:[p.jsx("div",{className:"bg-white p-2 rounded-md shadow-sm text-slate-400 group-hover:text-emerald-600",children:p.jsx(Bl,{size:16})}),p.jsx("span",{className:"text-sm font-medium text-slate-700 group-hover:text-emerald-700 truncate flex-1",children:g.label||g.url})]},E))})]}),p.jsx("div",{className:"border-t border-slate-100"}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[p.jsx(Mg,{size:14})," ",o.morphology]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4",children:t.features.map(g=>{const E=f.traits[g.id];if(!E||E.length===0)return null;const _=E.map(w=>{const N=g.states.find(R=>R.id===w);return N?N.label:"?"}).join(", ");return p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100 flex flex-col",children:[p.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:g.name}),p.jsx("span",{className:"text-sm font-semibold text-slate-800",children:_})]},g.id)})}),Object.keys(f.traits).length===0&&p.jsx("p",{className:"text-slate-400 text-sm italic",children:"Nenhuma caracterstica registrada."})]})]}),p.jsx("div",{className:"p-4 border-t bg-slate-50 shrink-0 safe-area-bottom",children:p.jsx("button",{onClick:()=>m(null),className:"w-full py-3 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 transition-colors shadow-lg",children:o.close})})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Fg,Ug;function Vg(){return{geminiUrl:Fg,vertexUrl:Ug}}function Gg(t,e,n,o){var r,i;if(!(t!=null&&t.baseUrl)){const l=Vg();return e?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tt{}function D(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(t,e,n){for(let i=0;i<e.length-1;i++){const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const f=d[c];a(f,e.slice(i+1),n[c])}else for(const c of d)a(c,e.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];a(d[0],e.slice(i+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function s(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const r=e[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const l=t[i];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function qg(t,e){for(const[n,o]of Object.entries(e)){const r=n.split("."),i=o.split("."),l=new Set;let u=-1;for(let d=0;d<r.length;d++)if(r[d]==="*"){u=d;break}if(u!==-1&&i.length>u)for(let d=u;d<i.length;d++){const c=i[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&l.add(c)}zs(t,r,i,0,l)}}function zs(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const i=e[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const d of u[l])zs(d,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(c=>!c.startsWith("_")&&!r.has(c)),d={};for(const c of u)d[c]=l[c];for(const[c,f]of Object.entries(d)){const m=[];for(const h of n.slice(o))h==="*"?m.push(c):m.push(h);a(l,m,f)}for(const c of u)delete l[c]}}else{const l=t;i in l&&zs(l[i],e,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jl(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zg(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["operationName"],n);const o=s(t,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function Hg(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Bg(l)),e}function bg(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],Jg(l)),e}function Bg(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>$g(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function Jg(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Og(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function $g(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],Zg(n)),e}function Og(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],jg(n)),e}function Wg(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function Yg(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function Kg(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],Qg(l)),e}function Qg(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function ip(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],Xg(l)),e}function Xg(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function Zg(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Jl(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function jg(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Jl(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yu;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yu||(yu={}));var vu;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(vu||(vu={}));var xu;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(xu||(xu={}));var B;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(B||(B={}));var Eu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Eu||(Eu={}));var Cu;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Cu||(Cu={}));var Tu;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Tu||(Tu={}));var Su;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Su||(Su={}));var _u;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(_u||(_u={}));var wu;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(wu||(wu={}));var Iu;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Iu||(Iu={}));var Nu;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Nu||(Nu={}));var Au;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Au||(Au={}));var ku;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(ku||(ku={}));var Ru;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ru||(Ru={}));var Pu;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Pu||(Pu={}));var Mu;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Mu||(Mu={}));var Du;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Du||(Du={}));var Lu;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Lu||(Lu={}));var $r;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})($r||($r={}));var Fu;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Fu||(Fu={}));var Uu;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Uu||(Uu={}));var Vu;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Vu||(Vu={}));var Hs;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Hs||(Hs={}));var Gu;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Gu||(Gu={}));var qu;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qu||(qu={}));var zu;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(zu||(zu={}));var Hu;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Hu||(Hu={}));var bu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(bu||(bu={}));var Bu;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Bu||(Bu={}));var Ju;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Ju||(Ju={}));var $u;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($u||($u={}));var Ou;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ou||(Ou={}));var Wu;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Wu||(Wu={}));var Yu;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Yu||(Yu={}));var Ku;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ku||(Ku={}));var Qu;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Qu||(Qu={}));var Xu;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Xu||(Xu={}));var Zu;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Zu||(Zu={}));var ju;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(ju||(ju={}));var ed;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ed||(ed={}));var td;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(td||(td={}));var nd;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(nd||(nd={}));var od;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(od||(od={}));var rd;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(rd||(rd={}));var id;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(id||(id={}));var sd;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(sd||(sd={}));var ld;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(ld||(ld={}));var ad;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ad||(ad={}));var ud;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ud||(ud={}));var dd;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(dd||(dd={}));var cd;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(cd||(cd={}));var fd;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(fd||(fd={}));var pd;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(pd||(pd={}));var Tn;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Tn||(Tn={}));class bs{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class eo{get text(){var e,n,o,r,i,l,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const m=[];for(const h of(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[y,C]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(C!==null||C!==void 0)&&m.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,c+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,o,r,i,l,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const m of(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,y]of Object.entries(m))h!=="inlineData"&&(y!==null||y!==void 0)&&f.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,o,r,i,l,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,o,r,i,l,u,d,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,o,r,i,l,u,d,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class md{}class hd{}class e0{}class t0{}class n0{}class o0{}class gd{}class yd{}class vd{}class r0{}class Or{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Or;let r;const i=e;return n?r=bg(i):r=Hg(i),Object.assign(o,r),o}}class xd{}class Ed{}class Cd{}class i0{}class s0{}class l0{}class $l{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new $l,i=Kg(e);return Object.assign(o,i),o}}class a0{}class u0{}class d0{}class Td{}class c0{get text(){var e,n,o;let r="",i=!1;const l=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="";const i=[];for(const l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class f0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ol{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Ol,i=ip(e);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function sp(t,e){const n=K(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function lp(t){return Array.isArray(t)?t.map(e=>Wr(e)):[Wr(t)]}function Wr(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ap(t){const e=Wr(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function up(t){const e=Wr(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Sd(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function dp(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Sd(e)):[Sd(t)]}function Bs(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function _d(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function wd(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Se(t){if(t==null)throw new Error("ContentUnion is required");return Bs(t)?t:{role:"user",parts:dp(t)}}function Wl(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=Se(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=Se(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Se(n)):[Se(e)]}function Je(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(_d(t)||wd(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Se(t)]}const e=[],n=[],o=Bs(t[0]);for(const r of t){const i=Bs(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(_d(r)||wd(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:dp(n)}),e}function p0(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(B).includes(n[0].toUpperCase())?n[0].toUpperCase():B.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(B).includes(o.toUpperCase())?o.toUpperCase():B.TYPE_UNSPECIFIED})}}function kn(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&p0(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(B).includes(u.toUpperCase())?u.toUpperCase():B.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=kn(u);else if(o.includes(l)){const d=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}d.push(kn(c))}e[l]=d}else if(r.includes(l)){const d={};for(const[c,f]of Object.entries(u))d[c]=kn(f);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=u}return e}function Yl(t){return kn(t)}function Kl(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ql(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function bn(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=kn(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=kn(e.response));return t}function Bn(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function m0(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function St(t,e){if(typeof e!="string")throw new Error("name must be a string");return m0(t,e,"cachedContents")}function cp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Jt(t){return Jl(t)}function h0(t){return t!=null&&typeof t=="object"&&"name"in t}function g0(t){return t!=null&&typeof t=="object"&&"video"in t}function y0(t){return t!=null&&typeof t=="object"&&"uri"in t}function fp(t){var e;let n;if(h0(t)&&(n=t.name),!(y0(t)&&(n=t.uri,n===void 0))&&!(g0(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function pp(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function mp(t){for(const e of["models","tunedModels","publisherModels"])if(v0(t,e))return t[e];return[]}function v0(t,e){return t!==null&&typeof t=="object"&&e in t}function x0(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function E0(t,e={}){const n=[],o=new Set;for(const r of t){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=x0(r,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function hp(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function C0(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function gp(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Jn(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function yp(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T0(t){const e={},n=s(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const o=s(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>ny(l))),a(e,["inlinedResponses"],i)}const r=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["inlinedEmbedContentResponses"],i)}return e}function S0(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigqueryDestination","outputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function _0(t){const e={},n=s(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigqueryDestination","outputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function xr(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["metadata","state"]);r!=null&&a(e,["state"],yp(r));const i=s(t,["metadata","createTime"]);i!=null&&a(e,["createTime"],i);const l=s(t,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const d=s(t,["metadata","model"]);d!=null&&a(e,["model"],d);const c=s(t,["metadata","output"]);return c!=null&&a(e,["dest"],T0(gp(c))),e}function Js(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["state"]);r!=null&&a(e,["state"],yp(r));const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(e,["startTime"],u);const d=s(t,["endTime"]);d!=null&&a(e,["endTime"],d);const c=s(t,["updateTime"]);c!=null&&a(e,["updateTime"],c);const f=s(t,["model"]);f!=null&&a(e,["model"],f);const m=s(t,["inputConfig"]);m!=null&&a(e,["src"],w0(m));const h=s(t,["outputConfig"]);h!=null&&a(e,["dest"],S0(gp(h)));const y=s(t,["completionStats"]);return y!=null&&a(e,["completionStats"],y),e}function w0(t){const e={},n=s(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigquerySource","inputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function I0(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>ty(t,l))),a(n,["requests","requests"],i)}return n}function N0(t){const e={},n=s(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigquerySource","inputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function A0(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function k0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Jn(t,o)),n}function R0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Jn(t,o)),n}function P0(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],M0(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=s(t,["index"]);d!=null&&a(e,["index"],d);const c=s(t,["logprobsResult"]);c!=null&&a(e,["logprobsResult"],c);const f=s(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>y)),a(e,["safetyRatings"],h)}const m=s(t,["urlContextMetadata"]);return m!=null&&a(e,["urlContextMetadata"],m),e}function M0(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function vp(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uy(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function D0(t,e){const n={},o=s(t,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function L0(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["dest"]);return e!==void 0&&r!=null&&a(e,["outputConfig"],_0(C0(r))),n}function Id(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],I0(t,hp(t,r)));const i=s(e,["config"]);return i!=null&&D0(i,n),n}function F0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],K(t,o));const r=s(e,["src"]);r!=null&&a(n,["inputConfig"],N0(hp(t,r)));const i=s(e,["config"]);return i!=null&&L0(i,n),n}function U0(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),n}function V0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],J0(t,r));const i=s(e,["config"]);return i!=null&&U0(i,n),n}function G0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Jn(t,o)),n}function q0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Jn(t,o)),n}function z0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function H0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function b0(t,e){const n={},o=s(e,["contents"]);if(o!=null){let i=Wl(t,o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const r=s(e,["config"]);return r!=null&&(a(n,["_self"],B0(r,n)),qg(n,{"requests[].*":"requests[].request.*"})),n}function B0(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function J0(t,e){const n={},o=s(e,["fileName"]);o!=null&&a(n,["file_name"],o);const r=s(e,["inlinedRequests"]);return r!=null&&a(n,["requests"],b0(t,r)),n}function $0(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function O0(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function W0(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Y0(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],vp(Se(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const h=s(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const y=s(e,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const C=s(e,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const T=s(e,["seed"]);T!=null&&a(o,["seed"],T);const I=s(e,["responseMimeType"]);I!=null&&a(o,["responseMimeType"],I);const x=s(e,["responseSchema"]);x!=null&&a(o,["responseSchema"],Yl(x));const v=s(e,["responseJsonSchema"]);if(v!=null&&a(o,["responseJsonSchema"],v),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const g=s(e,["safetySettings"]);if(n!==void 0&&g!=null){let q=g;Array.isArray(q)&&(q=q.map(Z=>dy(Z))),a(n,["safetySettings"],q)}const E=s(e,["tools"]);if(n!==void 0&&E!=null){let q=Bn(E);Array.isArray(q)&&(q=q.map(Z=>fy(bn(Z)))),a(n,["tools"],q)}const _=s(e,["toolConfig"]);if(n!==void 0&&_!=null&&a(n,["toolConfig"],cy(_)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=s(e,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],St(t,w));const N=s(e,["responseModalities"]);N!=null&&a(o,["responseModalities"],N);const R=s(e,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const M=s(e,["speechConfig"]);if(M!=null&&a(o,["speechConfig"],Kl(M)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const A=s(e,["thinkingConfig"]);A!=null&&a(o,["thinkingConfig"],A);const G=s(e,["imageConfig"]);return G!=null&&a(o,["imageConfig"],ey(G)),o}function K0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>P0(c))),a(e,["candidates"],d)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Q0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Jn(t,o)),n}function X0(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Jn(t,o)),n}function Z0(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function j0(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function ey(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function ty(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["request","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let u=Je(r);Array.isArray(u)&&(u=u.map(d=>vp(d))),a(n,["request","contents"],u)}const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["config"]);return l!=null&&a(n,["request","generationConfig"],Y0(t,l,s(n,["request"],{}))),n}function ny(t){const e={},n=s(t,["response"]);n!=null&&a(e,["response"],K0(n));const o=s(t,["error"]);return o!=null&&a(e,["error"],o),e}function oy(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);if(e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ry(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const i=s(t,["filter"]);return e!==void 0&&i!=null&&a(e,["_query","filter"],i),n}function iy(t){const e={},n=s(t,["config"]);return n!=null&&oy(n,e),e}function sy(t){const e={},n=s(t,["config"]);return n!=null&&ry(n,e),e}function ly(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>xr(l))),a(e,["batchJobs"],i)}return e}function ay(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Js(l))),a(e,["batchJobs"],i)}return e}function uy(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],$0(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],O0(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(t,["inlineData"]);d!=null&&a(e,["inlineData"],A0(d));const c=s(t,["text"]);c!=null&&a(e,["text"],c);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const h=s(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function dy(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function cy(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],W0(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function fy(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],Z0(u));const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],j0(d));const c=s(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Et;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Et||(Et={}));class sn{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class py extends Tt{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new sn(Et.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Id(this.apiClient,e),o=n._url,r=D("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const m=Object.assign({},f);if(m.systemInstruction){const h=m.systemInstruction;delete m.systemInstruction;const y=m.request;y.systemInstruction=h,m.request=y}c.push(m)}return u.requests=c,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(e),l=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=F0(this.apiClient,e);return u=D("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Js(f))}else{const c=Id(this.apiClient,e);return u=D("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>xr(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=V0(this.apiClient,e);return i=D("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>xr(d))}}async get(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=X0(this.apiClient,e);return u=D("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Js(f))}else{const c=Q0(this.apiClient,e);return u=D("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>xr(f))}}async cancel(e){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const d=R0(this.apiClient,e);l=D("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=k0(this.apiClient,e);l=D("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=sy(e);return u=D("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=ay(f),h=new Td;return Object.assign(h,m),h})}else{const c=iy(e);return u=D("batches",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=ly(f),h=new Td;return Object.assign(h,m),h})}}async delete(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=q0(this.apiClient,e);return u=D("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>H0(f))}else{const c=G0(this.apiClient,e);return u=D("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>z0(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function my(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Nd(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Vy(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function hy(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let f=Je(l);Array.isArray(f)&&(f=f.map(m=>Nd(m))),a(e,["contents"],f)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Nd(Se(u)));const d=s(t,["tools"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(m=>qy(m))),a(e,["tools"],f)}const c=s(t,["toolConfig"]);if(e!==void 0&&c!=null&&a(e,["toolConfig"],Gy(c)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function gy(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let m=Je(l);Array.isArray(m)&&(m=m.map(h=>h)),a(e,["contents"],m)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Se(u));const d=s(t,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>zy(h))),a(e,["tools"],m)}const c=s(t,["toolConfig"]);e!==void 0&&c!=null&&a(e,["toolConfig"],c);const f=s(t,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),n}function yy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],sp(t,o));const r=s(e,["config"]);return r!=null&&hy(r,n),n}function vy(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],sp(t,o));const r=s(e,["config"]);return r!=null&&gy(r,n),n}function xy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function Ey(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function Cy(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Ty(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Sy(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function _y(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wy(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Iy(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function Ny(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function Ay(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],St(t,o)),n}function ky(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Ry(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Py(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function My(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function Dy(t){const e={},n=s(t,["config"]);return n!=null&&Py(n,e),e}function Ly(t){const e={},n=s(t,["config"]);return n!=null&&My(n,e),e}function Fy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function Uy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function Vy(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],Sy(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],_y(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(t,["inlineData"]);d!=null&&a(e,["inlineData"],my(d));const c=s(t,["text"]);c!=null&&a(e,["text"],c);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const h=s(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function Gy(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],wy(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function qy(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],ky(u));const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],Ry(d));const c=s(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function zy(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>Iy(h))),a(e,["functionDeclarations"],m)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(t,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function Hy(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function by(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function By(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],St(t,o));const r=s(e,["config"]);return r!=null&&Hy(r,n),n}function Jy(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],St(t,o));const r=s(e,["config"]);return r!=null&&by(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $y extends Tt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new sn(Et.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=vy(this.apiClient,e);return u=D("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=yy(this.apiClient,e);return u=D("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Ay(this.apiClient,e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=Ny(this.apiClient,e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Ey(this.apiClient,e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Ty(f),h=new Ed;return Object.assign(h,m),h})}else{const c=xy(this.apiClient,e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Cy(f),h=new Ed;return Object.assign(h,m),h})}}async update(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Jy(this.apiClient,e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=By(this.apiClient,e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Ly(e);return u=D("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Uy(f),h=new Cd;return Object.assign(h,m),h})}else{const c=Dy(e);return u=D("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Fy(f),h=new Cd;return Object.assign(h,m),h})}}}function Ad(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(t){return this instanceof ee?(this.v=t,this):new ee(t)}function Rn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(y){return function(C){return Promise.resolve(C).then(y,m)}}function u(y,C){o[y]&&(r[y]=function(T){return new Promise(function(I,x){i.push([y,T,I,x])>1||d(y,T)})},C&&(r[y]=C(r[y])))}function d(y,C){try{c(o[y](C))}catch(T){h(i[0][3],T)}}function c(y){y.value instanceof ee?Promise.resolve(y.value.v).then(f,m):h(i[0][2],y)}function f(y){d("next",y)}function m(y){d("throw",y)}function h(y,C){y(C),i.shift(),i.length&&d(i[0][0],i[0][1])}}function xo(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ad=="function"?Ad(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(l){return new Promise(function(u,d){l=t[i](l),r(u,d,l.done,l.value)})}}function r(i,l,u,d){Promise.resolve(d).then(function(c){i({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oy(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:xp(n)}function xp(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Wy(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kd(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!xp(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class Yy{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Ky(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ky{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),Wy(i)}async sendMessage(e){var n;await this.sendPromise;const o=Se(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const d=await r,c=(l=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];f!=null&&(h=(u=f.slice(m))!==null&&u!==void 0?u:[]);const y=c?[c]:[];this.recordHistory(o,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=Se(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const n=e?kd(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,r;return Rn(this,arguments,function*(){var l,u,d,c;const f=[];try{for(var m=!0,h=xo(e),y;y=yield ee(h.next()),l=y.done,!l;m=!0){c=y.value,m=!1;const C=c;if(Oy(C)){const T=(r=(o=C.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;T!==void 0&&f.push(T)}yield yield ee(C)}}catch(C){u={error:C}}finally{try{!m&&!l&&(d=h.return)&&(yield ee(d.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...kd(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ci extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ci.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qy(t){const e={},n=s(t,["file"]);return n!=null&&a(e,["file"],n),e}function Xy(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Zy(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],fp(n)),e}function jy(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function ev(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],fp(n)),e}function tv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function nv(t){const e={},n=s(t,["config"]);return n!=null&&tv(n,e),e}function ov(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rv extends Tt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new sn(Et.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nv(e);return i=D("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=ov(d),f=new a0;return Object.assign(f,c),f})}}async createInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qy(e);return i=D("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=Xy(d),f=new u0;return Object.assign(f,c),f})}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ev(e);return i=D("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Zy(e);return i=D("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=jy(d),f=new d0;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Er(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function iv(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Cv(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function sv(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function lv(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function av(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function uv(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const d=s(t,["logprobs"]);d!=null&&a(e,["logprobs"],d);const c=s(t,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const m=s(t,["presencePenalty"]);m!=null&&a(e,["presencePenalty"],m);const h=s(t,["responseLogprobs"]);h!=null&&a(e,["responseLogprobs"],h);const y=s(t,["responseMimeType"]);y!=null&&a(e,["responseMimeType"],y);const C=s(t,["responseModalities"]);C!=null&&a(e,["responseModalities"],C);const T=s(t,["responseSchema"]);T!=null&&a(e,["responseSchema"],T);const I=s(t,["routingConfig"]);I!=null&&a(e,["routingConfig"],I);const x=s(t,["seed"]);x!=null&&a(e,["seed"],x);const v=s(t,["speechConfig"]);v!=null&&a(e,["speechConfig"],Ep(v));const g=s(t,["stopSequences"]);g!=null&&a(e,["stopSequences"],g);const E=s(t,["temperature"]);E!=null&&a(e,["temperature"],E);const _=s(t,["thinkingConfig"]);_!=null&&a(e,["thinkingConfig"],_);const w=s(t,["topK"]);w!=null&&a(e,["topK"],w);const N=s(t,["topP"]);if(N!=null&&a(e,["topP"],N),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function dv(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function cv(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function fv(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(t,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],Ql(m));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const y=s(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],y);const C=s(t,["systemInstruction"]);e!==void 0&&C!=null&&a(e,["setup","systemInstruction"],iv(Se(C)));const T=s(t,["tools"]);if(e!==void 0&&T!=null){let w=Bn(T);Array.isArray(w)&&(w=w.map(N=>Sv(bn(N)))),a(e,["setup","tools"],w)}const I=s(t,["sessionResumption"]);e!==void 0&&I!=null&&a(e,["setup","sessionResumption"],Tv(I));const x=s(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&a(e,["setup","inputAudioTranscription"],x);const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","outputAudioTranscription"],v);const g=s(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&a(e,["setup","realtimeInputConfig"],g);const E=s(t,["contextWindowCompression"]);e!==void 0&&E!=null&&a(e,["setup","contextWindowCompression"],E);const _=s(t,["proactivity"]);return e!==void 0&&_!=null&&a(e,["setup","proactivity"],_),n}function pv(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],uv(o));const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(t,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],Ep(Ql(m)));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const y=s(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],y);const C=s(t,["systemInstruction"]);e!==void 0&&C!=null&&a(e,["setup","systemInstruction"],Se(C));const T=s(t,["tools"]);if(e!==void 0&&T!=null){let w=Bn(T);Array.isArray(w)&&(w=w.map(N=>_v(bn(N)))),a(e,["setup","tools"],w)}const I=s(t,["sessionResumption"]);e!==void 0&&I!=null&&a(e,["setup","sessionResumption"],I);const x=s(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&a(e,["setup","inputAudioTranscription"],x);const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","outputAudioTranscription"],v);const g=s(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&a(e,["setup","realtimeInputConfig"],g);const E=s(t,["contextWindowCompression"]);e!==void 0&&E!=null&&a(e,["setup","contextWindowCompression"],E);const _=s(t,["proactivity"]);return e!==void 0&&_!=null&&a(e,["setup","proactivity"],_),n}function mv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],K(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],fv(r,n)),n}function hv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],K(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],pv(r,n)),n}function gv(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],n),e}function yv(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["weightedPrompts"],o)}return e}function vv(t){const e={},n=s(t,["media"]);if(n!=null){let c=lp(n);Array.isArray(c)&&(c=c.map(f=>Er(f))),a(e,["mediaChunks"],c)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Er(up(o)));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],Er(ap(i)));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const d=s(t,["activityEnd"]);return d!=null&&a(e,["activityEnd"],d),e}function xv(t){const e={},n=s(t,["media"]);if(n!=null){let c=lp(n);Array.isArray(c)&&(c=c.map(f=>f)),a(e,["mediaChunks"],c)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],up(o));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],ap(i));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const d=s(t,["activityEnd"]);return d!=null&&a(e,["activityEnd"],d),e}function Ev(t){const e={},n=s(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],n);const o=s(t,["serverContent"]);o!=null&&a(e,["serverContent"],o);const r=s(t,["toolCall"]);r!=null&&a(e,["toolCall"],r);const i=s(t,["toolCallCancellation"]);i!=null&&a(e,["toolCallCancellation"],i);const l=s(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],wv(l));const u=s(t,["goAway"]);u!=null&&a(e,["goAway"],u);const d=s(t,["sessionResumptionUpdate"]);return d!=null&&a(e,["sessionResumptionUpdate"],d),e}function Cv(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],sv(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],lv(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(t,["inlineData"]);d!=null&&a(e,["inlineData"],Er(d));const c=s(t,["text"]);c!=null&&a(e,["text"],c);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const h=s(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function Tv(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ep(t){const e={},n=s(t,["languageCode"]);n!=null&&a(e,["languageCode"],n);const o=s(t,["voiceConfig"]);if(o!=null&&a(e,["voiceConfig"],o),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Sv(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],dv(u));const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],cv(d));const c=s(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function _v(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>av(h))),a(e,["functionDeclarations"],m)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(t,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function wv(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const o=s(t,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const r=s(t,["candidatesTokenCount"]);r!=null&&a(e,["responseTokenCount"],r);const i=s(t,["toolUsePromptTokenCount"]);i!=null&&a(e,["toolUsePromptTokenCount"],i);const l=s(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const d=s(t,["promptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(C=>C)),a(e,["promptTokensDetails"],y)}const c=s(t,["cacheTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(C=>C)),a(e,["cacheTokensDetails"],y)}const f=s(t,["candidatesTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(C=>C)),a(e,["responseTokensDetails"],y)}const m=s(t,["toolUsePromptTokensDetails"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(C=>C)),a(e,["toolUsePromptTokensDetails"],y)}const h=s(t,["trafficType"]);return h!=null&&a(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iv(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Nv(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],Av(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const d=s(t,["index"]);d!=null&&a(e,["index"],d);const c=s(t,["logprobsResult"]);c!=null&&a(e,["logprobsResult"],c);const f=s(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>y)),a(e,["safetyRatings"],h)}const m=s(t,["urlContextMetadata"]);return m!=null&&a(e,["urlContextMetadata"],m),e}function Av(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function kv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let i=Je(r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function Rv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["tokensInfo"],r)}return e}function Pv(t){const e={},n=s(t,["values"]);n!=null&&a(e,["values"],n);const o=s(t,["statistics"]);return o!=null&&a(e,["statistics"],Mv(o)),e}function Mv(t){const e={},n=s(t,["truncated"]);n!=null&&a(e,["truncated"],n);const o=s(t,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function fi(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Hx(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function Dv(t){const e={},n=s(t,["controlType"]);n!=null&&a(e,["controlType"],n);const o=s(t,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function Lv(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Fv(t,e){const n={},o=s(t,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],Se(o));const r=s(t,["tools"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>wp(u))),a(e,["tools"],l)}const i=s(t,["generationConfig"]);return e!==void 0&&i!=null&&a(e,["generationConfig"],Ix(i)),n}function Uv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let l=Je(r);Array.isArray(l)&&(l=l.map(u=>fi(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&Lv(i),n}function Vv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let l=Je(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&Fv(i,n),n}function Gv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const r=s(t,["cachedContentTokenCount"]);return r!=null&&a(e,["cachedContentTokenCount"],r),e}function qv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function zv(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],K(t,o)),n}function Hv(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],K(t,o)),n}function bv(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Bv(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Jv(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const d=s(t,["seed"]);e!==void 0&&d!=null&&a(e,["parameters","seed"],d);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&a(e,["parameters","safetySetting"],c);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const y=s(t,["language"]);e!==void 0&&y!=null&&a(e,["parameters","language"],y);const C=s(t,["outputMimeType"]);e!==void 0&&C!=null&&a(e,["parameters","outputOptions","mimeType"],C);const T=s(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","compressionQuality"],T);const I=s(t,["addWatermark"]);e!==void 0&&I!=null&&a(e,["parameters","addWatermark"],I);const x=s(t,["labels"]);e!==void 0&&x!=null&&a(e,["labels"],x);const v=s(t,["editMode"]);e!==void 0&&v!=null&&a(e,["parameters","editMode"],v);const g=s(t,["baseSteps"]);return e!==void 0&&g!=null&&a(e,["parameters","editConfig","baseSteps"],g),n}function $v(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Wx(d))),a(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&Jv(l,n),n}function Ov(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>pi(i))),a(e,["generatedImages"],r)}return e}function Wv(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Yv(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["instances[]","title"],r);const i=s(t,["outputDimensionality"]);e!==void 0&&i!=null&&a(e,["parameters","outputDimensionality"],i);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function Kv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let u=Wl(t,r);Array.isArray(u)&&(u=u.map(d=>d)),a(n,["requests[]","content"],u)}const i=s(e,["config"]);i!=null&&Wv(i,n);const l=s(e,["model"]);return l!==void 0&&a(n,["requests[]","model"],K(t,l)),n}function Qv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let l=Wl(t,r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(e,["config"]);return i!=null&&Yv(i,n),n}function Xv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function Zv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Pv(l))),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function jv(t){const e={},n=s(t,["endpoint"]);n!=null&&a(e,["name"],n);const o=s(t,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function ex(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function tx(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nx(t){const e={},n=s(t,["mode"]);n!=null&&a(e,["mode"],n);const o=s(t,["allowedFunctionNames"]);if(o!=null&&a(e,["allowedFunctionNames"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ox(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function rx(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],fi(Se(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const h=s(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const y=s(e,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const C=s(e,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const T=s(e,["seed"]);T!=null&&a(o,["seed"],T);const I=s(e,["responseMimeType"]);I!=null&&a(o,["responseMimeType"],I);const x=s(e,["responseSchema"]);x!=null&&a(o,["responseSchema"],Yl(x));const v=s(e,["responseJsonSchema"]);if(v!=null&&a(o,["responseJsonSchema"],v),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const g=s(e,["safetySettings"]);if(n!==void 0&&g!=null){let q=g;Array.isArray(q)&&(q=q.map(Z=>Yx(Z))),a(n,["safetySettings"],q)}const E=s(e,["tools"]);if(n!==void 0&&E!=null){let q=Bn(E);Array.isArray(q)&&(q=q.map(Z=>tE(bn(Z)))),a(n,["tools"],q)}const _=s(e,["toolConfig"]);if(n!==void 0&&_!=null&&a(n,["toolConfig"],eE(_)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=s(e,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],St(t,w));const N=s(e,["responseModalities"]);N!=null&&a(o,["responseModalities"],N);const R=s(e,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const M=s(e,["speechConfig"]);if(M!=null&&a(o,["speechConfig"],Kl(M)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const A=s(e,["thinkingConfig"]);A!=null&&a(o,["thinkingConfig"],A);const G=s(e,["imageConfig"]);return G!=null&&a(o,["imageConfig"],Px(G)),o}function ix(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Se(r));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const d=s(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const m=s(e,["responseLogprobs"]);m!=null&&a(o,["responseLogprobs"],m);const h=s(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const y=s(e,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const C=s(e,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const T=s(e,["seed"]);T!=null&&a(o,["seed"],T);const I=s(e,["responseMimeType"]);I!=null&&a(o,["responseMimeType"],I);const x=s(e,["responseSchema"]);x!=null&&a(o,["responseSchema"],Yl(x));const v=s(e,["responseJsonSchema"]);v!=null&&a(o,["responseJsonSchema"],v);const g=s(e,["routingConfig"]);g!=null&&a(o,["routingConfig"],g);const E=s(e,["modelSelectionConfig"]);E!=null&&a(o,["modelConfig"],E);const _=s(e,["safetySettings"]);if(n!==void 0&&_!=null){let xe=_;Array.isArray(xe)&&(xe=xe.map(ut=>ut)),a(n,["safetySettings"],xe)}const w=s(e,["tools"]);if(n!==void 0&&w!=null){let xe=Bn(w);Array.isArray(xe)&&(xe=xe.map(ut=>wp(bn(ut)))),a(n,["tools"],xe)}const N=s(e,["toolConfig"]);n!==void 0&&N!=null&&a(n,["toolConfig"],N);const R=s(e,["labels"]);n!==void 0&&R!=null&&a(n,["labels"],R);const M=s(e,["cachedContent"]);n!==void 0&&M!=null&&a(n,["cachedContent"],St(t,M));const A=s(e,["responseModalities"]);A!=null&&a(o,["responseModalities"],A);const G=s(e,["mediaResolution"]);G!=null&&a(o,["mediaResolution"],G);const q=s(e,["speechConfig"]);q!=null&&a(o,["speechConfig"],_p(Kl(q)));const Z=s(e,["audioTimestamp"]);Z!=null&&a(o,["audioTimestamp"],Z);const pe=s(e,["thinkingConfig"]);pe!=null&&a(o,["thinkingConfig"],pe);const ln=s(e,["imageConfig"]);return ln!=null&&a(o,["imageConfig"],Mx(ln)),o}function Rd(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let l=Je(r);Array.isArray(l)&&(l=l.map(u=>fi(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],rx(t,i,n)),n}function Pd(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["contents"]);if(r!=null){let l=Je(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],ix(t,i,n)),n}function Md(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>Nv(c))),a(e,["candidates"],d)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Dd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),a(e,["candidates"],c)}const r=s(t,["createTime"]);r!=null&&a(e,["createTime"],r);const i=s(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const l=s(t,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(t,["responseId"]);u!=null&&a(e,["responseId"],u);const d=s(t,["usageMetadata"]);return d!=null&&a(e,["usageMetadata"],d),e}function sx(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const i=s(t,["guidanceScale"]);if(e!==void 0&&i!=null&&a(e,["parameters","guidanceScale"],i),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const d=s(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&a(e,["parameters","includeSafetyAttributes"],d);const c=s(t,["includeRaiReason"]);e!==void 0&&c!=null&&a(e,["parameters","includeRaiReason"],c);const f=s(t,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const m=s(t,["outputMimeType"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","mimeType"],m);const h=s(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&a(e,["parameters","outputOptions","compressionQuality"],h),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=s(t,["imageSize"]);if(e!==void 0&&y!=null&&a(e,["parameters","sampleImageSize"],y),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function lx(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const d=s(t,["seed"]);e!==void 0&&d!=null&&a(e,["parameters","seed"],d);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&a(e,["parameters","safetySetting"],c);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&a(e,["parameters","includeSafetyAttributes"],m);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const y=s(t,["language"]);e!==void 0&&y!=null&&a(e,["parameters","language"],y);const C=s(t,["outputMimeType"]);e!==void 0&&C!=null&&a(e,["parameters","outputOptions","mimeType"],C);const T=s(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&a(e,["parameters","outputOptions","compressionQuality"],T);const I=s(t,["addWatermark"]);e!==void 0&&I!=null&&a(e,["parameters","addWatermark"],I);const x=s(t,["labels"]);e!==void 0&&x!=null&&a(e,["labels"],x);const v=s(t,["imageSize"]);e!==void 0&&v!=null&&a(e,["parameters","sampleImageSize"],v);const g=s(t,["enhancePrompt"]);return e!==void 0&&g!=null&&a(e,["parameters","enhancePrompt"],g),n}function ax(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&sx(i,n),n}function ux(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&lx(i,n),n}function dx(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Tx(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],Tp(r)),e}function cx(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>pi(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],Sp(r)),e}function fx(t,e){const n={},o=s(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(t,["durationSeconds"]);if(e!==void 0&&r!=null&&a(e,["parameters","durationSeconds"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(t,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const l=s(t,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(t,["negativePrompt"]);e!==void 0&&d!=null&&a(e,["parameters","negativePrompt"],d);const c=s(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&a(e,["parameters","enhancePrompt"],c),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(t,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],mi(f));const m=s(t,["referenceImages"]);if(e!==void 0&&m!=null){let h=m;Array.isArray(h)&&(h=h.map(y=>mE(y))),a(e,["instances[0]","referenceImages"],h)}if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function px(t,e){const n={},o=s(t,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const i=s(t,["fps"]);e!==void 0&&i!=null&&a(e,["parameters","fps"],i);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const d=s(t,["aspectRatio"]);e!==void 0&&d!=null&&a(e,["parameters","aspectRatio"],d);const c=s(t,["resolution"]);e!==void 0&&c!=null&&a(e,["parameters","resolution"],c);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const m=s(t,["pubsubTopic"]);e!==void 0&&m!=null&&a(e,["parameters","pubsubTopic"],m);const h=s(t,["negativePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","negativePrompt"],h);const y=s(t,["enhancePrompt"]);e!==void 0&&y!=null&&a(e,["parameters","enhancePrompt"],y);const C=s(t,["generateAudio"]);e!==void 0&&C!=null&&a(e,["parameters","generateAudio"],C);const T=s(t,["lastFrame"]);e!==void 0&&T!=null&&a(e,["instances[0]","lastFrame"],tt(T));const I=s(t,["referenceImages"]);if(e!==void 0&&I!=null){let g=I;Array.isArray(g)&&(g=g.map(E=>hE(E))),a(e,["instances[0]","referenceImages"],g)}const x=s(t,["mask"]);e!==void 0&&x!=null&&a(e,["instances[0]","mask"],pE(x));const v=s(t,["compressionQuality"]);return e!==void 0&&v!=null&&a(e,["parameters","compressionQuality"],v),n}function mx(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],vx(l)),e}function hx(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],xx(l)),e}function gx(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],mi(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Ip(l));const u=s(e,["source"]);u!=null&&Ex(u,n);const d=s(e,["config"]);return d!=null&&fx(d,n),n}function yx(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],tt(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Np(l));const u=s(e,["source"]);u!=null&&Cx(u,n);const d=s(e,["config"]);return d!=null&&px(d,n),n}function vx(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>_x(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function xx(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>wx(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function Ex(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],mi(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Ip(i)),n}function Cx(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],tt(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Np(i)),n}function Tx(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],Dx(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);return r!=null&&a(e,["safetyAttributes"],Tp(r)),e}function pi(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],Cp(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);r!=null&&a(e,["safetyAttributes"],Sp(r));const i=s(t,["prompt"]);return i!=null&&a(e,["enhancedPrompt"],i),e}function Sx(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["mask"],Cp(n));const o=s(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["labels"],r)}return e}function _x(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],cE(n)),e}function wx(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],fE(n)),e}function Ix(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const d=s(t,["logprobs"]);d!=null&&a(e,["logprobs"],d);const c=s(t,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const m=s(t,["presencePenalty"]);m!=null&&a(e,["presencePenalty"],m);const h=s(t,["responseLogprobs"]);h!=null&&a(e,["responseLogprobs"],h);const y=s(t,["responseMimeType"]);y!=null&&a(e,["responseMimeType"],y);const C=s(t,["responseModalities"]);C!=null&&a(e,["responseModalities"],C);const T=s(t,["responseSchema"]);T!=null&&a(e,["responseSchema"],T);const I=s(t,["routingConfig"]);I!=null&&a(e,["routingConfig"],I);const x=s(t,["seed"]);x!=null&&a(e,["seed"],x);const v=s(t,["speechConfig"]);v!=null&&a(e,["speechConfig"],_p(v));const g=s(t,["stopSequences"]);g!=null&&a(e,["stopSequences"],g);const E=s(t,["temperature"]);E!=null&&a(e,["temperature"],E);const _=s(t,["thinkingConfig"]);_!=null&&a(e,["thinkingConfig"],_);const w=s(t,["topK"]);w!=null&&a(e,["topK"],w);const N=s(t,["topP"]);if(N!=null&&a(e,["topP"],N),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Nx(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],K(t,o)),n}function Ax(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],K(t,o)),n}function kx(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Rx(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Px(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Mx(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);o!=null&&a(e,["imageSize"],o);const r=s(t,["outputMimeType"]);r!=null&&a(e,["imageOutputOptions","mimeType"],r);const i=s(t,["outputCompressionQuality"]);return i!=null&&a(e,["imageOutputOptions","compressionQuality"],i),e}function Dx(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],Jt(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Cp(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],Jt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function mi(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],Jt(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function tt(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Jt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Lx(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],pp(t,u)),o}function Fx(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],pp(t,u)),o}function Ux(t,e){const n={},o=s(e,["config"]);return o!=null&&Lx(t,o,n),n}function Vx(t,e){const n={},o=s(e,["config"]);return o!=null&&Fx(t,o,n),n}function Gx(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=mp(r);Array.isArray(i)&&(i=i.map(l=>$s(l))),a(e,["models"],i)}return e}function qx(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=mp(r);Array.isArray(i)&&(i=i.map(l=>Os(l))),a(e,["models"],i)}return e}function zx(t){const e={},n=s(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const o=s(t,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const r=s(t,["maskDilation"]);return r!=null&&a(e,["dilation"],r),e}function $s(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["version"]);i!=null&&a(e,["version"],i);const l=s(t,["_self"]);l!=null&&a(e,["tunedModelInfo"],nE(l));const u=s(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const d=s(t,["outputTokenLimit"]);d!=null&&a(e,["outputTokenLimit"],d);const c=s(t,["supportedGenerationMethods"]);c!=null&&a(e,["supportedActions"],c);const f=s(t,["temperature"]);f!=null&&a(e,["temperature"],f);const m=s(t,["maxTemperature"]);m!=null&&a(e,["maxTemperature"],m);const h=s(t,["topP"]);h!=null&&a(e,["topP"],h);const y=s(t,["topK"]);y!=null&&a(e,["topK"],y);const C=s(t,["thinking"]);return C!=null&&a(e,["thinking"],C),e}function Os(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["versionId"]);i!=null&&a(e,["version"],i);const l=s(t,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>jv(h))),a(e,["endpoints"],m)}const u=s(t,["labels"]);u!=null&&a(e,["labels"],u);const d=s(t,["_self"]);d!=null&&a(e,["tunedModelInfo"],oE(d));const c=s(t,["defaultCheckpointId"]);c!=null&&a(e,["defaultCheckpointId"],c);const f=s(t,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(h=>h)),a(e,["checkpoints"],m)}return e}function Hx(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],ex(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],tx(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(t,["inlineData"]);d!=null&&a(e,["inlineData"],Iv(d));const c=s(t,["text"]);c!=null&&a(e,["text"],c);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const h=s(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function bx(t){const e={},n=s(t,["productImage"]);return n!=null&&a(e,["image"],tt(n)),e}function Bx(t,e){const n={},o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["baseSteps"]);e!==void 0&&r!=null&&a(e,["parameters","baseSteps"],r);const i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const l=s(t,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&a(e,["parameters","personGeneration"],d);const c=s(t,["addWatermark"]);e!==void 0&&c!=null&&a(e,["parameters","addWatermark"],c);const f=s(t,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const m=s(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&a(e,["parameters","outputOptions","compressionQuality"],m);const h=s(t,["enhancePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","enhancePrompt"],h);const y=s(t,["labels"]);return e!==void 0&&y!=null&&a(e,["labels"],y),n}function Jx(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["source"]);r!=null&&Ox(r,n);const i=s(e,["config"]);return i!=null&&Bx(i,n),n}function $x(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>pi(r))),a(e,["generatedImages"],o)}return e}function Ox(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["personImage"]);e!==void 0&&r!=null&&a(e,["instances[0]","personImage","image"],tt(r));const i=s(t,["productImages"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>bx(u))),a(e,["instances[0]","productImages"],l)}return n}function Wx(t){const e={},n=s(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],tt(n));const o=s(t,["referenceId"]);o!=null&&a(e,["referenceId"],o);const r=s(t,["referenceType"]);r!=null&&a(e,["referenceType"],r);const i=s(t,["maskImageConfig"]);i!=null&&a(e,["maskImageConfig"],zx(i));const l=s(t,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],Dv(l));const u=s(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const d=s(t,["subjectImageConfig"]);return d!=null&&a(e,["subjectImageConfig"],d),e}function Tp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function Sp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function Yx(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function Kx(t){const e={},n=s(t,["image"]);return n!=null&&a(e,["image"],tt(n)),e}function Qx(t,e){const n={},o=s(t,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const r=s(t,["maxPredictions"]);e!==void 0&&r!=null&&a(e,["parameters","maxPredictions"],r);const i=s(t,["confidenceThreshold"]);e!==void 0&&i!=null&&a(e,["parameters","confidenceThreshold"],i);const l=s(t,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const d=s(t,["labels"]);return e!==void 0&&d!=null&&a(e,["labels"],d),n}function Xx(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["source"]);r!=null&&jx(r,n);const i=s(e,["config"]);return i!=null&&Qx(i,n),n}function Zx(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Sx(r))),a(e,["generatedMasks"],o)}return e}function jx(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],tt(r));const i=s(t,["scribbleImage"]);return e!==void 0&&i!=null&&a(e,["instances[0]","scribble"],Kx(i)),n}function _p(t){const e={},n=s(t,["languageCode"]);n!=null&&a(e,["languageCode"],n);const o=s(t,["voiceConfig"]);if(o!=null&&a(e,["voiceConfig"],o),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function eE(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&a(e,["functionCallingConfig"],nx(n));const o=s(t,["retrievalConfig"]);return o!=null&&a(e,["retrievalConfig"],o),e}function tE(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],kx(u));const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],Rx(d));const c=s(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}function wp(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>ox(h))),a(e,["functionDeclarations"],m)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const i=s(t,["computerUse"]);if(i!=null&&a(e,["computerUse"],i),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(t,["codeExecution"]);l!=null&&a(e,["codeExecution"],l);const u=s(t,["enterpriseWebSearch"]);u!=null&&a(e,["enterpriseWebSearch"],u);const d=s(t,["googleMaps"]);d!=null&&a(e,["googleMaps"],d);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function nE(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function oE(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function rE(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function iE(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function sE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],K(t,o));const r=s(e,["config"]);return r!=null&&rE(r,n),n}function lE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["config"]);return r!=null&&iE(r,n),n}function aE(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&a(e,["parameters","safetySetting"],r);const i=s(t,["personGeneration"]);e!==void 0&&i!=null&&a(e,["parameters","personGeneration"],i);const l=s(t,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=s(t,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const d=s(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&a(e,["parameters","outputOptions","compressionQuality"],d);const c=s(t,["enhanceInputImage"]);e!==void 0&&c!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=s(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const m=s(t,["labels"]);e!==void 0&&m!=null&&a(e,["labels"],m);const h=s(t,["numberOfImages"]);e!==void 0&&h!=null&&a(e,["parameters","sampleCount"],h);const y=s(t,["mode"]);return e!==void 0&&y!=null&&a(e,["parameters","mode"],y),n}function uE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],K(t,o));const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],tt(r));const i=s(e,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(e,["config"]);return l!=null&&aE(l,n),n}function dE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>pi(i))),a(e,["generatedImages"],r)}return e}function cE(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Jt(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function fE(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Jt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function pE(t){const e={},n=s(t,["image"]);n!=null&&a(e,["_self"],tt(n));const o=s(t,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function mE(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],mi(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function hE(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],tt(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function Ip(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["encodedVideo"],Jt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["encoding"],r),e}function Np(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Jt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gE="Content-Type",yE="X-Server-Timeout",vE="User-Agent",Ws="x-goog-api-client",xE="1.30.0",EE=`google-genai-sdk/${xE}`,CE="v1beta1",TE="v1beta",Ld=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class SE{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:CE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:TE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))r.searchParams.append(l,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=l}return n&&n.extraBody!==null&&_E(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Fd(r),new bs(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await Fd(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return Rn(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:d}=yield ee(r.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(d,{stream:!0});try{const m=JSON.parse(c);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),y=h.status,C=h.code,T=`got status: ${y}. ${JSON.stringify(m)}`;if(C>=400&&C<600)throw new ci({message:T,status:C})}}catch(m){if(m.name==="ApiError")throw m}l+=c;let f=l.match(Ld);for(;f;){const m=f[1];try{const h=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ee(new bs(h)),l=l.slice(f[0].length),f=l.match(Ld)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=EE+" "+this.clientOptions.userAgentExtra;return e[vE]=n,e[Ws]=n,e[gE]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(yE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(e);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const d={file:r},c=this.getFileName(e),f=D("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,c,d,n==null?void 0:n.httpOptions);return i.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),d=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),m={};o!=null&&o.customMetadata&&(m.customMetadata=o.customMetadata),o!=null&&o.chunkingConfig&&(m.chunkingConfig=o.chunkingConfig);const h=await this.fetchUploadUrl(c,u,d,f,m,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const c=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=c==null?void 0:c.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Fd(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new ci({message:r,status:n}):new Error(r)}}function _E(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const c=l[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=o(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const r=o(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wE="mcp_used/unknown";let IE=!1;function Ap(t){for(const e of t)if(NE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return IE}function kp(t){var e;const n=(e=t[Ws])!==null&&e!==void 0?e:"";t[Ws]=(n+` ${wE}`).trimStart()}function NE(t){return t!==null&&typeof t=="object"&&t instanceof Xl}function AE(t,e=100){return Rn(this,arguments,function*(){let o,r=0;for(;r<e;){const i=yield ee(t.listTools({cursor:o}));for(const l of i.tools)yield yield ee(l),r++;if(!i.nextCursor)break;o=i.nextCursor}})}class Xl{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Xl(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,d=(n=void 0,xo(AE(f))),c;c=await d.next(),e=c.done,!e;u=!0){r=c.value,u=!1;const m=r;l.push(m);const h=m.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=f}}catch(m){n={error:m}}finally{try{!u&&!e&&(o=d.return)&&await o.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),E0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function kE(t,e,n){const o=new f0;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}class RE{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=DE(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(g=>{c=g}),m=e.callbacks,h=function(){c({})},y=this.apiClient,C={onopen:h,onmessage:g=>{kE(y,m.onmessage,g)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(g){},onclose:(o=m==null?void 0:m.onclose)!==null&&o!==void 0?o:function(g){}},T=this.webSocketFactory.create(d,ME(l),C);T.connect(),await f;const v={setup:{model:K(this.apiClient,e.model)}};return T.send(JSON.stringify(v)),new PE(T,this.apiClient)}}class PE{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=yv(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=gv(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Tn.PLAY)}pause(){this.sendPlaybackControl(Tn.PAUSE)}stop(){this.sendPlaybackControl(Tn.STOP)}resetContext(){this.sendPlaybackControl(Tn.RESET_CONTEXT)}close(){this.conn.close()}}function ME(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function DE(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FE(t,e,n){const o=new c0;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(t.isVertexAI()){const l=Ev(i);Object.assign(o,l)}else Object.assign(o,i);e(o)}class UE{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new RE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&Ap(e.config.tools)&&kp(m);const h=zE(m);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const M=this.apiClient.getApiKey();let A="BidiGenerateContent",G="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),A="BidiGenerateContentConstrained",G="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${A}?${G}=${M}`}let y=()=>{};const C=new Promise(M=>{y=M}),T=e.callbacks,I=function(){var M;(M=T==null?void 0:T.onopen)===null||M===void 0||M.call(T),y({})},x=this.apiClient,v={onopen:I,onmessage:M=>{FE(x,T.onmessage,M)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(M){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(M){}},g=this.webSocketFactory.create(f,qE(h),v);g.connect(),await C;let E=K(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const M=this.apiClient.getProject(),A=this.apiClient.getLocation();E=`projects/${M}/locations/${A}/`+E}let _={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[$r.AUDIO]}:e.config.responseModalities=[$r.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],N=[];for(const M of w)if(this.isCallableTool(M)){const A=M;N.push(await A.tool())}else N.push(M);N.length>0&&(e.config.tools=N);const R={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?_=hv(this.apiClient,R):_=mv(this.apiClient,R),delete _.config,g.send(JSON.stringify(_)),new GE(g,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const VE={turnComplete:!0};class GE{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Je(n.turns),e.isVertexAI()||(o=o.map(r=>fi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(LE)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},VE),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:xv(e)}:n={realtimeInput:vv(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function qE(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function zE(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ud=10;function Vd(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Pn(l)){r=!0;break}if(!r)return!0;const i=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Pn(t){return"callTool"in t&&typeof t.callTool=="function"}function HE(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Pn(r)))!==null&&o!==void 0?o:!1}function Gd(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(Pn(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function qd(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bE extends Tt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!HE(n)||Vd(n.config))return await this.generateContentInternal(d);const c=Gd(n);if(c.length>0){const T=c.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let f,m;const h=Je(d.contents),y=(i=(r=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Ud;let C=0;for(;C<y&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const T=f.candidates[0].content,I=[];for(const x of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Pn(x)){const g=await x.callTool(f.functionCalls);I.push(...g)}C++,m={role:"user",parts:I},d.contents=Je(d.contents),d.contents.push(T),d.contents.push(m),qd(d.config)&&(h.push(T),h.push(m))}return qd(d.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),Vd(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const d=Gd(n);if(d.length>0){const m=d.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:l.push(d);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new sn(Et.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const l=await Promise.all(i.map(async d=>Pn(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&Ap(e.config.tools)){const d=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),kp(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,o,r;const i=new Map;for(const l of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Pn(l)){const u=l,d=await u.tool();for(const c of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,u)}}return i}async processAfcStream(e){var n,o,r;const i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Ud;let l=!1,u=0;const d=await this.initAfcToolsMap(e);return function(c,f,m){var h,y;return Rn(this,arguments,function*(){for(var C,T,I,x;u<i;){l&&(u++,l=!1);const _=yield ee(c.processParamsMaybeAddMcpUsage(m)),w=yield ee(c.generateContentStreamInternal(_)),N=[],R=[];try{for(var v=!0,g=(T=void 0,xo(w)),E;E=yield ee(g.next()),C=E.done,!C;v=!0){x=E.value,v=!1;const M=x;if(yield yield ee(M),M.candidates&&(!((h=M.candidates[0])===null||h===void 0)&&h.content)){R.push(M.candidates[0].content);for(const A of(y=M.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<i&&A.functionCall){if(!A.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(A.functionCall.name)){const G=yield ee(f.get(A.functionCall.name).callTool([A.functionCall]));N.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${A.functionCall.name}`)}}}}catch(M){T={error:M}}finally{try{!v&&!C&&(I=g.return)&&(yield ee(I.call(g)))}finally{if(T)throw T.error}}if(N.length>0){l=!0;const M=new eo;M.candidates=[{content:{role:"user",parts:N}}],yield yield ee(M);const A=[];A.push(...R),A.push({role:"user",parts:N});const G=Je(m.contents).concat(A);m.contents=G}else break}})}(this,d,e)}async generateContentInternal(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Pd(this.apiClient,e);return u=D("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Dd(f),h=new eo;return Object.assign(h,m),h})}else{const c=Rd(this.apiClient,e);return u=D("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Md(f),h=new eo;return Object.assign(h,m),h})}}async generateContentStreamInternal(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Pd(this.apiClient,e);return u=D("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Rn(this,arguments,function*(){var h,y,C,T;try{for(var I=!0,x=xo(m),v;v=yield ee(x.next()),h=v.done,!h;I=!0){T=v.value,I=!1;const g=T,E=Dd(yield ee(g.json()));E.sdkHttpResponse={headers:g.headers};const _=new eo;Object.assign(_,E),yield yield ee(_)}}catch(g){y={error:g}}finally{try{!I&&!h&&(C=x.return)&&(yield ee(C.call(x)))}finally{if(y)throw y.error}}})})}else{const c=Rd(this.apiClient,e);return u=D("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(m){return Rn(this,arguments,function*(){var h,y,C,T;try{for(var I=!0,x=xo(m),v;v=yield ee(x.next()),h=v.done,!h;I=!0){T=v.value,I=!1;const g=T,E=Md(yield ee(g.json()));E.sdkHttpResponse={headers:g.headers};const _=new eo;Object.assign(_,E),yield yield ee(_)}}catch(g){y={error:g}}finally{try{!I&&!h&&(C=x.return)&&(yield ee(C.call(x)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Qv(this.apiClient,e);return u=D("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Zv(f),h=new md;return Object.assign(h,m),h})}else{const c=Kv(this.apiClient,e);return u=D("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Xv(f),h=new md;return Object.assign(h,m),h})}}async generateImagesInternal(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ux(this.apiClient,e);return u=D("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=cx(f),h=new hd;return Object.assign(h,m),h})}else{const c=ax(this.apiClient,e);return u=D("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=dx(f),h=new hd;return Object.assign(h,m),h})}}async editImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=$v(this.apiClient,e);return i=D("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=Ov(d),f=new e0;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=uE(this.apiClient,e);return i=D("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=dE(d),f=new t0;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Jx(this.apiClient,e);return i=D("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=$x(d),f=new n0;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Xx(this.apiClient,e);return i=D("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=Zx(d),f=new o0;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Ax(this.apiClient,e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Os(f))}else{const c=Nx(this.apiClient,e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>$s(f))}}async listInternal(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Vx(this.apiClient,e);return u=D("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=qx(f),h=new gd;return Object.assign(h,m),h})}else{const c=Ux(this.apiClient,e);return u=D("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Gx(f),h=new gd;return Object.assign(h,m),h})}}async update(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=lE(this.apiClient,e);return u=D("{model}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Os(f))}else{const c=sE(this.apiClient,e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>$s(f))}}async delete(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Hv(this.apiClient,e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Bv(f),h=new yd;return Object.assign(h,m),h})}else{const c=zv(this.apiClient,e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=bv(f),h=new yd;return Object.assign(h,m),h})}}async countTokens(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Vv(this.apiClient,e);return u=D("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=qv(f),h=new vd;return Object.assign(h,m),h})}else{const c=Uv(this.apiClient,e);return u=D("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=Gv(f),h=new vd;return Object.assign(h,m),h})}}async computeTokens(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=kv(this.apiClient,e);return i=D("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=Rv(d),f=new r0;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=yx(this.apiClient,e);return u=D("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const m=hx(f),h=new Or;return Object.assign(h,m),h})}else{const c=gx(this.apiClient,e);return u=D("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const m=mx(f),h=new Or;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BE extends Tt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Yg(e);return u=D("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const c=Wg(e);return u=D("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=zg(e);return i=D("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JE(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function $E(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>eC(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function OE(t,e,n){const o={},r=s(e,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(e,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],jE(t,u));const d=s(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&a(n,["fieldMask"],d),o}function WE(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],OE(t,o,n)),n}function YE(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function KE(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QE(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function XE(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function ZE(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const d=s(t,["maxOutputTokens"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","maxOutputTokens"],d);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","mediaResolution"],c);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const m=s(t,["speechConfig"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","speechConfig"],Ql(m));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const y=s(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],y);const C=s(t,["systemInstruction"]);e!==void 0&&C!=null&&a(e,["setup","systemInstruction"],$E(Se(C)));const T=s(t,["tools"]);if(e!==void 0&&T!=null){let w=Bn(T);Array.isArray(w)&&(w=w.map(N=>nC(bn(N)))),a(e,["setup","tools"],w)}const I=s(t,["sessionResumption"]);e!==void 0&&I!=null&&a(e,["setup","sessionResumption"],tC(I));const x=s(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&a(e,["setup","inputAudioTranscription"],x);const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","outputAudioTranscription"],v);const g=s(t,["realtimeInputConfig"]);e!==void 0&&g!=null&&a(e,["setup","realtimeInputConfig"],g);const E=s(t,["contextWindowCompression"]);e!==void 0&&E!=null&&a(e,["setup","contextWindowCompression"],E);const _=s(t,["proactivity"]);return e!==void 0&&_!=null&&a(e,["setup","proactivity"],_),n}function jE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],K(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],ZE(r,n)),n}function eC(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],YE(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],KE(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const d=s(t,["inlineData"]);d!=null&&a(e,["inlineData"],JE(d));const c=s(t,["text"]);c!=null&&a(e,["text"],c);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const m=s(t,["thoughtSignature"]);m!=null&&a(e,["thoughtSignature"],m);const h=s(t,["videoMetadata"]);return h!=null&&a(e,["videoMetadata"],h),e}function tC(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function nC(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(m=>m)),a(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearchRetrieval"]);o!=null&&a(e,["googleSearchRetrieval"],o);const r=s(t,["computerUse"]);r!=null&&a(e,["computerUse"],r);const i=s(t,["fileSearch"]);i!=null&&a(e,["fileSearch"],i);const l=s(t,["codeExecution"]);if(l!=null&&a(e,["codeExecution"],l),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],QE(u));const d=s(t,["googleSearch"]);d!=null&&a(e,["googleSearch"],XE(d));const c=s(t,["urlContext"]);return c!=null&&a(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oC(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function rC(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const i=oC(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(c=>l.includes(c)?`generationConfig.${c}`:c));const d=[];i&&d.push(i),u.length>0&&d.push(...u),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class iC extends Tt{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=WE(this.apiClient,e);i=D("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=rC(u,e.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sC(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["displayName"],o),n}function lC(t){const e={},n=s(t,["config"]);return n!=null&&sC(n,e),e}function aC(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function uC(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&aC(o,e),e}function dC(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function cC(t,e){const n={},o=s(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["customMetadata"],i)}const r=s(t,["chunkingConfig"]);return e!==void 0&&r!=null&&a(e,["chunkingConfig"],r),n}function fC(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],mC(l)),e}function pC(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["fileName"]);o!=null&&a(e,["fileName"],o);const r=s(t,["config"]);return r!=null&&cC(r,e),e}function mC(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function hC(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function gC(t){const e={},n=s(t,["config"]);return n!=null&&hC(n,e),e}function yC(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["fileSearchStores"],i)}return e}function vC(t,e){const n={},o=s(t,["mimeType"]);e!==void 0&&o!=null&&a(e,["mimeType"],o);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const i=s(t,["customMetadata"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),a(e,["customMetadata"],u)}const l=s(t,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),n}function xC(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["config"]);return o!=null&&vC(o,e),e}function EC(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CC(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function TC(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&CC(o,e),e}function SC(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function _C(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function wC(t){const e={},n=s(t,["parent"]);n!=null&&a(e,["_url","parent"],n);const o=s(t,["config"]);return o!=null&&_C(o,e),e}function IC(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NC extends Tt{constructor(e){super(),this.apiClient=e,this.list=async n=>new sn(Et.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=SC(e);return i=D("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=TC(e);r=D("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wC(e);return i=D("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=IC(d),f=new i0;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AC extends Tt{constructor(e,n=new NC(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new sn(Et.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lC(e);return i=D("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dC(e);return i=D("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=uC(e);r=D("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gC(e);return i=D("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=yC(d),f=new s0;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xC(e);return i=D("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=EC(d),f=new l0;return Object.assign(f,c),f})}}async importFile(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pC(e);return i=D("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=fC(d),f=new $l;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kC(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function RC(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function PC(t,e,n){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&a(e,["displayName"],r),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(t,["epochCount"]);e!==void 0&&i!=null&&a(e,["tuningTask","hyperparameters","epochCount"],i);const l=s(t,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(t,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const d=s(t,["learningRate"]);if(e!==void 0&&d!=null&&a(e,["tuningTask","hyperparameters","learningRate"],d),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function MC(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const y=s(t,["validationDataset"]);e!==void 0&&y!=null&&a(e,["supervisedTuningSpec"],zd(y))}else if(r==="PREFERENCE_TUNING"){const y=s(t,["validationDataset"]);e!==void 0&&y!=null&&a(e,["preferenceOptimizationSpec"],zd(y))}const i=s(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&a(e,["tunedModelDisplayName"],i);const l=s(t,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=s(t,["epochCount"]);e!==void 0&&y!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(u==="PREFERENCE_TUNING"){const y=s(t,["epochCount"]);e!==void 0&&y!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=s(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(d==="PREFERENCE_TUNING"){const y=s(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=s(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(c==="PREFERENCE_TUNING"){const y=s(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=s(t,["adapterSize"]);e!==void 0&&y!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(f==="PREFERENCE_TUNING"){const y=s(t,["adapterSize"]);e!==void 0&&y!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(t,["labels"]);e!==void 0&&m!=null&&a(e,["labels"],m);const h=s(t,["beta"]);return e!==void 0&&h!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),o}function DC(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&JC(i);const l=s(t,["config"]);return l!=null&&PC(l,n),n}function LC(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&$C(i,n,e);const l=s(t,["config"]);return l!=null&&MC(l,n,e),n}function FC(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function UC(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function VC(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function GC(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function qC(t,e){const n={},o=s(t,["config"]);return o!=null&&VC(o,n),n}function zC(t,e){const n={},o=s(t,["config"]);return o!=null&&GC(o,n),n}function HC(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Rp(u))),a(n,["tuningJobs"],l)}return n}function bC(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Ys(u))),a(n,["tuningJobs"],l)}return n}function BC(t,e){const n={},o=s(t,["name"]);o!=null&&a(n,["model"],o);const r=s(t,["name"]);return r!=null&&a(n,["endpoint"],r),n}function JC(t,e){const n={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function $C(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Rp(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],cp(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const d=s(t,["tuningTask","completeTime"]);d!=null&&a(n,["endTime"],d);const c=s(t,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=s(t,["description"]);f!=null&&a(n,["description"],f);const m=s(t,["baseModel"]);m!=null&&a(n,["baseModel"],m);const h=s(t,["_self"]);return h!=null&&a(n,["tunedModel"],BC(h)),n}function Ys(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],cp(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(n,["startTime"],u);const d=s(t,["endTime"]);d!=null&&a(n,["endTime"],d);const c=s(t,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=s(t,["error"]);f!=null&&a(n,["error"],f);const m=s(t,["description"]);m!=null&&a(n,["description"],m);const h=s(t,["baseModel"]);h!=null&&a(n,["baseModel"],h);const y=s(t,["tunedModel"]);y!=null&&a(n,["tunedModel"],y);const C=s(t,["preTunedModel"]);C!=null&&a(n,["preTunedModel"],C);const T=s(t,["supervisedTuningSpec"]);T!=null&&a(n,["supervisedTuningSpec"],T);const I=s(t,["preferenceOptimizationSpec"]);I!=null&&a(n,["preferenceOptimizationSpec"],I);const x=s(t,["tuningDataStats"]);x!=null&&a(n,["tuningDataStats"],x);const v=s(t,["encryptionSpec"]);v!=null&&a(n,["encryptionSpec"],v);const g=s(t,["partnerModelTuningSpec"]);g!=null&&a(n,["partnerModelTuningSpec"],g);const E=s(t,["customBaseModel"]);E!=null&&a(n,["customBaseModel"],E);const _=s(t,["experiment"]);_!=null&&a(n,["experiment"],_);const w=s(t,["labels"]);w!=null&&a(n,["labels"],w);const N=s(t,["outputUri"]);N!=null&&a(n,["outputUri"],N);const R=s(t,["pipelineJob"]);R!=null&&a(n,["pipelineJob"],R);const M=s(t,["serviceAccount"]);M!=null&&a(n,["serviceAccount"],M);const A=s(t,["tunedModelDisplayName"]);A!=null&&a(n,["tunedModelDisplayName"],A);const G=s(t,["veoTuningSpec"]);return G!=null&&a(n,["veoTuningSpec"],G),n}function OC(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["done"]);l!=null&&a(n,["done"],l);const u=s(t,["error"]);return u!=null&&a(n,["error"],u),n}function zd(t,e){const n={},o=s(t,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=s(t,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC extends Tt{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new sn(Et.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Hs.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=UC(e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Ys(f))}else{const c=FC(e);return u=D("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Rp(f))}}async listInternal(e){var n,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=zC(e);return u=D("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=bC(f),h=new xd;return Object.assign(h,m),h})}else{const c=qC(e);return u=D("tunedModels",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const m=HC(f),h=new xd;return Object.assign(h,m),h})}}async cancel(e){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const d=RC(e);l=D("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=kC(e);l=D("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=LC(e,e);return i=D("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>Ys(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DC(e);return i=D("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>OC(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YC{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const KC=1024*1024*8,QC=3,XC=1e3,ZC=2,Yr="x-goog-upload-status";async function jC(t,e,n){var o;const r=await Pp(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Yr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function eT(t,e,n){var o;const r=await Pp(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[Yr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=ip(i),u=new Ol;return Object.assign(u,l),u}async function Pp(t,e,n){var o,r;let i=0,l=0,u=new bs(new Response),d="upload";for(i=t.size;l<i;){const c=Math.min(KC,i-l),f=t.slice(l,l+c);l+c>=i&&(d+=", finalize");let m=0,h=XC;for(;m<QC&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(c)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[Yr]));)m++,await nT(h),h=h*ZC;if(l+=c,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[Yr])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function tT(t){return{size:t.size,type:t.type}}function nT(t){return new Promise(e=>setTimeout(e,t))}class oT{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jC(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eT(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tT(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rT{create(e,n,o){return new iT(e,n,o)}}class iT{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hd="x-goog-api-key";class sT{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Hd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Hd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lT="gl-node/";class aT{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=Gg(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const r=new sT(this.apiKey);this.apiClient=new SE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:lT+"web",uploader:new oT,downloader:new YC}),this.models=new bE(this.apiClient),this.live=new UE(this.apiClient,r,new rT),this.batches=new py(this.apiClient),this.chats=new Yy(this.models,this.apiClient),this.caches=new $y(this.apiClient),this.files=new rv(this.apiClient),this.operations=new BE(this.apiClient),this.authTokens=new iC(this.apiClient),this.tunings=new WC(this.apiClient),this.fileSearchStores=new AC(this.apiClient)}}const to=()=>Math.random().toString(36).substr(2,9),uT=t=>{try{return JSON.parse(t)}catch(e){console.warn("JSON truncated. Attempting repair...");let n=t.trim().replace(/,$/,"");(n.match(/"/g)||[]).length%2!==0&&(n+='"');const r=[];for(const i of n)i==="{"?r.push("}"):i==="["?r.push("]"):(i==="}"||i==="]")&&r[r.length-1]===i&&r.pop();n+=r.reverse().join("");try{return JSON.parse(n)}catch(i){throw console.error("Repair failed",i),e}}},Mp={type:B.OBJECT,properties:{name:{type:B.STRING,description:"Name of the feature (e.g., 'Wing Color')"},imageUrl:{type:B.STRING,description:"URL for feature illustration"},states:{type:B.ARRAY,items:{type:B.STRING,description:"A state description (e.g., 'Blue')"}}},required:["name","states"]},Dp={type:B.OBJECT,properties:{label:{type:B.STRING,description:"Title of the link (e.g., 'Wikipedia', 'GBIF')"},url:{type:B.STRING,description:"Full URL"}},required:["label","url"]},dT={type:B.OBJECT,properties:{projectName:{type:B.STRING},projectDescription:{type:B.STRING},features:{type:B.ARRAY,items:Mp},entities:{type:B.ARRAY,items:{type:B.OBJECT,properties:{name:{type:B.STRING},description:{type:B.STRING},imageUrl:{type:B.STRING,description:"URL for species image."},links:{type:B.ARRAY,items:Dp,description:"External resources"},traits:{type:B.ARRAY,items:{type:B.OBJECT,properties:{featureName:{type:B.STRING,description:"Must match one of the feature names exactly"},stateValue:{type:B.STRING,description:"Must match one of the state values for that feature exactly"}}}}},required:["name","description","traits"]}}},required:["projectName","projectDescription","features","entities"]},cT={type:B.OBJECT,properties:{projectName:{type:B.STRING},projectDescription:{type:B.STRING},features:{type:B.ARRAY,items:Mp},entities:{type:B.ARRAY,items:{type:B.OBJECT,properties:{name:{type:B.STRING},description:{type:B.STRING},imageUrl:{type:B.STRING,description:"URL if found, else empty."},links:{type:B.ARRAY,items:Dp,description:"External resources"},traits:{type:B.ARRAY,items:{type:B.STRING,description:"Format: 'Feature Name: State Value'"}}},required:["name","description","traits"]}}},required:["projectName","projectDescription","features","entities"]},Lp=t=>{const e=t.language==="pt"?"All content (Project Name, Description, Features, States, Entities, Descriptions) MUST be in Portuguese (Brazil).":"All content must be in English.";let n=t.includeSpeciesImages?"For each entity, provide a valid, DIRECT public URL to an image file (must end in .jpg, .jpeg, or .png) representing the species. The URL must point directly to the image binary, not a landing page.":"Leave `imageUrl` empty for entities.",o=t.includeFeatureImages?"For each feature, provide a valid, DIRECT public URL to an image file (must end in .jpg, .jpeg, or .png) illustrating the trait. The URL must point directly to the image binary, not a landing page.":"Leave `imageUrl` empty for features.",r=t.includeLinks?"For each entity, provide 1-2 reputable external links (e.g., Wikipedia, IUCN, GBIF, Flora e Funga do Brasil) in the 'links' array.":"Leave the 'links' array empty.";if(t.importedFile){let c="Extract ALL distinctive features found in the text.";t.featureFocus==="vegetative"?c="STRICTLY EXTRACT ONLY VEGETATIVE features (leaves, bark, stem, roots, growth habit). IGNORE reproductive features (flowers, fruits, seeds).":t.featureFocus==="reproductive"&&(c="STRICTLY EXTRACT ONLY REPRODUCTIVE features (flowers, fruits, seeds, inflorescence). IGNORE vegetative features.");let f="Maintain the descriptions as close to the original text as possible (Balanced).";t.detailLevel===1?f="SIMPLIFY the descriptions. Use shorter, easier sentences. Remove excessive jargon.":t.detailLevel===3&&(f="MAXIMIZE DETAIL. Keep all scientific terms, measurements, and nuances found in the text.");const m=`
      You are an expert biologist and data analyst.
      Your task is to analyze the provided document (PDF, Text, or Image) and extract a structured Matrix Identification Key.
      
      **Goal**: Extract entities and features to build a matrix.
      
      **CRITICAL INSTRUCTIONS**: 
      1. You must extract **EVERY SINGLE** species/entity found in the text. DO NOT truncate the list.
      2. **FILTER**: ${c}
      3. **DETAIL**: ${f}
      4. **MEDIA**: 
         - Species Images: ${n}
         - Feature Images: ${o}
         - External Links: ${r}
      5. ${e}
      
      **Format**: Return valid JSON. Use the "Feature: State" string format for traits to save space.
    `,h=`
      Analyze the attached file. Extract a comprehensive biological identification key.
      
      - Project Name: Derive from document title.
      - Description: Summary of content.
      - Entities: Extract ALL entities found.
      - Features: Extract distinctive traits based on the focus setting.
      - Matrix: Map traits to entities.
      
      If analyzing a Dichotomous Key, flatten the logic: assign all traits accumulated along the path to the species.
    `,y=[{inlineData:{mimeType:t.importedFile.mimeType,data:t.importedFile.data}},{text:h}];return{systemInstruction:m,prompt:h,parts:y,schema:cT}}let i="";t.featureFocus==="reproductive"?i="Focus primarily on reproductive features (e.g., flowers, fruits, seeds, cones, spores, inflorescence).":t.featureFocus==="vegetative"?i="Focus primarily on vegetative features (e.g., leaves, bark, stem, roots, growth habit, phyllo taxis).":i="Use a balanced mix of vegetative and reproductive features.";let l="";t.detailLevel===1?l="AUDIENCE: Children or General Public. Use simple, common language. Short descriptions. Avoid complex jargon.":t.detailLevel===3?l="AUDIENCE: Experts/Scientists. Use precise botanical/zoological terminology. Comprehensive descriptions. High detail.":l="AUDIENCE: Students/Enthusiasts. Balanced use of scientific terms with clear explanations.";const u=`
    You are an expert taxonomist and biologist. 
    Your task is to create an interactive identification key (matrix key) based strictly on the user's constraints.
    
    Constraints:
    1.  **Language**: ${e}
    2.  **Topic**: The general subject.
    3.  **Geography**: Restrict entities to this region/biome.
    4.  **Taxonomy**: Restrict to this Family/Genus/Order if specified.
    5.  **Quantity**: Generate exactly or close to the requested number of entities and features.
    6.  **Focus**: ${i}
    7.  **Detail Level**: ${l}
    8.  **Media**: 
        - Species Images: ${n}
        - Feature Images: ${o}
        - External Links: ${r}

    Output Requirements:
    1.  List of distinctive features. Each feature must have 2+ states.
    2.  List of entities.
    3.  Matrix: Assign correct states.
    4.  **Scientific Accuracy**: Ensure traits are factual.

    The response must be a structured JSON object.
  `,d=`
    Create an identification key for: "${t.topic}".
    
    Constraints:
    - Language: ${t.language==="pt"?"Portuguese":"English"}
    - Geographic Scope: ${t.geography||"Global"}
    - Taxonomic Context: ${t.taxonomy||"General"}
    - Target Number of Entities: ${t.count}
    - Target Number of Features: ${t.featureCount}
    - Feature Focus: ${t.featureFocus}
    - Complexity Level: ${t.detailLevel}/3

    Ensure the features allow for effective separation of these entities.
  `;return{systemInstruction:u,prompt:d,schema:dT,parts:void 0}},fT=async(t,e,n)=>{if(!e)throw new Error("API Key is missing");const o=new aT({apiKey:e}),{systemInstruction:r,prompt:i,parts:l,schema:u}=Lp(t);n&&n(`SYSTEM:
${r}

USER PROMPT:
${i}`);const d=l||i;return await pT(o,t.model,d,r,u)};async function pT(t,e,n,o,r){const i=async l=>{var u,d;try{return await t.models.generateContent({model:l.trim(),contents:n,config:{systemInstruction:o,responseMimeType:"application/json",responseSchema:r,maxOutputTokens:65536}})}catch(c){if((u=c.message)!=null&&u.includes("404")||(d=c.message)!=null&&d.includes("NOT_FOUND")){const f="gemini-2.5-flash";if(l!==f)return console.warn(`Model ${l} not found, falling back to ${f}`),await i(f)}throw c}};try{const u=await i(e||"gemini-2.5-flash"),d=uT(u.text||"{}");if(!d.projectName)throw new Error("Invalid AI response");const c=d.features.map(m=>({id:to(),name:m.name,imageUrl:m.imageUrl||"",states:m.states.map(h=>({id:to(),label:h}))})),f=d.entities.map(m=>{const h={};m.traits.forEach(I=>{let x="",v="";if(typeof I=="string"){const g=I.indexOf(":");g>-1&&(x=I.substring(0,g).trim(),v=I.substring(g+1).trim())}else typeof I=="object"&&I!==null&&(x=I.featureName,v=I.stateValue);if(x&&v){const g=c.find(E=>E.name.toLowerCase()===x.toLowerCase());if(g){const E=g.states.find(_=>_.label.toLowerCase()===v.toLowerCase());E&&(h[g.id]||(h[g.id]=[]),h[g.id].push(E.id))}}});const y=m.imageUrl?m.imageUrl.trim():"",C=y.startsWith("http"),T=Array.isArray(m.links)?m.links:[];return{id:to(),name:m.name,description:m.description,imageUrl:C?y:`https://picsum.photos/seed/${encodeURIComponent(m.name)}/400/300`,links:T.map(I=>({id:to(),label:I.label||"Link",url:I.url||"#"})),traits:h}});return{id:to(),name:d.projectName,description:d.projectDescription,features:c,entities:f}}catch(l){throw console.error("Gemini Generation Error:",l),l}}const mT={en:{builder:"Builder",aiWizard:"Nuts AI",savePlay:"Save & Play",exit:"Exit",save:"Save",open:"Open",export:"Export",import:"Import",general:"General",features:"Features",entities:"Entities",matrix:"Matrix Scoring",projectName:"Project Name",description:"Description",definedFeatures:"Defined Features",definedFeaturesDesc:"Define traits and their possible states.",addFeature:"Add Feature",featureName:"Feature Name",imageURL:"Image URL (optional)",states:"States",addState:"Add State",manageEntities:"Entities",manageEntitiesDesc:"Manage the taxa included in your key.",addEntity:"Add Entity",scoringMatrix:"Scoring Matrix",scoringMatrixDesc:"Click cells to toggle state association",taxaFeatures:"Taxa / Features",aiTitle:"Nuts AI Wizard",aiDesc:"Generate or Extract keys using Gemini AI.",topic:"Key Topic / Subject",topicPlace:"e.g. Freshwater Fishes, Garden Weeds",geography:"Geography / Biome",taxonomy:"Taxonomy Filter",numEntities:"Approx. # of Entities",numFeatures:"Approx. # of Features",generating:"Nozes IA is thinking... (15-45s)",cancel:"Cancel",generate:"Generate Key",savedMsg:"Project saved to browser storage!",errGen:"Failed to generate key. Check console.",featureFocus:"Feature Focus",focusGeneral:"General (All)",focusRepro:"Reproductive Only",focusVeg:"Vegetative Only",options:"Options",fetchSpeciesImg:"Fetch Species Images",fetchFeatureImg:"Fetch Feature Images",fetchLinks:"Fetch External Links",detailLevel:"Detail Level",detailSimple:"Simplified",detailBalanced:"Balanced",detailExpert:"Expert / High",detailOriginal:"Original Fidelity",noSaved:"No saved projects.",close:"Close",modeTopic:"Generate from Topic",modeImport:"Import from File",uploadLabel:"Upload PDF, Image, or Text",uploadDesc:"The AI will study the document and extract entities and features automatically.",supportedFormats:"Supports: .pdf, .txt, .jpg, .png",dropFile:"Drop file here",removeFile:"Remove file",analyzing:"Analyzing document...",promptCopied:"Prompt copied to clipboard!",configSettings:"Configuration",links:"Additional Links / Resources",addLink:"Add Link",editTraits:"Edit Characteristics",traitEditor:"Trait Editor",copyPrompt:"Copy",missingKey:"Missing API Key. Please configure it in the main menu Settings."},pt:{builder:"Construtor",aiWizard:"Nozes IA",savePlay:"Salvar & Testar",exit:"Sair",save:"Salvar",open:"Abrir",export:"Exportar",import:"Importar",general:"Geral",features:"Caractersticas",entities:"Entidades",matrix:"Matriz",projectName:"Nome do Projeto",description:"Descrio",definedFeatures:"Caractersticas Definidas",definedFeaturesDesc:"Defina caractersticas e seus estados possveis.",addFeature:"Adicionar Caracterstica",featureName:"Nome",imageURL:"URL da Imagem (opcional)",states:"Estados",addState:"Adicionar Estado",manageEntities:"Entidades",manageEntitiesDesc:"Gerencie os txons includos na chave.",addEntity:"Adicionar Entidade",scoringMatrix:"Matriz de Pontuao",scoringMatrixDesc:"Clique nas clulas para associar estados",taxaFeatures:"Txons / Caractersticas",aiTitle:"Assistente Nozes IA",aiDesc:"Gere ou Extraia chaves usando Gemini IA.",topic:"Tpico / Assunto",topicPlace:"ex: Peixes de gua Doce, Ervas Daninhas",geography:"Geografia / Bioma",taxonomy:"Filtro Taxonmico",numEntities:"Aprox. # de Entidades",numFeatures:"Aprox. # de Caractersticas",generating:"Nozes IA est pensando... (15-45s)",cancel:"Cancelar",generate:"Gerar Chave",savedMsg:"Projeto salvo no navegador!",errGen:"Falha ao gerar chave. Verifique o console.",featureFocus:"Foco das Caractersticas",focusGeneral:"Geral (Todas)",focusRepro:"Apenas Reprodutivas",focusVeg:"Apenas Vegetativas",options:"Opes",fetchSpeciesImg:"Buscar Imagens de Espcies",fetchFeatureImg:"Buscar Imagens de Caractersticas",fetchLinks:"Buscar Links/Materiais",detailLevel:"Nvel de Detalhe",detailSimple:"Simplificado",detailBalanced:"Equilibrado",detailExpert:"Especialista / Alto",detailOriginal:"Fidelidade Original",noSaved:"Nenhum projeto salvo.",close:"Fechar",modeTopic:"Gerar por Tpico",modeImport:"Importar Arquivo",uploadLabel:"Upload PDF, Imagem ou Texto",uploadDesc:"A IA estudar o documento e extrair entidades e caractersticas automaticamente.",supportedFormats:"Suporta: .pdf, .txt, .jpg, .png",dropFile:"Solte o arquivo aqui",removeFile:"Remover arquivo",analyzing:"Analisando documento...",promptCopied:"Prompt copiado para a rea de transferncia!",configSettings:"Configurao",links:"Links Adicionais / Materiais",addLink:"Adicionar Link",editTraits:"Editar Caractersticas",traitEditor:"Editor de Caractersticas",copyPrompt:"Copiar",missingKey:"Falta a Chave da API. Configure-a nas Configuraes do menu principal."}},hT=({initialProject:t,onSave:e,onCancel:n,language:o,defaultModel:r,apiKey:i})=>{var ot;const l=mT[o],[u,d]=$.useState(t||{id:Math.random().toString(36).substr(2,9),name:o==="pt"?"Nova Chave":"New Key",description:"",features:[],entities:[]}),[c,f]=$.useState("GENERAL"),[m,h]=$.useState({topic:"",count:10,featureCount:5,geography:"",taxonomy:"",language:o,featureFocus:"general",includeSpeciesImages:!0,includeFeatureImages:!0,includeLinks:!0,model:r,detailLevel:2}),[y,C]=$.useState(!1),[T,I]=$.useState(!1),[x,v]=$.useState("TOPIC"),[g,E]=$.useState(null),[_,w]=$.useState([]),[N,R]=$.useState(!1),[M,A]=$.useState(!1),[G,q]=$.useState(null);$.useEffect(()=>{h(S=>({...S,language:o}))},[o]),$.useEffect(()=>{h(S=>({...S,model:r}))},[r]),$.useEffect(()=>{const S=localStorage.getItem("lucidgen_projects");if(S)try{w(JSON.parse(S))}catch{console.error("Failed to load local projects")}},[]);const Z=S=>d(P=>({...P,...S})),pe=()=>{const S=[u,..._.filter(P=>P.id!==u.id)];w(S),localStorage.setItem("lucidgen_projects",JSON.stringify(S)),alert(l.savedMsg)},ln=S=>{d(S),R(!1)},xe=()=>{const S="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(u)),P=document.createElement("a");P.setAttribute("href",S),P.setAttribute("download",`${u.name.replace(/\s+/g,"_")}.json`),document.body.appendChild(P),P.click(),P.remove()},ut=S=>{const P=new FileReader;S.target.files&&S.target.files[0]&&(P.readAsText(S.target.files[0],"UTF-8"),P.onload=V=>{var U;try{const H=JSON.parse((U=V.target)==null?void 0:U.result);H.name&&H.features&&H.entities?d(H):alert("Invalid project file format.")}catch{alert("Error parsing JSON file.")}})},L=S=>{S.target.files&&S.target.files[0]&&E(S.target.files[0])},z=S=>new Promise((P,V)=>{const U=new FileReader;U.onload=()=>{const Y=U.result.split(",")[1];P(Y)},U.onerror=H=>V(H),U.readAsDataURL(S)}),J=async()=>{if(!i){alert(l.missingKey);return}C(!0);try{let S={...m};if(x==="IMPORT"&&g){const V=await z(g);S.importedFile={data:V,mimeType:g.type},S.topic=`Imported: ${g.name}`}else if(x==="TOPIC"){if(!S.topic.trim())return;S.importedFile=void 0}const P=await fT(S,i,V=>{navigator.clipboard.writeText(V).then(()=>{console.log("Prompt copied")}).catch(U=>console.error("Could not copy prompt",U))});d(P),I(!1),f("MATRIX")}catch(S){console.error(S),alert(l.errGen)}finally{C(!1)}},oe=async()=>{try{let S={...m};if(x==="IMPORT"&&g){const H=await z(g);S.importedFile={data:H,mimeType:g.type},S.topic=`Imported: ${g.name}`}else if(x==="TOPIC"){if(!S.topic.trim()){alert("Please enter a topic first.");return}S.importedFile=void 0}const{systemInstruction:P,prompt:V}=Lp(S),U=`SYSTEM:
${P}

USER PROMPT:
${V}`;await navigator.clipboard.writeText(U),alert(l.promptCopied)}catch(S){console.error("Failed to copy prompt",S)}},ue=()=>{const S={id:Math.random().toString(36).substr(2,9),name:o==="pt"?"Nova Caracterstica":"New Feature",imageUrl:"",states:[{id:Math.random().toString(36).substr(2,9),label:o==="pt"?"Estado 1":"State 1"}]};d(P=>({...P,features:[...P.features,S]}))},an=()=>{const S={id:Math.random().toString(36).substr(2,9),name:o==="pt"?"Nova Entidade":"New Entity",description:"...",links:[],traits:{}};d(P=>({...P,entities:[...P.entities,S]}))},nt=(S,P,V)=>{d(U=>{const H=U.entities.map(Y=>{if(Y.id!==S)return Y;const We=Y.traits[P]||[],Up=We.includes(V);let hi;return Up?hi=We.filter(Vp=>Vp!==V):hi=[...We,V],{...Y,traits:{...Y.traits,[P]:hi}}});return{...U,entities:H}})},$n=S=>S===1?l.detailSimple:S===3?l.detailExpert:x==="IMPORT"?l.detailOriginal:l.detailBalanced;return p.jsxs("div",{className:"flex flex-col h-full bg-white font-sans absolute inset-0",children:[p.jsxs("div",{className:"border-b px-4 py-3 flex justify-between items-center bg-slate-900 text-white shadow-md z-30 shrink-0",children:[p.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[p.jsx("button",{onClick:()=>A(!M),className:"md:hidden text-slate-300 hover:text-white",children:p.jsx(Ag,{size:24})}),p.jsxs("h2",{className:"text-base md:text-xl font-bold flex items-center gap-2 truncate",children:[p.jsx("span",{className:"bg-emerald-500 text-[10px] md:text-xs text-white px-2 py-1 rounded uppercase tracking-wider shadow-sm hidden sm:inline-block",children:l.builder}),p.jsx("span",{className:"truncate max-w-[150px] md:max-w-[300px]",children:u.name})]}),p.jsx("div",{className:"h-6 w-px bg-slate-700 mx-2 hidden md:block"}),p.jsxs("div",{className:"hidden md:flex items-center gap-1 text-sm",children:[p.jsxs("button",{onClick:pe,className:"flex items-center gap-1.5 px-3 py-1.5 hover:bg-slate-700 rounded transition-colors text-slate-300 hover:text-white",title:l.save,children:[p.jsx(vr,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:l.save})]}),p.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-1.5 px-3 py-1.5 hover:bg-slate-700 rounded transition-colors text-slate-300 hover:text-white",title:l.open,children:[p.jsx(yo,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:l.open})]}),p.jsxs("button",{onClick:xe,className:"flex items-center gap-1.5 px-3 py-1.5 hover:bg-slate-700 rounded transition-colors text-slate-300 hover:text-white",title:l.export,children:[p.jsx(au,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:l.export})]})]})]}),p.jsxs("div",{className:"flex gap-2 md:gap-3",children:[p.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-2 px-3 py-1.5 md:px-4 md:py-2 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-400 hover:to-yellow-400 text-white rounded-lg transition-all shadow-lg shadow-amber-900/30 text-xs md:text-sm font-bold border border-amber-400/20 group",children:[p.jsx(go,{size:16,className:"text-white fill-white/20 group-hover:scale-110 transition-transform"})," ",p.jsx("span",{className:"hidden sm:inline",children:l.aiWizard}),p.jsx("span",{className:"sm:hidden",children:"IA"})]}),p.jsxs("button",{onClick:()=>e(u),className:"flex items-center gap-2 px-3 py-1.5 md:px-5 md:py-2 bg-emerald-600 hover:bg-emerald-500 rounded-lg transition-all text-xs md:text-sm font-semibold shadow-lg shadow-emerald-900/30 text-white",children:[p.jsx(vr,{size:16})," ",p.jsx("span",{className:"hidden sm:inline",children:l.savePlay})]}),p.jsxs("button",{onClick:n,className:"px-2 py-1.5 md:px-4 md:py-2 text-slate-400 hover:text-white transition-colors text-xs md:text-sm font-medium",children:[p.jsx(mt,{size:20,className:"md:hidden"})," ",p.jsx("span",{className:"hidden md:inline",children:l.exit})]})]})]}),M&&p.jsxs("div",{className:"md:hidden bg-slate-800 text-slate-200 border-b border-slate-700 p-2 grid grid-cols-4 gap-2 text-xs font-medium z-20",children:[p.jsxs("button",{onClick:()=>{pe(),A(!1)},className:"flex flex-col items-center gap-1 p-2 hover:bg-slate-700 rounded",children:[p.jsx(vr,{size:18})," ",l.save]}),p.jsxs("button",{onClick:()=>{R(!0),A(!1)},className:"flex flex-col items-center gap-1 p-2 hover:bg-slate-700 rounded",children:[p.jsx(yo,{size:18})," ",l.open]}),p.jsxs("button",{onClick:()=>{xe(),A(!1)},className:"flex flex-col items-center gap-1 p-2 hover:bg-slate-700 rounded",children:[p.jsx(au,{size:18})," ",l.export]}),p.jsxs("label",{className:"flex flex-col items-center gap-1 p-2 hover:bg-slate-700 rounded cursor-pointer",children:[p.jsx(qs,{size:18})," ",l.import,p.jsx("input",{type:"file",accept:".json",onChange:ut,className:"hidden"})]})]}),p.jsx("div",{className:"flex border-b bg-white overflow-x-auto whitespace-nowrap shrink-0",children:[{id:"GENERAL",label:l.general,icon:gg},{id:"FEATURES",label:l.features,icon:Ig},{id:"ENTITIES",label:l.entities,icon:op},{id:"MATRIX",label:l.matrix,icon:Bi}].map(S=>p.jsxs("button",{onClick:()=>f(S.id),className:`flex items-center gap-2 px-4 py-3 md:py-4 text-xs md:text-sm font-medium transition-all border-b-2 relative top-[2px] min-w-fit ${c===S.id?"border-emerald-600 text-emerald-600 bg-emerald-50/50 rounded-t-lg":"border-transparent text-slate-500 hover:text-slate-800 hover:bg-slate-50/50"}`,children:[p.jsx(S.icon,{size:16})," ",S.label]},S.id))}),p.jsx("div",{className:"flex-1 overflow-auto bg-slate-50 p-4 md:p-6 pb-20 md:pb-6",children:p.jsxs("div",{className:`mx-auto bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden ${c==="MATRIX"?"max-w-none":"max-w-6xl"}`,children:[c==="GENERAL"&&p.jsx("div",{className:"p-6 md:p-8 space-y-8 max-w-2xl",children:p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4 border-b pb-2",children:l.general}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wide mb-1",children:l.projectName}),p.jsx("input",{value:u.name,onChange:S=>Z({name:S.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 outline-none transition-all font-medium text-slate-800"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wide mb-1",children:l.description}),p.jsx("textarea",{value:u.description,onChange:S=>Z({description:S.target.value}),className:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 outline-none transition-all h-32 text-slate-700"})]})]})]})}),c==="FEATURES"&&p.jsxs("div",{className:"p-4 md:p-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:l.definedFeatures}),p.jsx("p",{className:"text-xs md:text-sm text-slate-500",children:l.definedFeaturesDesc})]}),p.jsxs("button",{onClick:ue,className:"flex items-center gap-2 text-sm bg-slate-900 text-white px-4 py-2 rounded-lg hover:bg-slate-700 shadow-md transition-all",children:[p.jsx(ir,{size:16})," ",p.jsx("span",{className:"hidden sm:inline",children:l.addFeature})]})]}),p.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:u.features.map((S,P)=>p.jsxs("div",{className:"border border-slate-200 rounded-xl p-5 bg-white relative group hover:border-emerald-300 hover:shadow-md transition-all",children:[p.jsx("button",{className:"absolute top-3 right-3 text-slate-300 hover:text-red-500 md:opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",onClick:()=>{const V=u.features.filter(U=>U.id!==S.id);d(U=>({...U,features:V}))},children:p.jsx(Ji,{size:16})}),p.jsxs("div",{className:"mb-4 space-y-2",children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:l.featureName}),p.jsx("input",{value:S.name,onChange:V=>{const U=[...u.features];U[P].name=V.target.value,d(H=>({...H,features:U}))},className:"font-bold text-lg text-slate-800 bg-transparent border-b border-transparent hover:border-slate-300 focus:border-emerald-500 outline-none w-full pb-1"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(vo,{size:14,className:"text-slate-400"}),p.jsx("input",{value:S.imageUrl||"",onChange:V=>{const U=[...u.features];U[P].imageUrl=V.target.value,d(H=>({...H,features:U}))},className:"text-xs flex-1 bg-slate-50 border border-slate-200 rounded px-2 py-1 outline-none focus:border-emerald-400",placeholder:l.imageURL})]})]}),p.jsxs("div",{className:"space-y-2 pl-3 border-l-2 border-slate-100",children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider block mb-1",children:l.states}),S.states.map((V,U)=>p.jsxs("div",{className:"flex items-center gap-2 group/state",children:[p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300 group-focus-within/state:bg-emerald-400"}),p.jsx("input",{value:V.label,onChange:H=>{const Y=[...u.features];Y[P].states[U].label=H.target.value,d(We=>({...We,features:Y}))},className:"text-sm bg-transparent outline-none w-full text-slate-600 focus:text-slate-900 focus:font-medium"}),p.jsx("button",{onClick:()=>{const H=[...u.features];H[P].states=H[P].states.filter(Y=>Y.id!==V.id),d(Y=>({...Y,features:H}))},className:"text-slate-300 hover:text-red-400 md:opacity-0 group-hover/state:opacity-100 transition-opacity",children:p.jsx(mt,{size:12})})]},V.id)),p.jsxs("button",{onClick:()=>{const V=[...u.features];V[P].states.push({id:Math.random().toString(36).substr(2,9),label:"..."}),d(U=>({...U,features:V}))},className:"text-xs text-emerald-600 hover:text-emerald-700 font-medium mt-3 flex items-center gap-1 bg-emerald-50 w-fit px-2 py-1 rounded",children:[p.jsx(ir,{size:10})," ",l.addState]})]})]},S.id))})]}),c==="ENTITIES"&&p.jsxs("div",{className:"p-4 md:p-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:l.manageEntities}),p.jsx("p",{className:"text-xs md:text-sm text-slate-500",children:l.manageEntitiesDesc})]}),p.jsxs("button",{onClick:an,className:"flex items-center gap-2 text-sm bg-slate-900 text-white px-4 py-2 rounded-lg hover:bg-slate-700 shadow-md transition-all",children:[p.jsx(ir,{size:16})," ",p.jsx("span",{className:"hidden sm:inline",children:l.addEntity})]})]}),p.jsx("div",{className:"space-y-4",children:u.entities.map((S,P)=>p.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 items-start border border-slate-200 p-4 md:p-6 rounded-xl bg-white hover:shadow-md transition-shadow",children:[p.jsxs("div",{className:"w-full sm:w-48 space-y-2 flex-shrink-0",children:[p.jsx("div",{className:"aspect-[4/3] bg-slate-100 rounded-lg overflow-hidden border border-slate-200",children:S.imageUrl?p.jsx("img",{src:S.imageUrl,className:"w-full h-full object-cover",alt:"preview"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:p.jsx(vo,{size:32})})}),p.jsx("input",{value:S.imageUrl||"",onChange:V=>{const U=[...u.entities];U[P].imageUrl=V.target.value,d(H=>({...H,entities:U}))},className:"text-xs w-full px-2 py-1.5 bg-slate-50 border border-slate-200 rounded outline-none focus:border-emerald-500 text-slate-600",placeholder:l.imageURL}),p.jsxs("button",{onClick:()=>q(S.id),className:"w-full flex items-center justify-center gap-2 text-xs bg-slate-100 hover:bg-slate-200 text-slate-700 py-3 md:py-2 rounded-lg font-medium transition-colors border border-slate-200",children:[p.jsx(fu,{size:12})," ",l.editTraits]})]}),p.jsxs("div",{className:"flex-1 space-y-4 w-full",children:[p.jsxs("div",{className:"flex justify-between items-start gap-2",children:[p.jsx("input",{value:S.name,onChange:V=>{const U=[...u.entities];U[P].name=V.target.value,d(H=>({...H,entities:U}))},className:"text-xl font-bold bg-transparent border-b border-transparent hover:border-slate-300 focus:border-emerald-500 outline-none w-full pb-1 text-slate-800"}),p.jsx("button",{onClick:()=>{const V=u.entities.filter(U=>U.id!==S.id);d(U=>({...U,entities:V}))},className:"text-slate-300 hover:text-red-500 p-2 hover:bg-red-50 rounded transition-colors",children:p.jsx(Ji,{size:18})})]}),p.jsx("textarea",{value:S.description,onChange:V=>{const U=[...u.entities];U[P].description=V.target.value,d(H=>({...H,entities:U}))},className:"text-sm text-slate-600 bg-slate-50 border border-transparent focus:bg-white focus:border-emerald-500 w-full h-24 outline-none resize-none rounded-lg p-3 transition-colors"}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100",children:[p.jsxs("h5",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[p.jsx(Gs,{size:12})," ",l.links]}),p.jsxs("div",{className:"space-y-2",children:[(S.links||[]).map((V,U)=>p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{placeholder:"Label",value:V.label,onChange:H=>{const Y=[...u.entities];Y[P].links||(Y[P].links=[]),Y[P].links[U].label=H.target.value,d(We=>({...We,entities:Y}))},className:"text-xs flex-1 px-2 py-1 border border-slate-200 rounded outline-none focus:border-emerald-400"}),p.jsx("input",{placeholder:"URL",value:V.url,onChange:H=>{const Y=[...u.entities];Y[P].links||(Y[P].links=[]),Y[P].links[U].url=H.target.value,d(We=>({...We,entities:Y}))},className:"text-xs flex-[2] px-2 py-1 border border-slate-200 rounded outline-none focus:border-emerald-400"}),p.jsx("button",{onClick:()=>{const H=[...u.entities];H[P].links||(H[P].links=[]),H[P].links=H[P].links.filter((Y,We)=>We!==U),d(Y=>({...Y,entities:H}))},className:"text-slate-400 hover:text-red-500",children:p.jsx(mt,{size:14})})]},V.id||U)),p.jsxs("button",{onClick:()=>{const V=[...u.entities];V[P].links||(V[P].links=[]),V[P].links.push({id:Math.random().toString(36).substr(2,9),label:"",url:""}),d(U=>({...U,entities:V}))},className:"text-xs flex items-center gap-1 text-emerald-600 hover:text-emerald-700 font-medium",children:[p.jsx(ir,{size:12})," ",l.addLink]})]})]})]})]},S.id))})]}),c==="MATRIX"&&p.jsxs("div",{className:"flex flex-col h-full bg-slate-50 min-h-[500px]",children:[p.jsxs("div",{className:"p-4 border-b bg-white flex justify-between items-center",children:[p.jsx("h3",{className:"font-semibold text-slate-700",children:l.scoringMatrix}),p.jsx("span",{className:"text-xs text-slate-400 hidden sm:inline",children:l.scoringMatrixDesc})]}),p.jsx("div",{className:"overflow-auto custom-scrollbar flex-1 relative bg-slate-200/50",children:p.jsx("div",{className:"inline-block min-w-full align-top",children:p.jsxs("div",{className:"grid",style:{gridTemplateColumns:`minmax(150px, 250px) repeat(${u.features.reduce((S,P)=>S+P.states.length,0)}, minmax(50px, 1fr))`},children:[p.jsx("div",{className:"sticky top-0 left-0 z-30 bg-slate-800 text-white p-2 md:p-4 font-bold border-r border-slate-700 shadow-md flex items-end text-xs md:text-sm",children:l.taxaFeatures}),u.features.map(S=>p.jsxs("div",{className:"sticky top-0 z-20 bg-slate-800 text-white border-r border-slate-700 shadow-md text-center",style:{gridColumn:`span ${S.states.length}`},children:[p.jsx("div",{className:"p-1 md:p-2 border-b border-slate-600 font-semibold truncate text-[10px] md:text-sm bg-slate-900/50",children:S.name}),p.jsx("div",{className:"flex",children:S.states.map(P=>p.jsx("div",{className:"flex-1 p-1 md:p-2 text-[10px] md:text-xs text-slate-300 border-r border-slate-700 last:border-0 h-full flex items-center justify-center min-w-[50px] break-words",children:P.label},P.id))})]},S.id)),u.entities.map((S,P)=>p.jsxs(Zd.Fragment,{children:[p.jsxs("div",{className:`sticky left-0 z-10 bg-white p-2 md:p-3 border-r border-b border-slate-200 flex items-center gap-2 md:gap-3 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)] hover:bg-slate-50 group ${P%2===0?"bg-white":"bg-slate-50/50"}`,children:[p.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded bg-slate-200 overflow-hidden flex-shrink-0",children:S.imageUrl&&p.jsx("img",{src:S.imageUrl,className:"w-full h-full object-cover"})}),p.jsx("span",{className:"font-medium text-slate-700 text-xs md:text-sm group-hover:text-emerald-600 transition-colors truncate",children:S.name})]}),u.features.map(V=>V.states.map(U=>{var Y;const H=(Y=S.traits[V.id])==null?void 0:Y.includes(U.id);return p.jsx("div",{className:`border-b border-r border-slate-100 flex items-center justify-center p-2 hover:bg-emerald-50 transition-colors ${P%2===0?"bg-white":"bg-slate-50/50"}`,children:p.jsx("button",{onClick:()=>nt(S.id,V.id,U.id),className:`w-8 h-8 md:w-8 md:h-8 rounded-md flex items-center justify-center transition-all duration-200 transform active:scale-95 touch-manipulation ${H?"bg-emerald-600 text-white shadow-sm":"bg-slate-100 text-slate-300 hover:bg-slate-200"}`,children:H&&p.jsx(Bi,{size:16,strokeWidth:3})})},`${S.id}-${U.id}`)}))]},S.id))]})})})]})]})}),G&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full flex flex-col max-h-[90vh] animate-in fade-in zoom-in-95 overflow-hidden",children:[p.jsxs("div",{className:"bg-slate-50 p-4 border-b flex justify-between items-center",children:[p.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2 truncate",children:[p.jsx(fu,{size:18,className:"text-emerald-600"}),p.jsxs("span",{className:"truncate",children:[l.traitEditor,": ",p.jsx("span",{className:"text-emerald-600",children:(ot=u.entities.find(S=>S.id===G))==null?void 0:ot.name})]})]}),p.jsx("button",{onClick:()=>q(null),className:"text-slate-400 hover:text-slate-600 p-1",children:p.jsx(mt,{size:20})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6 custom-scrollbar",children:[u.features.map(S=>p.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4",children:[p.jsxs("h4",{className:"font-bold text-slate-700 mb-3 flex items-center gap-2",children:[S.name,S.imageUrl&&p.jsx("a",{href:S.imageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-emerald-500",children:p.jsx(Bl,{size:12})})]}),p.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:S.states.map(P=>{var U,H;const V=(H=(U=u.entities.find(Y=>Y.id===G))==null?void 0:U.traits[S.id])==null?void 0:H.includes(P.id);return p.jsxs("button",{onClick:()=>nt(G,S.id,P.id),className:`text-sm px-3 py-3 md:py-2 rounded-lg border text-left flex items-center justify-between transition-all touch-manipulation active:scale-[0.98] ${V?"bg-emerald-600 text-white border-emerald-600 shadow-sm":"bg-white text-slate-600 border-slate-200 hover:border-emerald-300 hover:text-emerald-600"}`,children:[p.jsx("span",{className:"truncate mr-2 text-xs md:text-sm",children:P.label}),V&&p.jsx(Bi,{size:14})]},P.id)})})]},S.id)),u.features.length===0&&p.jsx("div",{className:"text-center text-slate-400 py-10",children:"Nenhuma caracterstica definida no projeto."})]}),p.jsx("div",{className:"p-4 border-t bg-slate-50 shrink-0",children:p.jsx("button",{onClick:()=>q(null),className:"w-full py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-500 shadow-lg shadow-emerald-900/10",children:l.close})})]})}),T&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden animate-in fade-in zoom-in-95 duration-200 border border-slate-200 max-h-[90vh] flex flex-col",children:[p.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-yellow-500 p-4 md:p-6 text-white shrink-0",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:p.jsx(go,{size:24,className:"text-white"})}),p.jsx("h3",{className:"text-xl md:text-2xl font-bold",children:l.aiTitle})]}),p.jsx("p",{className:"text-amber-50 text-xs md:text-sm font-medium drop-shadow-sm",children:l.aiDesc})]}),p.jsxs("div",{className:"flex border-b border-slate-200 bg-slate-50 shrink-0",children:[p.jsx("button",{onClick:()=>v("TOPIC"),className:`flex-1 py-3 text-sm font-bold transition-colors border-b-2 ${x==="TOPIC"?"border-amber-500 text-amber-600 bg-white":"border-transparent text-slate-500 hover:bg-slate-100"}`,children:p.jsxs("span",{className:"flex items-center justify-center gap-2",children:[p.jsx(gu,{size:16})," ",l.modeTopic]})}),p.jsx("button",{onClick:()=>v("IMPORT"),className:`flex-1 py-3 text-sm font-bold transition-colors border-b-2 ${x==="IMPORT"?"border-amber-500 text-amber-600 bg-white":"border-transparent text-slate-500 hover:bg-slate-100"}`,children:p.jsxs("span",{className:"flex items-center justify-center gap-2",children:[p.jsx(Cg,{size:16})," ",l.modeImport]})})]}),p.jsxs("div",{className:"p-4 md:p-6 space-y-5 overflow-y-auto custom-scrollbar flex-1 bg-white",children:[x==="TOPIC"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-1.5",children:l.topic}),p.jsx("input",{value:m.topic,onChange:S=>h(P=>({...P,topic:S.target.value})),placeholder:l.topicPlace,className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-amber-500 outline-none text-base md:text-lg",disabled:y})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1.5",children:l.geography}),p.jsx("input",{value:m.geography,onChange:S=>h(P=>({...P,geography:S.target.value})),placeholder:"e.g. Amazon",className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none text-sm",disabled:y})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1.5",children:l.taxonomy}),p.jsx("input",{value:m.taxonomy,onChange:S=>h(P=>({...P,taxonomy:S.target.value})),placeholder:"e.g. Felidae",className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none text-sm",disabled:y})]})]})]}):p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("div",{className:"text-center space-y-2 mb-2",children:[p.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:l.uploadLabel}),p.jsx("p",{className:"text-slate-500 text-sm",children:l.uploadDesc})]}),p.jsx("div",{className:`border-2 border-dashed rounded-xl p-6 flex flex-col items-center justify-center transition-all bg-slate-50 ${g?"border-amber-500 bg-amber-50/30":"border-slate-300 hover:border-amber-400"}`,children:g?p.jsxs("div",{className:"flex flex-col items-center gap-3",children:[p.jsx(Tg,{size:48,className:"text-amber-600"}),p.jsx("span",{className:"font-bold text-slate-800 text-sm text-center break-all",children:g.name}),p.jsxs("span",{className:"text-xs text-slate-400",children:[(g.size/1024).toFixed(1)," KB"]}),p.jsxs("button",{onClick:()=>E(null),className:"mt-2 text-red-500 text-xs font-bold hover:underline flex items-center gap-1 p-2",children:[p.jsx(Ji,{size:12})," ",l.removeFile]})]}):p.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-3 w-full h-full",children:[p.jsx("div",{className:"p-4 bg-white rounded-full shadow-sm",children:p.jsx(qs,{size:24,className:"text-amber-500"})}),p.jsx("span",{className:"font-bold text-slate-600",children:l.dropFile}),p.jsx("span",{className:"text-xs text-slate-400",children:l.supportedFormats}),p.jsx("input",{type:"file",className:"hidden",accept:".pdf,.txt,.jpg,.jpeg,.png",onChange:L})]})})]}),p.jsxs("div",{className:"pt-4 border-t border-slate-100 space-y-5",children:[p.jsxs("h5",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[p.jsx(mu,{size:12})," ",l.configSettings]}),p.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-1",children:[p.jsx(kg,{size:14})," ",l.detailLevel]}),p.jsx("span",{className:"text-xs font-bold text-amber-600 bg-amber-100 px-2 py-1 rounded",children:$n(m.detailLevel)})]}),p.jsx("input",{type:"range",min:"1",max:"3",step:"1",value:m.detailLevel,onChange:S=>h(P=>({...P,detailLevel:parseInt(S.target.value)})),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-amber-500 mb-2",disabled:y}),p.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 font-medium uppercase tracking-wide",children:[p.jsxs("span",{className:`flex flex-col items-center gap-1 ${m.detailLevel===1?"text-amber-600":""}`,children:[p.jsx(mg,{size:16})," Simple"]}),p.jsxs("span",{className:`flex flex-col items-center gap-1 ${m.detailLevel===2?"text-amber-600":""}`,children:[p.jsx(go,{size:16})," Bal."]}),p.jsxs("span",{className:`flex flex-col items-center gap-1 ${m.detailLevel===3?"text-amber-600":""}`,children:[p.jsx(_g,{size:16})," Expert"]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2",children:l.featureFocus}),p.jsx("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:["general","reproductive","vegetative"].map(S=>p.jsx("button",{onClick:()=>h(P=>({...P,featureFocus:S})),className:`flex-1 py-2 rounded-md text-[10px] md:text-xs font-medium transition-all ${m.featureFocus===S?"bg-white text-amber-600 shadow-sm":"text-slate-500 hover:text-slate-800"}`,disabled:y,children:S==="general"?l.focusGeneral:S==="reproductive"?l.focusRepro:l.focusVeg},S))})]}),x==="TOPIC"&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase",children:l.numEntities}),p.jsx("span",{className:"text-xs font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded",children:m.count})]}),p.jsx("input",{type:"range",min:"3",max:"30",step:"1",value:m.count,onChange:S=>h(P=>({...P,count:parseInt(S.target.value)})),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-amber-500",disabled:y})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase",children:l.numFeatures}),p.jsx("span",{className:"text-xs font-bold text-amber-600 bg-amber-50 px-2 py-0.5 rounded",children:m.featureCount})]}),p.jsx("input",{type:"range",min:"2",max:"10",step:"1",value:m.featureCount,onChange:S=>h(P=>({...P,featureCount:parseInt(S.target.value)})),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-amber-500",disabled:y})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(vo,{size:16,className:"text-slate-400 group-hover:text-amber-500 transition-colors"}),p.jsx("span",{className:"text-sm font-medium text-slate-700",children:l.fetchSpeciesImg})]}),p.jsx("div",{className:`w-11 h-6 flex items-center rounded-full p-1 transition-colors ${m.includeSpeciesImages?"bg-amber-500":"bg-slate-300"}`,children:p.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform ${m.includeSpeciesImages?"translate-x-5":""}`})}),p.jsx("input",{type:"checkbox",className:"hidden",checked:m.includeSpeciesImages,onChange:S=>h(P=>({...P,includeSpeciesImages:S.target.checked})),disabled:y})]}),p.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(mu,{size:16,className:"text-slate-400 group-hover:text-amber-500 transition-colors"}),p.jsx("span",{className:"text-sm font-medium text-slate-700",children:l.fetchFeatureImg})]}),p.jsx("div",{className:`w-11 h-6 flex items-center rounded-full p-1 transition-colors ${m.includeFeatureImages?"bg-amber-500":"bg-slate-300"}`,children:p.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform ${m.includeFeatureImages?"translate-x-5":""}`})}),p.jsx("input",{type:"checkbox",className:"hidden",checked:m.includeFeatureImages,onChange:S=>h(P=>({...P,includeFeatureImages:S.target.checked})),disabled:y})]}),p.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Gs,{size:16,className:"text-slate-400 group-hover:text-amber-500 transition-colors"}),p.jsx("span",{className:"text-sm font-medium text-slate-700",children:l.fetchLinks})]}),p.jsx("div",{className:`w-11 h-6 flex items-center rounded-full p-1 transition-colors ${m.includeLinks?"bg-amber-500":"bg-slate-300"}`,children:p.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-md transform transition-transform ${m.includeLinks?"translate-x-5":""}`})}),p.jsx("input",{type:"checkbox",className:"hidden",checked:m.includeLinks,onChange:S=>h(P=>({...P,includeLinks:S.target.checked})),disabled:y})]})]})]}),y&&p.jsxs("div",{className:"bg-amber-50 text-amber-700 p-3 rounded-lg text-sm flex items-center justify-center gap-2",children:[p.jsx(Ng,{className:"animate-spin",size:16})," ",x==="IMPORT"?l.analyzing:l.generating]})]}),p.jsxs("div",{className:"p-4 bg-slate-50 border-t flex gap-3 shrink-0 safe-area-bottom",children:[p.jsx("button",{onClick:()=>I(!1),className:"flex-none w-16 md:w-20 py-2.5 text-slate-600 font-medium hover:bg-slate-200 rounded-xl transition-colors text-center text-xs md:text-sm",disabled:y,children:l.cancel}),p.jsxs("button",{onClick:oe,className:"w-auto px-3 py-2 text-xs bg-white border border-slate-300 text-slate-700 font-bold rounded-xl hover:bg-slate-50 hover:border-amber-400 hover:text-amber-600 shadow-sm transition-all flex items-center justify-center gap-2",disabled:y||x==="TOPIC"&&!m.topic||x==="IMPORT"&&!g,title:"Copy prompt without generating",children:[p.jsx(Eg,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:l.copyPrompt})]}),p.jsxs("button",{onClick:J,className:"flex-1 py-2.5 bg-amber-500 text-white font-bold rounded-xl hover:bg-amber-600 shadow-lg shadow-amber-900/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 text-sm",disabled:y||x==="TOPIC"&&!m.topic||x==="IMPORT"&&!g,children:[l.generate," ",p.jsx(gu,{size:16,className:"opacity-70"})]})]})]})}),N&&p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in-95",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[p.jsx(yo,{className:"text-emerald-600",size:20}),l.open]}),p.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto mb-4 custom-scrollbar",children:_.length===0?p.jsx("p",{className:"text-slate-500 text-sm text-center py-8 border-2 border-dashed border-slate-200 rounded-lg",children:l.noSaved}):_.map(S=>p.jsxs("button",{onClick:()=>ln(S),className:"w-full text-left p-3 hover:bg-emerald-50 rounded-lg border border-slate-100 hover:border-emerald-200 group transition-all",children:[p.jsx("div",{className:"font-medium text-slate-800 group-hover:text-emerald-700",children:S.name}),p.jsx("div",{className:"text-xs text-slate-400 truncate",children:S.description||"No description"})]},S.id))}),p.jsx("button",{onClick:()=>R(!1),className:"w-full py-2.5 bg-slate-100 text-slate-600 rounded-xl font-medium hover:bg-slate-200 transition-colors",children:l.close})]})})]})},gT=()=>{const[t,e]=$.useState("HOME"),[n,o]=$.useState(null),[r,i]=$.useState("pt"),[l,u]=$.useState([]),[d,c]=$.useState(!1),[f,m]=$.useState(!1),[h,y]=$.useState(!1),[C,T]=$.useState("gemini-2.5-flash"),[I,x]=$.useState("");$.useEffect(()=>{const A=localStorage.getItem("lucidgen_projects");if(A)try{u(JSON.parse(A))}catch{console.error("Failed to load local projects")}const G=localStorage.getItem("lucidgen_settings");if(G)try{const q=JSON.parse(G);q.model&&T(q.model),q.apiKey&&x(q.apiKey)}catch{console.error("Failed to load settings")}},[]);const v=()=>{const A=C.trim(),G=I.trim();localStorage.setItem("lucidgen_settings",JSON.stringify({model:A,apiKey:G})),m(!1)},g={id:"demo-1",name:"Exemplo: Grandes Felinos",description:"Identifique espcies comuns de grandes felinos.",features:[{id:"f1",name:"Padro da Pelagem",states:[{id:"s1",label:"Listras"},{id:"s2",label:"Manchas"},{id:"s3",label:"Liso"}]},{id:"f2",name:"Habitat",states:[{id:"s4",label:"Selva"},{id:"s5",label:"Savana"}]}],entities:[{id:"e1",name:"Tigre",description:"O maior dos felinos.",imageUrl:"https://picsum.photos/id/237/400/300",links:[],traits:{f1:["s1"],f2:["s4"]}},{id:"e2",name:"Leo",description:"O rei da selva.",imageUrl:"https://picsum.photos/id/1003/400/300",links:[],traits:{f1:["s3"],f2:["s5"]}},{id:"e3",name:"Leopardo",description:"Escalador especialista.",imageUrl:"https://picsum.photos/id/1074/400/300",links:[],traits:{f1:["s2"],f2:["s4","s5"]}}]},E={en:{subtitle:"v2.1 Tropical",tagline:"Biological Identification AI",desc:"Create and share professional matrix identification keys. Powered by Gemini AI for instant taxonomy generation.",createNew:"Create / Edit Key",openSaved:"Open Saved",importJson:"Import JSON",demo:"Try Demo",savedProj:"Saved Projects",close:"Close",noSaved:"No saved projects found.",invalid:"Invalid project file.",settings:"Settings",aiModel:"AI Model",apiKey:"Gemini API Key",getKey:"Get Key",save:"Save",apiKeyNotice:"Your API Key is stored locally in your browser and used only to communicate with Google.",help:"About & Help",helpContent:{intro:"NOZES is an intelligent platform for creating and using matrix identification keys, designed for biologists, students, and nature enthusiasts.",step1Title:"1. Nozes AI Wizard",step1Desc:"Use the 'Nuts AI' button in the builder to automatically generate a key. Just describe a topic (e.g., 'Brazilian Cerrado Trees'), and the AI will create species, features, and the scoring matrix for you.",step2Title:"2. The Builder",step2Desc:"Refine your key manually. You can add new features, upload images for species, and adjust the matrix relationships between taxa and traits.",step3Title:"3. The Player",step3Desc:"This is the end-user view. Select observed features to filter down the list of species until you identify your specimen."}},pt:{subtitle:"v2.1 Tropical",tagline:"Inteligncia para Identificao Biolgica",desc:"Crie e compartilhe chaves de identificao matriciais profissionais. Poder da Gemini AI para gerao instantnea de taxonomia.",createNew:"Criar / Editar Chave",openSaved:"Abrir Salva",importJson:"Importar JSON",demo:"Ver Demo",savedProj:"Projetos Salvos",close:"Fechar",noSaved:"Nenhum projeto salvo.",invalid:"Arquivo invlido.",settings:"Configuraes",aiModel:"Modelo IA",apiKey:"Chave API Gemini",getKey:"Obter Chave",save:"Salvar",apiKeyNotice:"Sua API Key  salva localmente no navegador e usada apenas para comunicar com o Google.",help:"Sobre e Ajuda",helpContent:{intro:"O NOZES  uma plataforma inteligente para criao e uso de chaves de identificao matriciais, projetada para bilogos, estudantes e entusiastas da natureza.",step1Title:"1. Assistente Nozes IA",step1Desc:"Use o boto 'Nozes IA' no construtor para gerar uma chave automaticamente. Basta descrever um tpico (ex: 'rvores do Cerrado'), e a IA criar espcies, caractersticas e a matriz de pontuao para voc.",step2Title:"2. O Construtor",step2Desc:"Refine sua chave manualmente. Voc pode adicionar novas caractersticas, inserir imagens para as espcies e ajustar a matriz de relao entre txons e atributos.",step3Title:"3. O Player",step3Desc:"Esta  a viso do usurio final. Selecione as caractersticas observadas para filtrar a lista de espcies at identificar seu espcime."}}}[r],_=()=>{e("BUILDER")},w=()=>{o(g),e("PLAYER")},N=A=>{const G=localStorage.getItem("lucidgen_projects");let q=[];if(G)try{q=JSON.parse(G)}catch(pe){console.error("Failed to parse projects",pe)}const Z=[A,...q.filter(pe=>pe.id!==A.id)];localStorage.setItem("lucidgen_projects",JSON.stringify(Z)),u(Z),o(A),e("PLAYER")},R=A=>{o(A),e("PLAYER"),c(!1)},M=A=>{const G=new FileReader;A.target.files&&A.target.files[0]&&(G.readAsText(A.target.files[0],"UTF-8"),G.onload=q=>{var Z;try{const pe=JSON.parse((Z=q.target)==null?void 0:Z.result);pe.name&&pe.features&&pe.entities?(o(pe),e("PLAYER")):alert(E.invalid)}catch{alert(E.invalid)}})};return t==="PLAYER"&&n?p.jsx(Lg,{project:n,onBack:()=>e("HOME"),language:r}):t==="BUILDER"?p.jsx(hT,{initialProject:n,onSave:N,onCancel:()=>e("HOME"),language:r,defaultModel:C,apiKey:I}):p.jsxs("div",{className:"min-h-screen bg-[#0f2e24] flex items-center justify-center p-4 md:p-6 relative overflow-hidden font-sans",children:[p.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden pointer-events-none",children:[p.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[400px] md:w-[600px] h-[400px] md:h-[600px] bg-emerald-600/20 rounded-full blur-[80px] md:blur-[120px]"}),p.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[300px] md:w-[500px] h-[300px] md:h-[500px] bg-teal-500/20 rounded-full blur-[80px] md:blur-[100px]"}),p.jsx(cu,{className:"absolute top-[10%] right-[15%] text-emerald-800/20 w-20 h-20 md:w-32 md:h-32 rotate-12"}),p.jsx(Pg,{className:"absolute bottom-[20%] left-[10%] text-emerald-800/20 w-32 h-32 md:w-48 md:h-48 -rotate-12"})]}),p.jsxs("div",{className:"max-w-6xl w-full grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 items-center z-10",children:[p.jsxs("div",{className:"text-white space-y-6 md:space-y-8",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("div",{className:"inline-flex items-center gap-2 bg-emerald-900/50 text-emerald-300 px-3 py-1 rounded-full text-[10px] md:text-xs font-semibold tracking-wider uppercase border border-emerald-500/30 backdrop-blur-sm",children:E.subtitle}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"flex bg-emerald-900/50 rounded-lg p-1 border border-emerald-500/30 backdrop-blur-sm",children:[p.jsx("button",{onClick:()=>i("pt"),className:`px-3 py-1 rounded text-xs font-bold transition-colors ${r==="pt"?"bg-emerald-500 text-white":"text-emerald-400 hover:text-white"}`,children:"PT"}),p.jsx("button",{onClick:()=>i("en"),className:`px-3 py-1 rounded text-xs font-bold transition-colors ${r==="en"?"bg-emerald-500 text-white":"text-emerald-400 hover:text-white"}`,children:"EN"})]}),p.jsx("button",{onClick:()=>y(!0),className:"bg-emerald-900/50 rounded-lg p-1.5 border border-emerald-500/30 backdrop-blur-sm text-emerald-400 hover:text-white hover:bg-emerald-800/50 transition-colors",title:E.help,children:p.jsx(xg,{size:20})}),p.jsx("button",{onClick:()=>m(!0),className:`bg-emerald-900/50 rounded-lg p-1.5 border backdrop-blur-sm transition-colors ${I?"border-emerald-500/30 text-emerald-400 hover:text-white hover:bg-emerald-800/50":"border-amber-500 text-amber-500 animate-pulse"}`,title:E.settings,children:p.jsx(hu,{size:20})})]})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-2",children:[p.jsx("div",{className:"bg-amber-800/20 p-2 md:p-3 rounded-2xl border-2 border-amber-600/30 backdrop-blur-md shadow-[0_0_30px_rgba(217,119,6,0.2)]",children:p.jsx(go,{className:"text-amber-500 w-12 h-12 md:w-20 md:h-20",strokeWidth:1.5})}),p.jsx("h1",{className:"text-5xl md:text-7xl font-black tracking-tight leading-none text-transparent bg-clip-text bg-gradient-to-br from-amber-300 via-amber-500 to-orange-400 drop-shadow-sm",children:"NOZES"})]}),p.jsx("h2",{className:"text-lg md:text-2xl text-emerald-100/80 font-light pl-2",children:E.tagline})]}),p.jsx("p",{className:"text-slate-300 text-base md:text-lg leading-relaxed max-w-lg border-l-4 border-amber-500/50 pl-4 md:pl-6",children:E.desc}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4 pt-2",children:[p.jsxs("button",{onClick:_,className:"col-span-1 sm:col-span-2 flex items-center justify-center gap-3 px-8 py-4 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white rounded-xl font-bold transition-all shadow-xl shadow-emerald-900/50 hover:scale-[1.02] text-lg border-t border-emerald-400/20 active:scale-95",children:[p.jsx(du,{className:"w-5 h-5"}),E.createNew]}),p.jsxs("button",{onClick:()=>c(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-emerald-900/40 hover:bg-emerald-800/40 text-emerald-100 rounded-xl font-medium transition-all border border-emerald-500/20 hover:border-emerald-500/50 backdrop-blur-sm active:scale-95",children:[p.jsx(yo,{className:"w-4 h-4"}),E.openSaved]}),p.jsxs("label",{className:"flex items-center justify-center gap-2 px-6 py-3 bg-emerald-900/40 hover:bg-emerald-800/40 text-emerald-100 rounded-xl font-medium transition-all border border-emerald-500/20 hover:border-emerald-500/50 backdrop-blur-sm cursor-pointer active:scale-95",children:[p.jsx(qs,{className:"w-4 h-4"}),E.importJson,p.jsx("input",{type:"file",accept:".json",onChange:M,className:"hidden"})]}),p.jsxs("button",{onClick:w,className:"col-span-1 sm:col-span-2 mt-2 text-sm text-emerald-400 hover:text-emerald-200 flex items-center justify-center gap-2 font-medium py-2",children:[p.jsx(pu,{className:"w-3 h-3"}),E.demo]})]})]}),p.jsx("div",{className:"relative hidden lg:block transform perspective-1000 hover:rotate-y-2 transition-transform duration-700",children:p.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-900/80 to-teal-900/80 backdrop-blur-md border border-emerald-500/20 p-8 rounded-3xl shadow-2xl",children:[p.jsx("div",{className:"absolute -top-10 -right-10 text-emerald-400/10",children:p.jsx(Sg,{size:200})}),p.jsxs("div",{className:"flex items-center gap-3 mb-8 border-b border-emerald-500/20 pb-6",children:[p.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400/80"}),p.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400/80"}),p.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400/80"}),p.jsx("div",{className:"ml-auto text-xs text-amber-500/80 font-mono tracking-widest font-bold",children:"NOZES.IA-v2"})]}),p.jsx("div",{className:"space-y-6 opacity-90",children:p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("div",{className:"w-1/3 space-y-3",children:[p.jsx("div",{className:"h-2 bg-emerald-700/50 rounded w-1/2 mb-4"}),p.jsxs("div",{className:"h-10 bg-emerald-500/20 border-l-2 border-emerald-400 rounded-r flex items-center px-3 text-emerald-200 text-xs gap-2",children:[p.jsx(cu,{size:12})," Folhas"]}),p.jsx("div",{className:"h-10 bg-emerald-900/30 rounded flex items-center px-3 text-emerald-600/50 text-xs",children:"Flores"}),p.jsx("div",{className:"h-10 bg-emerald-900/30 rounded flex items-center px-3 text-emerald-600/50 text-xs",children:"Caule"})]}),p.jsx("div",{className:"w-2/3 grid grid-cols-2 gap-3",children:[1,2,3,4].map(A=>p.jsxs("div",{className:"bg-emerald-950/50 rounded-lg p-3 border border-emerald-500/10 flex flex-col gap-2",children:[p.jsx("div",{className:"aspect-video bg-emerald-900/50 rounded flex items-center justify-center",children:p.jsx(yg,{className:"text-emerald-700/50",size:20})}),p.jsx("div",{className:"h-1.5 bg-emerald-800/50 rounded w-3/4"}),p.jsx("div",{className:"h-1.5 bg-emerald-800/30 rounded w-1/2"})]},A))})]})}),p.jsxs("div",{className:"mt-8 pt-6 border-t border-emerald-500/20 flex justify-between items-center text-emerald-400/40 text-xs",children:[p.jsx("span",{children:"Gemini 2.5 Flash Integrated"}),p.jsx("span",{children:"100% Client-Side"})]})]})})]}),f&&p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in-95",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[p.jsx(hu,{className:"text-emerald-600",size:20}),E.settings]}),p.jsx("button",{onClick:()=>m(!1),className:"text-slate-400 hover:text-slate-600 p-2",children:p.jsx(mt,{size:24})})]}),p.jsxs("div",{className:"space-y-4 mb-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("label",{className:"block text-sm font-semibold text-slate-700",children:E.apiKey}),p.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-xs font-medium text-emerald-600 hover:text-emerald-700 hover:underline flex items-center gap-1",children:[E.getKey," ",p.jsx(Bl,{size:12})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx(wg,{className:"absolute left-3 top-2.5 text-slate-400",size:16}),p.jsx("input",{type:"password",value:I,onChange:A=>x(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none",placeholder:"AIzaSy..."})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:E.aiModel}),p.jsx("input",{value:C,onChange:A=>T(A.target.value),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none",placeholder:"gemini-2.5-flash"}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Default: gemini-2.5-flash"})]}),p.jsx("div",{className:"bg-amber-50 p-3 rounded-lg border border-amber-100",children:p.jsx("p",{className:"text-xs text-amber-700",children:E.apiKeyNotice})})]}),p.jsxs("button",{onClick:v,className:"w-full py-3 bg-emerald-600 text-white rounded-xl font-bold hover:bg-emerald-500 transition-colors flex items-center justify-center gap-2",children:[p.jsx(vr,{size:16})," ",E.save]})]})}),h&&p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-0 overflow-hidden animate-in fade-in zoom-in-95 flex flex-col max-h-[85vh]",children:[p.jsxs("div",{className:"p-4 md:p-6 border-b flex justify-between items-center bg-slate-50",children:[p.jsxs("h3",{className:"text-lg md:text-xl font-bold text-slate-800 flex items-center gap-2",children:[p.jsx(rp,{className:"text-emerald-600",size:24}),E.help]}),p.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-slate-600 p-2",children:p.jsx(mt,{size:24})})]}),p.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto custom-scrollbar space-y-6 md:space-y-8",children:[p.jsx("div",{className:"bg-emerald-50 p-4 rounded-xl border border-emerald-100 text-slate-700 leading-relaxed text-sm md:text-base",children:E.helpContent.intro}),p.jsxs("div",{className:"grid gap-6",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"bg-amber-100 p-3 rounded-full h-fit text-amber-600 shrink-0",children:p.jsx(go,{size:24})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-900 text-base md:text-lg mb-1",children:E.helpContent.step1Title}),p.jsx("p",{className:"text-slate-600 text-xs md:text-sm leading-relaxed",children:E.helpContent.step1Desc})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"bg-blue-100 p-3 rounded-full h-fit text-blue-600 shrink-0",children:p.jsx(du,{size:24})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-900 text-base md:text-lg mb-1",children:E.helpContent.step2Title}),p.jsx("p",{className:"text-slate-600 text-xs md:text-sm leading-relaxed",children:E.helpContent.step2Desc})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"bg-emerald-100 p-3 rounded-full h-fit text-emerald-600 shrink-0",children:p.jsx(pu,{size:24})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-900 text-base md:text-lg mb-1",children:E.helpContent.step3Title}),p.jsx("p",{className:"text-slate-600 text-xs md:text-sm leading-relaxed",children:E.helpContent.step3Desc})]})]})]})]}),p.jsx("div",{className:"p-4 bg-slate-50 border-t",children:p.jsx("button",{onClick:()=>y(!1),className:"w-full py-3 bg-emerald-600 text-white rounded-xl font-bold hover:bg-emerald-500 transition-colors",children:E.close})})]})}),d&&p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in-95",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[p.jsx(yo,{className:"text-emerald-600",size:20}),E.openSaved]}),p.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-600 p-1",children:p.jsx(mt,{size:20})})]}),p.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto mb-4 custom-scrollbar",children:l.length===0?p.jsx("p",{className:"text-slate-500 text-sm text-center py-8 border-2 border-dashed border-slate-200 rounded-lg",children:E.noSaved}):l.map(A=>p.jsxs("button",{onClick:()=>R(A),className:"w-full text-left p-3 hover:bg-emerald-50 rounded-lg border border-slate-100 hover:border-emerald-200 group transition-all",children:[p.jsx("div",{className:"font-medium text-slate-800 group-hover:text-emerald-700",children:A.name}),p.jsx("div",{className:"text-xs text-slate-400 truncate",children:A.description||"No description"})]},A.id))}),p.jsx("button",{onClick:()=>c(!1),className:"w-full py-3 bg-slate-100 text-slate-600 rounded-xl font-medium hover:bg-slate-200 transition-colors",children:E.close})]})})]})},Fp=document.getElementById("root");if(!Fp)throw new Error("Could not find root element to mount to");const yT=$i.createRoot(Fp);yT.render(p.jsx(Zd.StrictMode,{children:p.jsx(gT,{})}));
